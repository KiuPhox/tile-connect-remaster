function _instanceof(r,l){if(null!=l&&"undefined"!=typeof Symbol&&l[Symbol.hasInstance])return!!l[Symbol.hasInstance](r);return r instanceof l}function _type_of(r){return r&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r}function _ts_generator(r,l){var c,E,_,d,f={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return d={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function verb(r){return function(l){return step([r,l])}}function step(d){if(c)throw new TypeError("Generator is already executing.");while(f)try{if(c=1,E&&(_=2&d[0]?E.return:d[0]?E.throw||((_=E.return)&&_.call(E),0):E.next)&&!(_=_.call(E,d[1])).done)return _;if(E=0,_)d=[2&d[0],_.value];switch(d[0]){case 0:case 1:_=d;break;case 4:f.label++;return{value:d[1],done:false};case 5:f.label++;E=d[1];d=[0];continue;case 7:d=f.ops.pop();f.trys.pop();continue;default:if(_=f.trys,!(_=_.length>0&&_[_.length-1])&&(6===d[0]||2===d[0])){f=0;continue}if(3===d[0]&&(!_||d[1]>_[0]&&d[1]<_[3])){f.label=d[1];break}if(6===d[0]&&f.label<_[1]){f.label=_[1];_=d;break}if(_&&f.label<_[2]){f.label=_[2];f.ops.push(d);break}if(_[2])f.ops.pop();f.trys.pop();continue}d=l.call(r,f)}catch(r){d=[6,r];E=0}finally{c=_=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:true}}}System.register([],function(r,l){return{execute:function(){System.register("chunks:///renderCustomShareScore-02a4eb22.js",["cc"],function(r){var l,c,E,_,d,f,T,p,h,A,S,v,I,y,m,R,L,g,N,O,b,F,C,G,V,M,en,er,ei,ea,eo,es,eu,el;return{setters:[function(r){l=r.cclegacy,c=r.AudioSource,E=r.resources,_=r.AudioClip,d=r._decorator,f=r.CCString,T=r.director,p=r.Component,h=r.tween,A=r.Animation,S=r.isCCObject,v=r.ccenum,I=r.find,y=r.Font,m=r.Prefab,R=r.JsonAsset,L=r.AnimationClip,g=r.ImageAsset,N=r.SpriteFrame,O=r.UITransform,b=r.view,F=r.screen,C=r.math,G=r.Enum,V=r.Label,M=r.Sprite,en=r.game,er=r.ProgressBar,ei=r.UIOpacity,ea=r.instantiate,eo=r.View,es=r.Node,eu=r.Widget,el=r.Vec3}],execute:function(){function B(r,l){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(r);l&&(E=E.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),c.push.apply(c,E)}return c}function w(r){for(var l=1;l<arguments.length;l++){var c=null!=arguments[l]?arguments[l]:{};l%2?B(Object(c),!0).forEach(function(l){H(r,l,c[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):B(Object(c)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(c,l))})}return r}function P(r,l,c,E,_,d,f){try{var T=r[d](f),p=T.value}catch(r){return void c(r)}T.done?l(p):Promise.resolve(p).then(E,_)}function U(r){return function(){var l=this,c=arguments;return new Promise(function(E,_){var d=r.apply(l,c);function o(r){P(d,E,_,o,u,"next",r)}function u(r){P(d,E,_,o,u,"throw",r)}o(void 0)})}}function k(r,l){if(!_instanceof(r,l))throw new TypeError("Cannot call a class as a function")}function D(r,l){for(var c=0;c<l.length;c++){var E=l[c];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(r,oe(E.key),E)}}function W(r,l,c){return l&&D(r.prototype,l),c&&D(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}function H(r,l,c){return(l=oe(l))in r?Object.defineProperty(r,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[l]=c,r}function x(r,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(l&&l.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),l&&K(r,l)}function z(l){return(z=r("j",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)}))(l)}function K(r,l){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,l){return r.__proto__=l,r})(r,l)}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function j(){return(j=Y()?r("B",Reflect.construct.bind()):r("B",function(r,l,c){var E=[null];E.push.apply(E,l);var _=new(Function.bind.apply(r,E));return c&&K(_,c.prototype),_})).apply(null,arguments)}function q(l){var c="function"==typeof Map?new Map:void 0;return(q=r("v",function(r){if(null===r||(l=r,-1===Function.toString.call(l).indexOf("[native code]")))return r;var l;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==c){if(c.has(r))return c.get(r);c.set(r,i)}function i(){return j(r,arguments,z(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),K(i,r)}))(l)}function Z(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function J(r,l){if(l&&("object"==(void 0===l?"undefined":_type_of(l))||"function"==typeof l))return l;if(void 0!==l)throw new TypeError("Derived constructors may only return object or undefined");return Z(r)}function Q(r){var l=Y();return function(){var c,E=z(r);if(l){var _=z(this).constructor;c=Reflect.construct(E,arguments,_)}else c=E.apply(this,arguments);return J(this,c)}}function X(r,l){for(;!Object.prototype.hasOwnProperty.call(r,l)&&null!==(r=z(r)););return r}function $(){return($="undefined"!=typeof Reflect&&Reflect.get?r("i",Reflect.get.bind()):r("i",function(r,l,c){var E=X(r,l);if(E){var _=Object.getOwnPropertyDescriptor(E,l);return _.get?_.get.call(arguments.length<3?r:c):_.value}})).apply(this,arguments)}function ee(r,l,c,E){return(ee="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(r,l,c,E){var _,d=X(r,l);if(d){if((_=Object.getOwnPropertyDescriptor(d,l)).set)return _.set.call(E,c),!0;if(!_.writable)return!1}if(_=Object.getOwnPropertyDescriptor(E,l)){if(!_.writable)return!1;_.value=c,Object.defineProperty(E,l,_)}else H(E,l,c);return!0})(r,l,c,E)}function te(r,l){return function(r){if(Array.isArray(r))return r}(r)||function(r,l){var c=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=c){var E,_,d,f,T=[],p=!0,h=!1;try{if(d=(c=c.call(r)).next,0===l){if(Object(c)!==c)return;p=!1}else for(;!(p=(E=d.call(c)).done)&&(T.push(E.value),T.length!==l);p=!0);}catch(r){h=!0,_=r}finally{try{if(!p&&null!=c.return&&(f=c.return(),Object(f)!==f))return}finally{if(h)throw _}}return T}}(r,l)||ie(r,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(r){return function(r){if(Array.isArray(r))return ae(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||ie(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(r,l){if(r){if("string"==typeof r)return ae(r,l);var c=Object.prototype.toString.call(r).slice(8,-1);return"Object"===c&&r.constructor&&(c=r.constructor.name),"Map"===c||"Set"===c?Array.from(r):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?ae(r,l):void 0}}function ae(r,l){(null==l||l>r.length)&&(l=r.length);for(var c=0,E=new Array(l);c<l;c++)E[c]=r[c];return E}function re(r,l){var c="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!c){if(Array.isArray(r)||(c=ie(r))||l&&r&&"number"==typeof r.length){c&&(r=c);var E=0,a=function(){};return{s:a,n:function(){return E>=r.length?{done:!0}:{done:!1,value:r[E++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,d=!0,f=!1;return{s:function(){c=c.call(r)},n:function(){var r=c.next();return d=r.done,r},e:function(r){f=!0,_=r},f:function(){try{d||null==c.return||c.return()}finally{if(f)throw _}}}}function oe(r){var l=function(r,l){if("object"!=(void 0===r?"undefined":_type_of(r))||null===r)return r;var c=r[Symbol.toPrimitive];if(void 0!==c){var E=c.call(r,l||"default");if("object"!=(void 0===E?"undefined":_type_of(E)))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(r)}(r,"string");return"symbol"==(void 0===l?"undefined":_type_of(l))?l:String(l)}function ue(r,l,c,E){c&&Object.defineProperty(r,l,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(E):void 0})}function se(r,l,c,E,_){var d={};return Object.keys(E).forEach(function(r){d[r]=E[r]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=c.slice().reverse().reduce(function(c,E){return E(r,l,c)||c},d),_&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(_):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(r,l,d),d=null),d}r({B:j,_:se,a:x,b:Q,c:k,d:ue,e:Z,f:W,g:w,h:re,i:$,j:z,k:U,n:function(r,l,c,E,_){if(!ee(r,l,c,E||r)&&_)throw new TypeError("failed to set property");return c},t:ne,u:H,v:q,w:te}),l._RF.push({},"cc0a5OvhdRCMZRZuRscaz+7","AudioPlayer",void 0);var ec=function(r){x(i,r);var l=Q(i);function i(r,c){var E;return k(this,i),(E=l.call(this,r)).audioSource=c,E}return W(i,[{key:"play",value:function(r){if(r){var l=r.volume,c=void 0===l?1:l,E=r.loop,_=void 0!==E&&E;this.audioSource.volume=c,this.audioSource.loop=_}this.audioSource.play()}},{key:"pause",value:function(){this.audioSource.pause()}},{key:"resume",value:function(){this.audioSource.state===c.AudioState.PAUSED&&this.audioSource.play()}},{key:"stop",value:function(){this.audioSource.stop()}},{key:"setVolume",value:function(r){this.audioSource.volume=r}},{key:"getVolume",value:function(){return this.audioSource.volume}},{key:"getAudioSource",value:function(){return this.audioSource}}]),i}(GameCore.Plugins.Audio.BaseAudioPlayer);l._RF.pop(),l._RF.push({},"8b5ecHv/+BJiorK1kiVbTcf","AudioChannel",void 0);var eE=GameCore,e_=eE.Plugins.Audio.BaseChannelManager,ed=eE.Utils.Array,ef=function(r){x(o,r);var l,d=Q(o);function o(r,l){var E;return k(this,o),(E=d.call(this,l)).allowMultipleTracking={},E.handleLoadedAudio=function(r,l){var _=E.node.addComponent(c);return _.clip=l,_.playOnAwake=!1,new ec(r,_)},E.node=r,E}return W(o,[{key:"playing",value:function(r){var l,E=null===(l=this.getAudioClip(r))||void 0===l?void 0:l.audioPlayer;return!!E&&E.getAudioSource().state===c.AudioState.PLAYING}},{key:"onLoadAudio",value:(l=U(function(r,l){var c;return _ts_generator(this,function(l){c=this;return[2,new Promise(function(l,d){E.load(r,_,function(E,_){try{if(E)throw new Error(E.message);if(!c.node.isValid)return;var f=c.handleLoadedAudio(r,_);l(f)}catch(r){_instanceof(r,Error)?d(r):d(new Error("Audio load: Unknown error"))}})})]})}),function(r,c){return l.apply(this,arguments)})},{key:"playWithRealConfig",value:function(r,l){if(this.isCanPlay(l)){if(l){var c=l.volume,E=void 0===c?1:c,_=l.allowMultiple,d=void 0!==_&&_;if(l.volume=this.getVolume()*E,d){var f=r.getAudioSource().clip;if(!f)return;return void this.requestDuplicateAudioPlayer(r.getKey(),f,l).play(l)}}r.play(l)}}},{key:"isCanPlay",value:function(r){var l=this;if(r){var E=r.checkList;if((void 0===E?[]:E).some(function(r){var E=l.getAudioClip(r);return!!E&&E.audioPlayer.getAudioSource().state===c.AudioState.PLAYING}))return!1}return!0}},{key:"requestDuplicateAudioPlayer",value:function(r,l,c){var E=this.getDuplicateAudioFromPool(r);if(E){if(c){var _=E.key,d=c.volume,f=void 0===d?1:d;this.setAudioClip(_,{volume:f})}return E.audioPlayer}var T="".concat(r,"_").concat(this.allowMultipleTracking[r].currentPostFix),p=this.handleLoadedAudio(T,l);return this.allowMultipleTracking[r].list.push({audioPlayer:p,key:T}),this.allowMultipleTracking[r].currentPostFix+=1,this.setAudioClip(T,{audioPlayer:p,volume:1}),p}},{key:"getDuplicateAudioFromPool",value:function(r){if(this.allowMultipleTracking[r]){var l=this.allowMultipleTracking[r].list,E=ed.search(l,function(r){return r.audioPlayer.getAudioSource().state!==c.AudioState.PLAYING});if(E)return E}else this.allowMultipleTracking[r]={currentPostFix:1,list:[]};return null}}]),o}(e_);l._RF.pop();var eT,ep,eh,eA,eS,ev=r("E",!1);r("a0",!0);l._RF.push({},"1a025mmN7BL7r5cF6gWR4b/","Music",void 0);var eI,ey,em,eR,eL,eg=d.ccclass,eN=d.property,eO=globalThis.game,eb=eO.audio,eF=eO.player,eC=(eT=eg("Music"),ep=eN(f),eT((eS=se((eA=function(r){x(n,r);var l=Q(n);function n(){var r;k(this,n);for(var c=arguments.length,E=new Array(c),_=0;_<c;_++)E[_]=arguments[_];return ue(r=l.call.apply(l,[this].concat(E)),"channelId",eS,Z(r)),r.channel=null,r.isMute=!1,r.volume=1,r}return W(n,[{key:"__preload",value:function(){this.makePersistent(),this.channel=new ef(this.node,this.channelId),eb.addChannel(this.channel)}},{key:"makePersistent",value:function(){T.addPersistRootNode(this.node)}},{key:"playing",value:function(r){var l,c;return null!==(l=null===(c=this.channel)||void 0===c?void 0:c.playing(r))&&void 0!==l&&l}},{key:"play",value:function(r,l){if(!this.isMusicEnable())return Promise.resolve();var c=null!=l?l:{};return c.loop||(c.loop=!0),eb.play(r,c,this.channelId)}},{key:"isMusicEnable",value:function(){return!!eF.getPlayerSetting("music")}},{key:"setVolume",value:function(r){this.volume=r,this.isMute||eb.setVolume(r,this.channelId)}},{key:"getVolume",value:function(){return eb.getVolume(this.channelId)}},{key:"pause",value:function(r){eb.pause(r,this.channelId)}},{key:"resume",value:function(r){this.isMusicEnable()&&eb.resume(r,this.channelId)}},{key:"stop",value:function(r){eb.stop(r,this.channelId)}},{key:"mute",value:function(r){this.isMute=r,r?eb.mute(this.channelId):(this.setVolume(this.volume),eb.unmute(this.channelId))}}]),n}(p)).prototype,"channelId",[ep],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"global_music"}}),eh=eA))||eh);l._RF.pop(),l._RF.push({},"1299a7X1XNNEKxSKMV6E5jQ","Sound",void 0);var eG=d.ccclass,eV=d.property,ew=globalThis.game,eM=ew.audio,eH=ew.player,eB=r("P",(eI=eG("Sound"),ey=eV(f),eI((eL=se((eR=function(r){x(n,r);var l=Q(n);function n(){var r;k(this,n);for(var c=arguments.length,E=new Array(c),_=0;_<c;_++)E[_]=arguments[_];return ue(r=l.call.apply(l,[this].concat(E)),"channelId",eL,Z(r)),r.channel=null,r}return W(n,[{key:"__preload",value:function(){this.channel=new ef(this.node,this.channelId),eM.addChannel(this.channel)}},{key:"onLoad",value:function(){""===this.channelId&&(this.channelId=this.node.uuid)}},{key:"makePersistent",value:function(){T.addPersistRootNode(this.node)}},{key:"removePersistent",value:function(){T.removePersistRootNode(this.node)}},{key:"play",value:function(r,l){return this.isSoundEnable()?eM.play(r,l,this.channelId):Promise.resolve()}},{key:"isSoundEnable",value:function(){return!!eH.getPlayerSetting("sound")}},{key:"setVolume",value:function(r){eM.setVolume(r,this.channelId)}},{key:"pause",value:function(r){eM.pause(r,this.channelId)}},{key:"resume",value:function(r){this.isSoundEnable()&&eM.resume(r,this.channelId)}},{key:"stop",value:function(r){eM.stop(r,this.channelId)}},{key:"stopAll",value:function(){eM.stopAll(this.channelId)}},{key:"mute",value:function(r){r?eM.mute(this.channelId):eM.unmute(this.channelId)}}]),n}(p)).prototype,"channelId",[ey],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),em=eR))||em));l._RF.pop(),l._RF.push({},"99b8eEF6WlE8pzPfD+whiJu","AnimUtils",void 0);var eP=r("A",function(){function e(){k(this,e)}return W(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"elasticOut",value:function(r,l,c){var E=l||.1,_=c||.1;if(0===r)return 0;if(1===r)return 1;var d=_/4;return E<1?E=1:d=_*Math.asin(1/E)/(2*Math.PI),E*Math.pow(2,-10*r)*Math.sin(2*Math.PI*(r-d)/_)+1}},{key:"expoOut",value:function(r){return 1===r?1:1-Math.pow(2,-10*r)}},{key:"expoIn",value:function(r){return 0===r?0:Math.pow(2,10*r-10)}},{key:"runTweenAsync",value:function(r,l){return new Promise(function(c){var E=r.call(function(){c({tween:r})}).start();l&&(l.aborted?(E.stop(),c({tween:r})):l.addAbortListener(function(){E.stop(),c({tween:r})}))})}},{key:"runOnUpdateAsync",value:function(r,l,c,E){return new Promise(function(_,d){var f=h(r).to(l,{},{onUpdate:function(r,l){if(void 0!==l)try{c(l)}catch(r){d(_instanceof(r,Error)?r:new Error(JSON.stringify(r)))}}}).call(function(){_({tween:f})}).start();E&&(E.aborted?(f.stop(),_({tween:f})):E.addAbortListener(function(){f.stop(),_({tween:f})}))})}},{key:"waitTweenAsync",value:function(r,l){return new Promise(function(c){var E=h({});E.delay(r),E.call(function(){c()}),E.start(),l&&(l.aborted?(E.stop(),c()):l.addAbortListener(function(){E.stop(),c()}))})}},{key:"runAnimationAsync",value:function(r,l,c){return void 0===c?new Promise(function(c){r.play(l),r.once(A.EventType.FINISHED,c)}):c.aborted?Promise.resolve():new Promise(function(E){c.addAbortListener(function(){r.off(A.EventType.FINISHED,E),r.stop(),E()}),r.play(l),r.once(A.EventType.FINISHED,E)})}}]),e}());l._RF.pop(),l._RF.push({},"a0756pde9lOeoJ4TckTOcMV","AnimAbortSignal",void 0);var eU=GameCore.Utils.Array,ek=r("l",function(){function e(){k(this,e),this.callbacks=[],this.isAborted=!1,this.abortReason="",this.callbacks=[]}var r;return W(e,[{key:"aborted",get:function(){return this.isAborted}},{key:"reason",get:function(){return this.abortReason}},{key:"addAbortListener",value:function(r){this.callbacks.push(r)}},{key:"removeAbortListener",value:function(r){var l=eU.searchIndex(this.callbacks,function(l){return l===r});-1!==l?this.callbacks.splice(l,1):console.warn("Abort listener not found")}},{key:"abort",value:function(r){if(!this.isAborted){this.isAborted=!0,this.abortReason=r;var l,c=re(this.callbacks);try{for(c.s();!(l=c.n()).done;){var E=l.value;"function"==typeof E&&E()}}catch(r){c.e(r)}finally{c.f()}this.callbacks=[]}}},{key:"untilAborted",value:(r=U(function(){var r;return _ts_generator(this,function(l){r=this;if(!this.isAborted)return[2,new Promise(function(l){r.addAbortListener(function(){return l()})})];return[2]})}),function(){return r.apply(this,arguments)})},{key:"call",value:function(r){this.aborted||r(this)}},{key:"callAsync",value:function(r){return this.aborted?Promise.resolve():r(this)}},{key:"chain",value:function(r){var l=this;_instanceof(r,e)?r.addAbortListener(function(){return l.abort()}):r.addEventListener("abort",function(){return l.abort()})}}],[{key:"hasBeenAborted",value:function(r){return null==r||r.aborted}}]),e}());function De(r,l,c){var E=c.value;c.value=function(){if(this.enabledInHierarchy){for(var r=arguments.length,c=new Array(r),_=0;_<r;_++)c[_]=arguments[_];return null==E?void 0:E.apply(this,c)}console.info("Skipping method call ".concat(String(l)," because component ").concat(this.constructor.name," is not enabled in hierarchy"))}}function We(r,l,c){var E=c.value,_=function(){var r=U(function(){var r,c,_;var d=arguments;return _ts_generator(this,function(f){switch(f.label){case 0:if(!this.enabledInHierarchy)return[3,2];for(r=d.length,c=new Array(r),_=0;_<r;_++)c[_]=d[_];return[4,null==E?void 0:E.apply(this,c)];case 1:return[2,f.sent()];case 2:return[2,(console.info("Skipping method call ".concat(String(l)," because component ").concat(this.constructor.name," is not enabled in hierarchy")),Promise.resolve())]}})});return function(){return r.apply(this,arguments)}}();c.value=_}l._RF.pop(),l._RF.push({},"147a4TjOC9PMpdhlBiKEn54","onlyRunInLifeCycle",void 0),l._RF.pop(),l._RF.push({},"6944aqu6zZOGIj+df3KBDrm","onlyRunInLifeCycleAsync",void 0),l._RF.pop(),l._RF.push({},"99384AdWHlKDIyVvCAqSwJE","index",void 0),l._RF.pop(),l._RF.push({},"09236E0KzVAqotP4Yn9R+4m","MissingPropertiesError",void 0);var eD=function(r){x(n,r);var l=Q(n);function n(r,c){var E;return k(this,n),(E=l.call(this,"".concat(r," is missing these required properties: [").concat(c.map(function(r){return r.propertyName}).join(", "),"]"))).className=r,E.errors=c,E}return W(n)}(q(Error));l._RF.pop(),l._RF.push({},"4ce5394i3hCZoi5cZm0Vn2l","MissingPropertyError",void 0);var eW=function(r){x(n,r);var l=Q(n);function n(r,c){var E;return k(this,n),(E=l.call(this,"".concat(r," is missing the required property: <").concat(c,">"))).className=r,E.propertyName=c,E}return W(n)}(q(Error));l._RF.pop(),l._RF.push({},"a2990W72mRAYaItrPHe4H5V","required",void 0);var ex=GameCore.Utils,ez=ex.String,eK=ex.Valid,eY=globalThis.game.monitorError,ej="_compUtils_ReqPropsMap";function Ze(r){return null===r}function Je(r){return void 0===r}function Qe(r){return Ze(r)||Je(r)}function Xe(r){if("function"==typeof r)return r;switch(r){case"null-check":return Ze;case"undefined-check":return Je;default:return Qe}}function $e(r){return function(l,c){if("function"==typeof l)throw new Error("The required decorator can only be applied to non-static class properties.");var E,_=l.constructor.name,d=(E=c,"".concat("_compUtils_ReqPropsMethod","_").concat(ez.capitalize(E)));if(void 0!==l[d])throw new Error("The required decorator found that property name ".concat(d," already exists. The reserved method name ").concat(d," is used already or the decorator was applied multiple times."));l[d]=function(l){if(r(this[c]))throw new eW(l,c)},void 0===l[ej]&&(l[ej]={}),void 0===l[ej][_]&&(l[ej][_]=[]),l[ej][_].push(d)}}function et(r,l){if("string"!=typeof l)return $e(Xe(r));var c=r;$e(Xe())(c,l)}l._RF.pop(),l._RF.push({},"75e1e0Ei7ZOOr/FzyprYnVJ","index",void 0),l._RF.pop(),l._RF.push({},"95972yG/ulEg4gycbc+QB5Y","ComponentUtils",void 0);var eq=GameCore.Utils,eZ=eq.Array,eJ=eq.Object,eQ=eq.Valid,eX=["cc.Mask","cc.Label","cc.Canvas","cc.Camera","cc.Layout","cc.Button","cc.Sprite","cc.Widget","cc.Renderer","cc.Animation","cc.UIOpacity"],e$=r("C",function(){function e(){k(this,e),this.validComponentCalled={}}return W(e,[{key:"validateRequiredComponents",value:function(r){var l,c=r.name,E=r.constructor,_=re(this.getRequiredComponentNames(E));try{for(_.s();!(l=_.n()).done;){var d=l.value;if(!r.getComponent(d))throw new Error("".concat(c,": Missing required ").concat(d," component"))}}catch(r){_.e(r)}finally{_.f()}}},{key:"validateRequiredProperties",value:function(r){var l,c=r.name,E=r.constructor,_=re(this.getRequiredPropNames(E));try{for(_.s();!(l=_.n()).done;){var d=l.value;if(!eJ.hasOwn(r,d))throw new Error("".concat(c,": Missing required ").concat(d," property"));var f=this.getProperty(d,r);if(!S(f))throw new Error("".concat(c,": ").concat(d," property is not a cc object"))}}catch(r){_.e(r)}finally{_.f()}}},{key:"validateCustomProperties",value:function(r){var l,c=r.name,E=re(this.getCustomPropNames(r));try{for(E.s();!(l=E.n()).done;){var _=l.value;if(!eJ.hasOwn(r,_))throw new Error("".concat(c,": Missing required ").concat(_," property"));var d=this.getProperty(_,r);if(!S(d))throw new Error("".concat(c,": ").concat(_," property is not a cc object"))}}catch(r){E.e(r)}finally{E.f()}}},{key:"getProperty",value:function(r,l){var c;if(eJ.hasOwn(l,r))return(null!==(c=Object.getOwnPropertyDescriptor(l,r))&&void 0!==c?c:{}).value}},{key:"getProps",value:function(r){if(!eJ.hasOwn(r,"__props__"))return[];var l=r.__props__;return Array.isArray(l)?l:[]}},{key:"getRequiredPropNames",value:function(r){return this.getProps(r).filter(function(l){return"node"!==l&&!!eJ.hasOwn(r,l)&&!!S(r[l])&&!l.startsWith("_")})}},{key:"getBaseComponentName",value:function(r){for(var l=0,c=eX;l<c.length;l++){var E=c[l];if(E.indexOf(r)>=0)return E}return r}},{key:"getRequiredComponentNames",value:function(r){var l=this;if(!eJ.hasOwn(r,"_requireComponent"))return[];var c=r._requireComponent;return Array.isArray(c)?c.map(function(r){return l.getBaseComponentName(r)}):[]}},{key:"getCustomPropNames",value:function(r){var l=this,c=Object.keys(r),E=this.getProps(r.constructor);return eZ.difference(c,E).filter(function(r){return r.indexOf("_")<0}).filter(function(c){if(!eJ.hasOwn(r,c))return!1;var E=l.getProperty(c,r);return!(!eQ.isObject(E)||!S(E))})}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"required",value:function(r,l){return"string"==typeof l?et(r,l):et(r)}},{key:"validateRequiredProperties",value:function(r,l){!function(r,l){var c,E=l?l.name:r.constructor.name,_=l?l.prototype[ej]:r.constructor.prototype[ej],d=null!==(c=null==_?void 0:_[E])&&void 0!==c?c:[],f=[],T=r;for(var p in d)if("function"==typeof T[p])try{T[p](E)}catch(r){if(!_instanceof(r,eW))throw r;f.push(r)}if(0!==f.length){var h=new eD(E,f);if(eK.isDebugger())throw h;console.error(h),null==eY||eY.sendException(h)}}(r,l)}},{key:"lazyValidateProperties",value:function(r,l){var c=!(arguments.length>1&&void 0!==l)||l;if(c){var E=r.constructor,_=E.name;if(!this.inst.validComponentCalled[_])try{this.inst.validateRequiredComponents(r),this.inst.validateRequiredProperties(r),this.inst.validateCustomProperties(r)}catch(l){r.enabled=!1,console.error(l)}finally{this.inst.validComponentCalled[_]=!0}}}}]),e}());e$.onlyRunInLifeCycle=function(){return De.apply(void 0,arguments)},e$.onlyRunInLifeCycleAsync=function(){return We.apply(void 0,arguments)},l._RF.pop(),l._RF.push({},"725f8u/lDtFbY1DMY0uJSL9","Locales",void 0);var e0={en:"fonts/mikado-bold",ru:"fonts/nunito-black"},e1=r("L",{en:"locales/en/en",ru:"locales/ru/ru"}),e2={en:"104px",ru:"96px"};l._RF.pop(),l._RF.push({},"a6e4bjV/RVH17qBEx1mZaFg","ResourcePaths",void 0);var e4=r("R",function(r){return r.BOMB_RESCUE_PREFAB="game-objects/bomb/BombRescue",r.BOMB_EXPLODE_PREFAB="game-objects/bomb/BombExplode",r.BOMB_DEFUSE_PREFAB="game-objects/bomb/DefuseExplode",r.CLEAR_EXPLOSION_PREFAB="game-objects/clear-explosion/ClearExplosion",r.TILE_CLEAR_ANIM="animations/TileClear",r.TILE_SHAKE_ANIM="animations/TileShake",r.TILE_SKIN_FOLDER="loadable/tiles",r.TILE_SKIN_PREVIEW_FOLDER="loadable/tiles-preview",r.ITEM_POPUP_FOLDER="loadable/item-popup",r.SUMMER_BG="images/bg/summer",r.AUTUMN_BG="images/bg/autumn",r.WINTER_BG="images/bg/winter",r.FLOWER_FIELD_BG="images/bg/flower-field",r.TREE_PLANTING_FESTIVAL_BG="images/bg/tree-planting-festival",r.MUSIC_FESTIVAL_BG="images/bg/music-festival",r.HARVEST_FESTIVAL_BG="images/bg/harvest-festival",r.FOOD_FESTIVAL_BG="images/bg/food-festival",r.LIGHT_FESTIVAL_BG="images/bg/light-festival",r.PEACE_FESTIVAL_BG="images/bg/peace-festival",r.FLOWER_FESTIVAL_BG="images/bg/flower-festival",r.STREET_FESTIVAL_BG="images/bg/street-festival",r.COLOR_GARDEN_BG="images/bg/color-garden",r.COLOR_FESTIVAL_BG="images/bg/color-festival",r.NATURE_SUMMER_BG="images/bg/nature-summer",r.SNOW_MOUNTAIN_BG="images/bg/snow-mountain",r.ICE_FESTIVAL_BG="images/bg/ice-festival",r.NIGHT_FESTIVAL_BG="images/bg/night-festival",r.LOST_FESTIVAL_BG="images/bg/lost-festival",r.HALLOWEEN_BG="images/bg/halloween",r.CHRISTMAS_BG="images/bg/christmas",r.SPRING_FLOWER_FESTIVAL_BG="images/bg/spring-flower-festival",r.TET_HOLIDAY_BG="images/bg/tet-holiday",r.SEA_FESTIVAL_BG="images/bg/sea-festival",r.FIREWORK_FESTIVAL_BG="images/bg/firework-festival",r.SUMMER_BG_PREVIEW="images/preview/summer",r.AUTUMN_BG_PREVIEW="images/preview/autumn",r.WINTER_BG_PREVIEW="images/preview/winter",r.FLOWER_FIELD_BG_PREVIEW="images/preview/flower-field",r.TREE_PLANTING_FESTIVAL_BG_PREVIEW="images/preview/tree-planting-festival",r.MUSIC_FESTIVAL_BG_PREVIEW="images/preview/music-festival",r.HARVEST_FESTIVAL_BG_PREVIEW="images/preview/harvest-festival",r.FOOD_FESTIVAL_BG_PREVIEW="images/preview/food-festival",r.LIGHT_FESTIVAL_BG_PREVIEW="images/preview/light-festival",r.PEACE_FESTIVAL_BG_PREVIEW="images/preview/peace-festival",r.FLOWER_FESTIVAL_BG_PREVIEW="images/preview/flower-festival",r.STREET_FESTIVAL_BG_PREVIEW="images/preview/street-festival",r.COLOR_GARDEN_BG_PREVIEW="images/preview/color-garden",r.COLOR_FESTIVAL_BG_PREVIEW="images/preview/color-festival",r.NATURE_SUMMER_BG_PREVIEW="images/preview/nature-summer",r.SNOW_MOUNTAIN_BG_PREVIEW="images/preview/snow-mountain",r.ICE_FESTIVAL_BG_PREVIEW="images/preview/ice-festival",r.NIGHT_FESTIVAL_BG_PREVIEW="images/preview/night-festival",r.LOST_FESTIVAL_BG_PREVIEW="images/preview/lost-festival",r.HALLOWEEN_BG_PREVIEW="images/preview/halloween",r.CHRISTMAS_BG_PREVIEW="images/preview/christmas",r.SPRING_FLOWER_FESTIVAL_BG_PREVIEW="images/preview/spring-flower-festival",r.TET_HOLIDAY_BG_PREVIEW="images/preview/tet-holiday",r.SEA_FESTIVAL_BG_PREVIEW="images/preview/sea-festival",r.FIREWORK_FESTIVAL_BG_PREVIEW="images/preview/firework-festival",r.SUMMER_BG_TOURNAMENT="images/tournament/summer",r.AUTUMN_BG_TOURNAMENT="images/tournament/autumn",r.WINTER_BG_TOURNAMENT="images/tournament/winter",r.FLOWER_FIELD_BG_TOURNAMENT="images/tournament/flower-field",r.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT="images/tournament/tree-planting-festival",r.MUSIC_FESTIVAL_BG_TOURNAMENT="images/tournament/music-festival",r.HARVEST_FESTIVAL_BG_TOURNAMENT="images/tournament/harvest-festival",r.FOOD_FESTIVAL_BG_TOURNAMENT="images/tournament/food-festival",r.LIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/light-festival",r.PEACE_FESTIVAL_BG_TOURNAMENT="images/tournament/peace-festival",r.FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/flower-festival",r.STREET_FESTIVAL_BG_TOURNAMENT="images/tournament/street-festival",r.COLOR_GARDEN_BG_TOURNAMENT="images/tournament/color-garden",r.COLOR_FESTIVAL_BG_TOURNAMENT="images/tournament/color-festival",r.NATURE_SUMMER_BG_TOURNAMENT="images/tournament/nature-summer",r.SNOW_MOUNTAIN_BG_TOURNAMENT="images/tournament/snow-mountain",r.ICE_FESTIVAL_BG_TOURNAMENT="images/tournament/ice-festival",r.NIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/night-festival",r.LOST_FESTIVAL_BG_TOURNAMENT="images/tournament/lost-festival",r.HALLOWEEN_BG_TOURNAMENT="images/tournament/halloween",r.CHRISTMAS_BG_TOURNAMENT="images/tournament/christmas",r.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/spring-flower-festival",r.TET_HOLIDAY_BG_TOURNAMENT="images/tournament/tet-holiday",r.SEA_FESTIVAL_BG_TOURNAMENT="images/tournament/sea-festival",r.FIREWORK_FESTIVAL_BG_TOURNAMENT="images/tournament/firework-festival",r.SUMMER_BG_THUMBNAIL="images/thumbnail/summer",r.AUTUMN_BG_THUMBNAIL="images/thumbnail/autumn",r.WINTER_BG_THUMBNAIL="images/thumbnail/winter",r.FLOWER_FIELD_BG_THUMBNAIL="images/thumbnail/flower-field",r.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL="images/thumbnail/tree-planting-festival",r.MUSIC_FESTIVAL_BG_THUMBNAIL="images/thumbnail/music-festival",r.HARVEST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/harvest-festival",r.FOOD_FESTIVAL_BG_THUMBNAIL="images/thumbnail/food-festival",r.LIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/light-festival",r.PEACE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/peace-festival",r.FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/flower-festival",r.STREET_FESTIVAL_BG_THUMBNAIL="images/thumbnail/street-festival",r.COLOR_GARDEN_BG_THUMBNAIL="images/thumbnail/color-garden",r.COLOR_FESTIVAL_BG_THUMBNAIL="images/thumbnail/color-festival",r.NATURE_SUMMER_BG_THUMBNAIL="images/thumbnail/nature-summer",r.SNOW_MOUNTAIN_BG_THUMBNAIL="images/thumbnail/snow-mountain",r.ICE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/ice-festival",r.NIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/night-festival",r.LOST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/lost-festival",r.HALLOWEEN_BG_THUMBNAIL="images/thumbnail/halloween",r.CHRISTMAS_BG_THUMBNAIL="images/thumbnail/christmas",r.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/spring-flower-festival",r.TET_HOLIDAY_BG_THUMBNAIL="images/thumbnail/tet-holiday",r.SEA_FESTIVAL_BG_THUMBNAIL="images/thumbnail/sea-festival",r.FIREWORK_FESTIVAL_BG_THUMBNAIL="images/thumbnail/firework-festival",r.COLLECTIONS_PAGE="pages/CollectionsContent",r.LEADERBOARD_PAGE="pages/LeaderboardContent",r.TOURNAMENTS_PAGE="pages/TournamentsContent",r.LEVEL_DATA_FOLDER="levels-json",r}(e4||{}));l._RF.pop(),l._RF.push({},"3f1dbbPrPVBy5lNYySV74Qq","ThemeKeys",void 0);var e3,e5,e7,e6,e9=r("H",{SUMMER:"summer",AUTUMN:"autumn",WINTER:"winter",SPRING_FESTIVAL:"spring-festival",TREE_PLANTING_FESTIVAL:"tree-planting-festival",BLUE_SEA_FESTIVAL:"blue-sea-festival",MUSIC_FESTIVAL:"music-festival",HARVEST_FESTIVAL:"harvest-festival",FOOD_FESTIVAL:"food-festival",SNOW_FESTIVAL:"snow-festival",LIGHT_FESTIVAL:"light-festival",PEACE_FESTIVAL:"peace-festival",FLOWER_FESTIVAL:"flower-festival",STREET_FESTIVAL:"street-festival",COLOR_GARDEN:"color-garden",COLOR_FESTIVAL:"color-festival",NATURE_SUMMER:"nature-summer",SNOW_MOUNTAIN:"snow-mountain",ICE_FESTIVAL:"ice-festival",GREEN_GRASS_FESTIVAL:"green-grass-festival",COMMUNITY_FESTIVAL:"community-festival",WATER_FESTIVAL:"water-festival",ANIMAL_FESTIVAL:"animal-festival",LOST_FESTIVAL:"lost-festival",HALLOWEEN_FESTIVAL:"halloween-festival",SNOW_MUSIC_FESTIVAL:"snow-music-festival",CHRISTMAS:"christmas",SPRING_FLOWER_FESTIVAL:"spring-flower-festival",TET_HOLIDAY:"tet-holiday",SEA_FESTIVAL:"sea-festival",FIREWORK_FESTIVAL:"firework-festival",HALLOWEEN_HORROR:"halloween-horror",MID_AUTUMN:"mid-autumn",CHRISTMAS_SWEET:"christmas-sweet",NEW_YEAR_COUNTDOWN:"new-year-countdown",HAPPY_NEW_YEAR:"happy-new-year"});v(e9),l._RF.pop(),l._RF.push({},"2a657+TsltMe4rrDmyWGrLy","ThemeResourcesPath",void 0);var e8=(H(e3={},e9.SUMMER,e4.SUMMER_BG),H(e3,e9.AUTUMN,e4.AUTUMN_BG),H(e3,e9.WINTER,e4.WINTER_BG),H(e3,e9.SPRING_FESTIVAL,e4.FLOWER_FIELD_BG),H(e3,e9.TREE_PLANTING_FESTIVAL,e4.TREE_PLANTING_FESTIVAL_BG),H(e3,e9.BLUE_SEA_FESTIVAL,e4.SEA_FESTIVAL_BG),H(e3,e9.MUSIC_FESTIVAL,e4.MUSIC_FESTIVAL_BG),H(e3,e9.HARVEST_FESTIVAL,e4.HARVEST_FESTIVAL_BG),H(e3,e9.FOOD_FESTIVAL,e4.FOOD_FESTIVAL_BG),H(e3,e9.SNOW_FESTIVAL,e4.WINTER_BG),H(e3,e9.LIGHT_FESTIVAL,e4.LIGHT_FESTIVAL_BG),H(e3,e9.PEACE_FESTIVAL,e4.PEACE_FESTIVAL_BG),H(e3,e9.FLOWER_FESTIVAL,e4.FLOWER_FESTIVAL_BG),H(e3,e9.STREET_FESTIVAL,e4.STREET_FESTIVAL_BG),H(e3,e9.COLOR_GARDEN,e4.COLOR_GARDEN_BG),H(e3,e9.COLOR_FESTIVAL,e4.COLOR_FESTIVAL_BG),H(e3,e9.NATURE_SUMMER,e4.NATURE_SUMMER_BG),H(e3,e9.SNOW_MOUNTAIN,e4.SNOW_MOUNTAIN_BG),H(e3,e9.ICE_FESTIVAL,e4.ICE_FESTIVAL_BG),H(e3,e9.GREEN_GRASS_FESTIVAL,e4.FLOWER_FIELD_BG),H(e3,e9.COMMUNITY_FESTIVAL,e4.NIGHT_FESTIVAL_BG),H(e3,e9.WATER_FESTIVAL,e4.SEA_FESTIVAL_BG),H(e3,e9.ANIMAL_FESTIVAL,e4.TREE_PLANTING_FESTIVAL_BG),H(e3,e9.LOST_FESTIVAL,e4.LOST_FESTIVAL_BG),H(e3,e9.HALLOWEEN_FESTIVAL,e4.HALLOWEEN_BG),H(e3,e9.SNOW_MUSIC_FESTIVAL,e4.MUSIC_FESTIVAL_BG),H(e3,e9.CHRISTMAS,e4.CHRISTMAS_BG),H(e3,e9.SPRING_FLOWER_FESTIVAL,e4.SPRING_FLOWER_FESTIVAL_BG),H(e3,e9.TET_HOLIDAY,e4.TET_HOLIDAY_BG),H(e3,e9.SEA_FESTIVAL,e4.SEA_FESTIVAL_BG),H(e3,e9.FIREWORK_FESTIVAL,e4.FIREWORK_FESTIVAL_BG),H(e3,e9.HALLOWEEN_HORROR,e4.HALLOWEEN_BG),H(e3,e9.MID_AUTUMN,e4.SPRING_FLOWER_FESTIVAL_BG),H(e3,e9.CHRISTMAS_SWEET,e4.CHRISTMAS_BG),H(e3,e9.NEW_YEAR_COUNTDOWN,e4.TET_HOLIDAY_BG),H(e3,e9.HAPPY_NEW_YEAR,e4.TET_HOLIDAY_BG),e3),tt=r("M",(H(e5={},e9.SUMMER,e4.SUMMER_BG_PREVIEW),H(e5,e9.AUTUMN,e4.AUTUMN_BG_PREVIEW),H(e5,e9.WINTER,e4.WINTER_BG_PREVIEW),H(e5,e9.SPRING_FESTIVAL,e4.FLOWER_FIELD_BG_PREVIEW),H(e5,e9.TREE_PLANTING_FESTIVAL,e4.TREE_PLANTING_FESTIVAL_BG_PREVIEW),H(e5,e9.BLUE_SEA_FESTIVAL,e4.SEA_FESTIVAL_BG_PREVIEW),H(e5,e9.MUSIC_FESTIVAL,e4.MUSIC_FESTIVAL_BG_PREVIEW),H(e5,e9.HARVEST_FESTIVAL,e4.HARVEST_FESTIVAL_BG_PREVIEW),H(e5,e9.FOOD_FESTIVAL,e4.FOOD_FESTIVAL_BG_PREVIEW),H(e5,e9.SNOW_FESTIVAL,e4.WINTER_BG_PREVIEW),H(e5,e9.LIGHT_FESTIVAL,e4.LIGHT_FESTIVAL_BG_PREVIEW),H(e5,e9.PEACE_FESTIVAL,e4.PEACE_FESTIVAL_BG_PREVIEW),H(e5,e9.FLOWER_FESTIVAL,e4.FLOWER_FESTIVAL_BG_PREVIEW),H(e5,e9.STREET_FESTIVAL,e4.STREET_FESTIVAL_BG_PREVIEW),H(e5,e9.COLOR_GARDEN,e4.COLOR_GARDEN_BG_PREVIEW),H(e5,e9.COLOR_FESTIVAL,e4.COLOR_FESTIVAL_BG_PREVIEW),H(e5,e9.NATURE_SUMMER,e4.NATURE_SUMMER_BG_PREVIEW),H(e5,e9.SNOW_MOUNTAIN,e4.SNOW_MOUNTAIN_BG_PREVIEW),H(e5,e9.ICE_FESTIVAL,e4.ICE_FESTIVAL_BG_PREVIEW),H(e5,e9.GREEN_GRASS_FESTIVAL,e4.FLOWER_FIELD_BG_PREVIEW),H(e5,e9.COMMUNITY_FESTIVAL,e4.NIGHT_FESTIVAL_BG_PREVIEW),H(e5,e9.WATER_FESTIVAL,e4.SEA_FESTIVAL_BG_PREVIEW),H(e5,e9.ANIMAL_FESTIVAL,e4.TREE_PLANTING_FESTIVAL_BG_PREVIEW),H(e5,e9.LOST_FESTIVAL,e4.LOST_FESTIVAL_BG_PREVIEW),H(e5,e9.HALLOWEEN_FESTIVAL,e4.HALLOWEEN_BG_PREVIEW),H(e5,e9.SNOW_MUSIC_FESTIVAL,e4.MUSIC_FESTIVAL_BG_PREVIEW),H(e5,e9.CHRISTMAS,e4.CHRISTMAS_BG_PREVIEW),H(e5,e9.SPRING_FLOWER_FESTIVAL,e4.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),H(e5,e9.TET_HOLIDAY,e4.TET_HOLIDAY_BG_PREVIEW),H(e5,e9.SEA_FESTIVAL,e4.SEA_FESTIVAL_BG_PREVIEW),H(e5,e9.FIREWORK_FESTIVAL,e4.FIREWORK_FESTIVAL_BG_PREVIEW),H(e5,e9.HALLOWEEN_HORROR,e4.HALLOWEEN_BG_PREVIEW),H(e5,e9.MID_AUTUMN,e4.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),H(e5,e9.CHRISTMAS_SWEET,e4.CHRISTMAS_BG_PREVIEW),H(e5,e9.NEW_YEAR_COUNTDOWN,e4.TET_HOLIDAY_BG_PREVIEW),H(e5,e9.HAPPY_NEW_YEAR,e4.TET_HOLIDAY_BG_PREVIEW),e5)),tn=r("W",(H(e7={},e9.SUMMER,e4.SUMMER_BG_TOURNAMENT),H(e7,e9.AUTUMN,e4.AUTUMN_BG_TOURNAMENT),H(e7,e9.WINTER,e4.WINTER_BG_TOURNAMENT),H(e7,e9.SPRING_FESTIVAL,e4.FLOWER_FIELD_BG_TOURNAMENT),H(e7,e9.TREE_PLANTING_FESTIVAL,e4.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),H(e7,e9.BLUE_SEA_FESTIVAL,e4.SEA_FESTIVAL_BG_TOURNAMENT),H(e7,e9.MUSIC_FESTIVAL,e4.MUSIC_FESTIVAL_BG_TOURNAMENT),H(e7,e9.HARVEST_FESTIVAL,e4.HARVEST_FESTIVAL_BG_TOURNAMENT),H(e7,e9.FOOD_FESTIVAL,e4.FOOD_FESTIVAL_BG_TOURNAMENT),H(e7,e9.SNOW_FESTIVAL,e4.WINTER_BG_TOURNAMENT),H(e7,e9.LIGHT_FESTIVAL,e4.LIGHT_FESTIVAL_BG_TOURNAMENT),H(e7,e9.PEACE_FESTIVAL,e4.PEACE_FESTIVAL_BG_TOURNAMENT),H(e7,e9.FLOWER_FESTIVAL,e4.FLOWER_FESTIVAL_BG_TOURNAMENT),H(e7,e9.STREET_FESTIVAL,e4.STREET_FESTIVAL_BG_TOURNAMENT),H(e7,e9.COLOR_GARDEN,e4.COLOR_GARDEN_BG_TOURNAMENT),H(e7,e9.COLOR_FESTIVAL,e4.COLOR_FESTIVAL_BG_TOURNAMENT),H(e7,e9.NATURE_SUMMER,e4.NATURE_SUMMER_BG_TOURNAMENT),H(e7,e9.SNOW_MOUNTAIN,e4.SNOW_MOUNTAIN_BG_TOURNAMENT),H(e7,e9.ICE_FESTIVAL,e4.ICE_FESTIVAL_BG_TOURNAMENT),H(e7,e9.GREEN_GRASS_FESTIVAL,e4.FLOWER_FIELD_BG_TOURNAMENT),H(e7,e9.COMMUNITY_FESTIVAL,e4.NIGHT_FESTIVAL_BG_TOURNAMENT),H(e7,e9.WATER_FESTIVAL,e4.SEA_FESTIVAL_BG_TOURNAMENT),H(e7,e9.ANIMAL_FESTIVAL,e4.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),H(e7,e9.LOST_FESTIVAL,e4.LOST_FESTIVAL_BG_TOURNAMENT),H(e7,e9.HALLOWEEN_FESTIVAL,e4.HALLOWEEN_BG_TOURNAMENT),H(e7,e9.SNOW_MUSIC_FESTIVAL,e4.MUSIC_FESTIVAL_BG_TOURNAMENT),H(e7,e9.CHRISTMAS,e4.CHRISTMAS_BG_TOURNAMENT),H(e7,e9.SPRING_FLOWER_FESTIVAL,e4.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),H(e7,e9.TET_HOLIDAY,e4.TET_HOLIDAY_BG_TOURNAMENT),H(e7,e9.SEA_FESTIVAL,e4.SEA_FESTIVAL_BG_TOURNAMENT),H(e7,e9.FIREWORK_FESTIVAL,e4.FIREWORK_FESTIVAL_BG_TOURNAMENT),H(e7,e9.HALLOWEEN_HORROR,e4.HALLOWEEN_BG_TOURNAMENT),H(e7,e9.MID_AUTUMN,e4.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),H(e7,e9.CHRISTMAS_SWEET,e4.CHRISTMAS_BG_TOURNAMENT),H(e7,e9.NEW_YEAR_COUNTDOWN,e4.TET_HOLIDAY_BG_TOURNAMENT),H(e7,e9.HAPPY_NEW_YEAR,e4.TET_HOLIDAY_BG_TOURNAMENT),e7)),tr=(H(e6={},e9.SUMMER,e4.SUMMER_BG_THUMBNAIL),H(e6,e9.AUTUMN,e4.AUTUMN_BG_THUMBNAIL),H(e6,e9.WINTER,e4.WINTER_BG_THUMBNAIL),H(e6,e9.SPRING_FESTIVAL,e4.FLOWER_FIELD_BG_THUMBNAIL),H(e6,e9.TREE_PLANTING_FESTIVAL,e4.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),H(e6,e9.BLUE_SEA_FESTIVAL,e4.SEA_FESTIVAL_BG_THUMBNAIL),H(e6,e9.MUSIC_FESTIVAL,e4.MUSIC_FESTIVAL_BG_THUMBNAIL),H(e6,e9.HARVEST_FESTIVAL,e4.HARVEST_FESTIVAL_BG_THUMBNAIL),H(e6,e9.FOOD_FESTIVAL,e4.FOOD_FESTIVAL_BG_THUMBNAIL),H(e6,e9.SNOW_FESTIVAL,e4.WINTER_BG_THUMBNAIL),H(e6,e9.LIGHT_FESTIVAL,e4.LIGHT_FESTIVAL_BG_THUMBNAIL),H(e6,e9.PEACE_FESTIVAL,e4.PEACE_FESTIVAL_BG_THUMBNAIL),H(e6,e9.FLOWER_FESTIVAL,e4.FLOWER_FESTIVAL_BG_THUMBNAIL),H(e6,e9.STREET_FESTIVAL,e4.STREET_FESTIVAL_BG_THUMBNAIL),H(e6,e9.COLOR_GARDEN,e4.COLOR_GARDEN_BG_THUMBNAIL),H(e6,e9.COLOR_FESTIVAL,e4.COLOR_FESTIVAL_BG_THUMBNAIL),H(e6,e9.NATURE_SUMMER,e4.NATURE_SUMMER_BG_THUMBNAIL),H(e6,e9.SNOW_MOUNTAIN,e4.SNOW_MOUNTAIN_BG_THUMBNAIL),H(e6,e9.ICE_FESTIVAL,e4.ICE_FESTIVAL_BG_THUMBNAIL),H(e6,e9.GREEN_GRASS_FESTIVAL,e4.FLOWER_FIELD_BG_THUMBNAIL),H(e6,e9.COMMUNITY_FESTIVAL,e4.NIGHT_FESTIVAL_BG_THUMBNAIL),H(e6,e9.WATER_FESTIVAL,e4.SEA_FESTIVAL_BG_THUMBNAIL),H(e6,e9.ANIMAL_FESTIVAL,e4.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),H(e6,e9.LOST_FESTIVAL,e4.LOST_FESTIVAL_BG_THUMBNAIL),H(e6,e9.HALLOWEEN_FESTIVAL,e4.HALLOWEEN_BG_THUMBNAIL),H(e6,e9.SNOW_MUSIC_FESTIVAL,e4.MUSIC_FESTIVAL_BG_THUMBNAIL),H(e6,e9.CHRISTMAS,e4.CHRISTMAS_BG_THUMBNAIL),H(e6,e9.SPRING_FLOWER_FESTIVAL,e4.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),H(e6,e9.TET_HOLIDAY,e4.TET_HOLIDAY_BG_THUMBNAIL),H(e6,e9.SEA_FESTIVAL,e4.SEA_FESTIVAL_BG_THUMBNAIL),H(e6,e9.FIREWORK_FESTIVAL,e4.FIREWORK_FESTIVAL_BG_THUMBNAIL),H(e6,e9.HALLOWEEN_HORROR,e4.HALLOWEEN_BG_THUMBNAIL),H(e6,e9.MID_AUTUMN,e4.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),H(e6,e9.CHRISTMAS_SWEET,e4.CHRISTMAS_BG_THUMBNAIL),H(e6,e9.NEW_YEAR_COUNTDOWN,e4.TET_HOLIDAY_BG_THUMBNAIL),H(e6,e9.HAPPY_NEW_YEAR,e4.TET_HOLIDAY_BG_THUMBNAIL),e6);l._RF.pop(),l._RF.push({},"669a1OtNF9EDrMRLWTjxk4B","GeneralUtils",void 0);var ti,ta,to=r("G",function(){function e(){k(this,e)}var r,l,c,d,f,T,p,h,A,S,v,O,b;return W(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"setBlockInput",value:function(r){var l=I("Canvas/InputBlocker");l&&(l.active=r)}},{key:"getBlockInput",value:function(){var r=I("Canvas/InputBlocker");return!!r&&r.active}},{key:"loadFontAsync",value:function(r){var l=e0[r],c=this.getAsset(l,y);return null!==c?Promise.resolve(c):new Promise(function(r){E.load(l,y,function(l,c){r(l?null:c)})})}},{key:"loadPrefabAsync",value:function(r){var l=this.getAsset(r,m);return null!==l?Promise.resolve(l):new Promise(function(l){E.load(r,m,function(r,c){l(r?null:c)})})}},{key:"loadJsonAsync",value:(b=U(function(r){var l;return _ts_generator(this,function(c){l=this;return[2,new Promise(function(c){var _=l.getAsset(r,R);null===_?E.load(r,R,function(r,l){r?c(null):l&&l.json?c(l.json):c(null)}):c(_.json)})]})}),function(r){return b.apply(this,arguments)})},{key:"loadAudioClipAsync",value:(O=U(function(r){var l;return _ts_generator(this,function(c){l=this.getAsset(r,_);return[2,null!==l?Promise.resolve(l):new Promise(function(l){E.load(r,_,function(r,c){l(r?null:c)})})]})}),function(r){return O.apply(this,arguments)})},{key:"loadAnimClipAsync",value:(v=U(function(r){var l;return _ts_generator(this,function(c){l=this.getAsset(r,L);return[2,null!==l?Promise.resolve(l):new Promise(function(l){E.load(r,L,function(r,c){l(r?null:c)})})]})}),function(r){return v.apply(this,arguments)})},{key:"loadImageSpriteFrameAsync",value:(S=U(function(r){var l;return _ts_generator(this,function(c){l=this.getAsset(r,g);return[2,null!==l?Promise.resolve(N.createWithImage(l)):new Promise(function(l){E.load(r,g,function(r,c){l(r?null:N.createWithImage(c))})})]})}),function(r){return S.apply(this,arguments)})},{key:"loadSpriteFramesAsync",value:(A=U(function(r){var l,c,_,d,f,T;var p=arguments;return _ts_generator(this,function(h){l=this,c=!(p.length>1&&void 0!==p[1])||p[1],_=r.reduce(function(r,E,_){var d=l.getAsset(E,N);return null!==d?(d.packable=c,r[0].push({index:_,asset:d})):r[1].push({index:_,path:E}),r},[[],[]]),d=te(_,2),f=d[0],T=d[1];return[2,0===T.length?Promise.resolve(f.map(function(r){return r.asset})):new Promise(function(r){E.load(T.map(function(r){return r.path}),N,function(l,E){l||E.length!==T.length?r(null):(E.forEach(function(r,l){var E=T[l].index;r.packable=c,f.splice(E,0,{index:E,asset:r})}),r(f.map(function(r){return r.asset})))})})]})}),function(r){return A.apply(this,arguments)})},{key:"loadSpriteFrameAsync",value:(h=U(function(r){var l,c;var _=arguments;return _ts_generator(this,function(d){l=!(_.length>1&&void 0!==_[1])||_[1],c=this.getAsset(r,N);return[2,null!==c?(c.packable=l,Promise.resolve(c)):new Promise(function(c){E.load(r,N,function(r,E){!r&&E?(E.packable=l,c(E)):c(null)})})]})}),function(r){return h.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:(p=U(function(r){var l,c,_,d,f,T;return _ts_generator(this,function(p){l=E.getDirWithPath(r,N);if(l.length>0){_=[],d=re(l);try{for(d.s();!(c=d.n()).done;){f=c.value,T=E.get(f.path,N);if(!T)return[2,this.loadSpriteFramesFromDirAsync(r)];_.push(T)}}catch(r){d.e(r)}finally{d.f()}return[2,_]}return[2,this.loadSpriteFramesFromDirAsync(r)]})}),function(r){return p.apply(this,arguments)})},{key:"loadSpriteFramesFromDirAsync",value:(T=U(function(r){return _ts_generator(this,function(l){return[2,new Promise(function(l){E.loadDir(r,N,function(r,c){l(r?[]:c)})})]})}),function(r){return T.apply(this,arguments)})},{key:"loadThemeAsync",value:(f=U(function(r){return _ts_generator(this,function(l){return[2,this.loadSpriteFrameAsync("".concat(e8[r],"/spriteFrame"))]})}),function(r){return f.apply(this,arguments)})},{key:"loadThemePreviewAsync",value:(d=U(function(r){return _ts_generator(this,function(l){return[2,this.loadSpriteFrameAsync("".concat(tt[r],"/spriteFrame"))]})}),function(r){return d.apply(this,arguments)})},{key:"loadThemeTournamentAsync",value:(c=U(function(r){return _ts_generator(this,function(l){return[2,this.loadSpriteFrameAsync("".concat(tn[r],"/spriteFrame"))]})}),function(r){return c.apply(this,arguments)})},{key:"loadThemeThumbnailAsync",value:(l=U(function(r){return _ts_generator(this,function(l){return[2,this.loadSpriteFrameAsync("".concat(tr[r],"/spriteFrame"))]})}),function(r){return l.apply(this,arguments)})},{key:"loadSkinPreviewAsync",value:(r=U(function(r){var l,c,E;return _ts_generator(this,function(_){for(l=[],c=1;c<=4;c++){E="".concat(e4.TILE_SKIN_PREVIEW_FOLDER,"/").concat(r.replace(/-/g,"_"),"_").concat(c,"/spriteFrame");l.push(this.loadSpriteFrameAsync(E))}return[2,Promise.all(l)]})}),function(l){return r.apply(this,arguments)})},{key:"getAsset",value:function(r,l){var c=E.getInfoWithPath(r,l);return c?E.get(c.path,l):null}}]),e}());l._RF.pop(),l._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var ts=r("y",function(r){return r[r.RESCUES_SCREEN=0]="RESCUES_SCREEN",r[r.LOADING_SCREEN=1]="LOADING_SCREEN",r[r.GET_ITEM_SCREEN=2]="GET_ITEM_SCREEN",r[r.GET_COIN_SCREEN=3]="GET_COIN_SCREEN",r[r.SETTINGS_SCREEN=4]="SETTINGS_SCREEN",r[r.START_LEVEL_SCREEN=5]="START_LEVEL_SCREEN",r[r.NOTIFICATION_SCREEN=6]="NOTIFICATION_SCREEN",r[r.LEVEL_COMPLETE_SCREEN=7]="LEVEL_COMPLETE_SCREEN",r[r.CONGRATULATION_SCREEN=8]="CONGRATULATION_SCREEN",r[r.QUIT_LEVEL_SCREEN=9]="QUIT_LEVEL_SCREEN",r[r.TOURNAMENT_DETAIL_SCREEN=10]="TOURNAMENT_DETAIL_SCREEN",r[r.DAILY_REWARDS_SCREEN=11]="DAILY_REWARDS_SCREEN",r[r.STAR_CHEST_SCREEN=12]="STAR_CHEST_SCREEN",r[r.START_OVER_SCREEN=13]="START_OVER_SCREEN",r[r.PAUSE_SCREEN=14]="PAUSE_SCREEN",r[r.HARD_LEVEL_SCREEN=15]="HARD_LEVEL_SCREEN",r[r.GET_REWARDS_SCREEN=16]="GET_REWARDS_SCREEN",r}(ts||{})),tu=r("D",(H(ti={},ts.RESCUES_SCREEN,"RescuesScreen"),H(ti,ts.LOADING_SCREEN,"LoadingScreen"),H(ti,ts.GET_ITEM_SCREEN,"GetItemScreen"),H(ti,ts.GET_COIN_SCREEN,"GetCoinScreen"),H(ti,ts.SETTINGS_SCREEN,"SettingsScreen"),H(ti,ts.START_LEVEL_SCREEN,"StartLevelScreen"),H(ti,ts.NOTIFICATION_SCREEN,"NotificationScreen"),H(ti,ts.LEVEL_COMPLETE_SCREEN,"LevelCompleteScreen"),H(ti,ts.CONGRATULATION_SCREEN,"CongratulationScreen"),H(ti,ts.QUIT_LEVEL_SCREEN,"QuitLevelScreen"),H(ti,ts.TOURNAMENT_DETAIL_SCREEN,"TournamentDetailScreen"),H(ti,ts.DAILY_REWARDS_SCREEN,"DailyRewardsScreen"),H(ti,ts.STAR_CHEST_SCREEN,"StarChestScreen"),H(ti,ts.START_OVER_SCREEN,"StartOverScreen"),H(ti,ts.PAUSE_SCREEN,"PauseScreen"),H(ti,ts.HARD_LEVEL_SCREEN,"HardLevelScreen"),H(ti,ts.GET_REWARDS_SCREEN,"GetRewardsScreen"),ti)),tl=(r("Q",(H(ta={},tu[ts.RESCUES_SCREEN],ts.RESCUES_SCREEN),H(ta,tu[ts.LOADING_SCREEN],ts.LOADING_SCREEN),H(ta,tu[ts.GET_ITEM_SCREEN],ts.GET_ITEM_SCREEN),H(ta,tu[ts.GET_COIN_SCREEN],ts.GET_COIN_SCREEN),H(ta,tu[ts.SETTINGS_SCREEN],ts.SETTINGS_SCREEN),H(ta,tu[ts.START_LEVEL_SCREEN],ts.START_LEVEL_SCREEN),H(ta,tu[ts.NOTIFICATION_SCREEN],ts.NOTIFICATION_SCREEN),H(ta,tu[ts.LEVEL_COMPLETE_SCREEN],ts.LEVEL_COMPLETE_SCREEN),H(ta,tu[ts.CONGRATULATION_SCREEN],ts.CONGRATULATION_SCREEN),H(ta,tu[ts.QUIT_LEVEL_SCREEN],ts.QUIT_LEVEL_SCREEN),H(ta,tu[ts.TOURNAMENT_DETAIL_SCREEN],ts.TOURNAMENT_DETAIL_SCREEN),H(ta,tu[ts.DAILY_REWARDS_SCREEN],ts.DAILY_REWARDS_SCREEN),H(ta,tu[ts.STAR_CHEST_SCREEN],ts.STAR_CHEST_SCREEN),H(ta,tu[ts.START_OVER_SCREEN],ts.START_OVER_SCREEN),H(ta,tu[ts.PAUSE_SCREEN],ts.PAUSE_SCREEN),H(ta,tu[ts.HARD_LEVEL_SCREEN],ts.HARD_LEVEL_SCREEN),H(ta,tu[ts.GET_REWARDS_SCREEN],ts.GET_REWARDS_SCREEN),ta)),[tu[ts.NOTIFICATION_SCREEN],tu[ts.LOADING_SCREEN]]);l._RF.pop(),l._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var tc=globalThis.game.analytics,tE=GameCore.Utils.Array;r("p",function(){function e(){k(this,e)}return W(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"trackCurrentPage",value:function(r,l){if(!tE.has(tl,r)&&(l||tE.has(this.trackingPages,r))){this.trackingPages=this.trackingPages.filter(function(l){return l!==r}),l&&this.trackingPages.push(r);var c=this.getCurrentPage();tc.pageview(c)}}},{key:"switchSceneTracking",value:function(){this.trackingPages=[];var r=this.getCurrentPage();tc.pageview(r)}},{key:"getCurrentPage",value:function(){var r,l;return this.trackingPages.length>0?this.trackingPages[this.trackingPages.length-1]:null!==(r=null===(l=T.getScene())||void 0===l?void 0:l.name)&&void 0!==r?r:"Unknown Scene"}}]),e}()).trackingPages=[],l._RF.pop(),l._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var t_=r("o",function(){function e(){k(this,e),this.signal=new ek}var r,l,c,E,_;return W(e,[{key:"sound",get:function(){var r,l;return null!==(r=null===(l=I("Sound"))||void 0===l?void 0:l.getComponent(eB))&&void 0!==r?r:null}},{key:"music",get:function(){var r,l;return null!==(r=null===(l=I("Music"))||void 0===l?void 0:l.getComponent(eC))&&void 0!==r?r:null}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"muteAudio",value:function(r){this.muteMusic(r),this.muteSound(r)}},{key:"playSound",value:(_=U(function(r,l){var c;return _ts_generator(this,function(E){switch(E.label){case 0:return[4,null===(c=this.inst.sound)||void 0===c?void 0:c.play(r,l)];case 1:E.sent();return[2]}})}),function(r,l){return _.apply(this,arguments)})},{key:"pauseSound",value:function(r){var l;null===(l=this.inst.sound)||void 0===l||l.pause(r)}},{key:"resumeSound",value:function(r){var l;null===(l=this.inst.sound)||void 0===l||l.resume(r)}},{key:"stopSound",value:function(r){var l;null===(l=this.inst.sound)||void 0===l||l.stop(r)}},{key:"stopAllSounds",value:function(){var r;null===(r=this.inst.sound)||void 0===r||r.stopAll()}},{key:"muteSound",value:function(r){var l;null===(l=this.inst.sound)||void 0===l||l.mute(r)}},{key:"playMusic",value:function(r,l){var c=arguments.length>1&&void 0!==l&&l;this.inst.music&&(this.inst.currentMusic!==r&&this.pauseMusic(),this.inst.currentMusic=r,!c&&this.inst.music.playing(r)||(c&&this.inst.music.stop(r),this.inst.music.play(r)))}},{key:"pauseMusic",value:function(){var r;null===(r=this.inst.music)||void 0===r||r.pause(this.inst.currentMusic)}},{key:"muteMusic",value:function(r){var l;null===(l=this.inst.music)||void 0===l||l.mute(r)}},{key:"getCurrentMusic",value:function(){return this.inst.currentMusic}},{key:"turnUpMusic",value:(E=U(function(){var r,l,c;return _ts_generator(this,function(E){switch(E.label){case 0:c=(null!==(r=null===(l=this.inst.music)||void 0===l?void 0:l.getVolume())&&void 0!==r?r:0)>.6;if(c)return[3,2];return[4,this.setVolumeMusic(.6,!0)];case 1:c=E.sent();E.label=2;case 2:return[2]}})}),function(){return E.apply(this,arguments)})},{key:"turnDownMusic",value:(c=U(function(){var r,l,c;return _ts_generator(this,function(E){switch(E.label){case 0:c=(null!==(r=null===(l=this.inst.music)||void 0===l?void 0:l.getVolume())&&void 0!==r?r:0)<.2;if(c)return[3,2];return[4,this.setVolumeMusic(.2,!0)];case 1:c=E.sent();E.label=2;case 2:return[2]}})}),function(){return c.apply(this,arguments)})},{key:"turnOffMusic",value:(l=U(function(){return _ts_generator(this,function(r){switch(r.label){case 0:return[4,this.setVolumeMusic(0)];case 1:r.sent();return[2]}})}),function(){return l.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var r,l;return null!==(r=null===(l=this.inst.music)||void 0===l?void 0:l.getVolume())&&void 0!==r?r:0}},{key:"setVolumeMusic",value:(r=U(function(r){var l,c,E,_,d,f;var T=arguments;return _ts_generator(this,function(p){switch(p.label){case 0:l=this,c=T.length>1&&void 0!==T[1]&&T[1];if(!this.inst.music)return[3,3];this.inst.signal.abort();E=new ek;if(this.inst.signal=E,!c)return[3,2];_=this.inst.music.getVolume(),d=_;return[4,eP.runOnUpdateAsync(this.inst.music.node,1,function(c){l.inst.music&&(d=_+(r-_)*c,l.inst.music.setVolume(d))},E)];case 1:p.sent();return[3,3];case 2:null===(f=this.inst.music)||void 0===f||f.setVolume(r);p.label=3;case 3:return[2]}})}),function(l){return r.apply(this,arguments)})}]),e}());l._RF.pop(),l._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var td=r("m",function(){function e(){k(this,e)}return W(e,[{key:"getWindowSizeVsWorldGameRatio",value:function(){var r=b.getVisibleSize(),l=F.windowSize.width,c=window.devicePixelRatio;return l/(c=c>2?2:c)/r.width}},{key:"getBoundingBoxTo",value:function(r,l){var c=C.mat4();C.Mat4.fromSRT(c,l.getRotation(),l.getPosition(),l.getScale());var E=l.getComponent(O);if(!E)throw new Error("Node must have UITransform component");var _=E.anchorPoint,d=E.contentSize,f=d.width,T=d.height,p=new C.Rect(-_.x*f,-_.y*T,f,T),h=C.mat4();if(C.Mat4.multiply(h,r,c),p.transformMat4(h),!l.children||0===l.children.length)return p;var A,S=l.children,v=l.getWorldMatrix(),I=re(S);try{for(I.s();!(A=I.n()).done;){var y=A.value;if(null!=y&&y.active){if(y.getComponent(O)){var m=this.getBoundingBoxTo(v,y);m&&C.Rect.union(p,p,m)}}}}catch(r){I.e(r)}finally{I.f()}return p}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"getBoundingBoxToWorld",value:function(r){if(r.parent){var l=r.parent.getWorldMatrix();return this.inst.getBoundingBoxTo(l,r)}var c=r.getComponent(O);if(!c)throw new Error("Node must have UITransform component");return c.getBoundingBox()}},{key:"worldSizeToCssSize",value:function(r){return r*this.inst.getWindowSizeVsWorldGameRatio()}},{key:"cssSizeToWorldSize",value:function(r){return r/this.inst.getWindowSizeVsWorldGameRatio()}},{key:"getScreenWidthCss",value:function(){var r=document,l=r.body,c=r.documentElement,E=l.clientWidth,_=c.clientWidth;return Math.max(_,E)||0}},{key:"getScreenHeightCss",value:function(){var r=document,l=r.body,c=r.documentElement,E=l.clientHeight,_=c.clientHeight;return Math.max(_,E)||0}}]),e}());l._RF.pop(),l._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);var tf=r("q",{VIEW_RESIZE:"view-resize",VIEW_RESIZED:"view-resized",REQUEST_VIEW_RESIZE:"request-view-resize",LAYOUT_CHANGED:"layout-changed",ORIENTATION_CHANGED:"orientation-changed",WIDGET_RESIZED:"widget-resized",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",OPENED_SKIP_OVERLAY:"opened-skip-overlay",CLOSED_SKIP_OVERLAY:"closed-skip-overlay",RESULT_SCENE_REPLAY:"result-scene-replay",RESULT_SCENE_HOME:"result-scene-home",UPGRADE_DYNAMIC_ATLAS:"upgrade-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",CHANGE_QUALITY_ASSETS:"change-quality-assets",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache",PRELOAD_LANGUAGE:"preload-language",CHOOSE_LANGUAGE:"choose-language",LOCALIZE_PARAMS_UPDATED:"localize-params-updated",LOCALIZE_APPLIED:"localize-applied"});l._RF.pop(),l._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);var tT,tp,th,tA,tS,tv,tI,ty,tm,tR,tL,tg,tN,tO,tb,tF,tC,tG,tV,tw,tM,tH,tB,tP,tU,tk,tD,tW,tx;r("r",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1583},Landscape:{WIDTH:2732,HEIGHT:1536}},PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!0,FULL_PORTRAIT_SIZE:!0,FULL_LANDSCAPE_SIZE:!0});l._RF.pop(),l._RF.push({},"bce15LcVrxOfYMa9rbXN/qi","Localize",void 0);var tz=d.ccclass,tK=d.property,tY=d.executeInEditMode,tj=d.disallowMultiple,tq=GameCore,tZ=tq.Utils,tJ=tZ.Signal,tQ=(tZ.Function,tZ.Array),tX=tq.Events,t$=Object.keys(e1),t0=globalThis.game,t1=t0.language,t2=t0.event,t4=function(r){return r[r.Text=0]="Text",r[r.Texture=1]="Texture",r}({});v(t4);var t3=(tT=tz("LocalizeParams"),tp=tK({visible:!1}),th=tK(f),tT((tv=se((tS=function(){function e(){k(this,e),ue(this,"_text",tv,this)}return W(e,[{key:"text",get:function(){return this._text},set:function(r){this._text=r,en.emit(tf.LOCALIZE_PARAMS_UPDATED,{text:r})}}]),e}()).prototype,"_text",[tp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),se(tS.prototype,"text",[th],Object.getOwnPropertyDescriptor(tS.prototype,"text"),tS.prototype),tA=tS))||tA),t5=r("s",(tI=tz("Localize"),ty=tY(!0),tm=tK({tooltip:"TEXTURE ONLY: Skip default locale initialization for textures"}),tR=tK({visible:!1}),tL=tK({type:f,visible:function(){return this.skipDefaultLocaleInit}}),tg=tK({visible:!1}),tN=tK({type:G(t4)}),tO=tK({type:V,visible:function(){return this.l10nType===t4.Text}}),tb=tK({type:[t3],visible:function(){return this.l10nType===t4.Text}}),tF=tK({type:M,visible:function(){return this.l10nType===t4.Texture}}),tC=tK({visible:function(){return this.l10nType===t4.Texture}}),tG=tK({visible:!1}),tV=tK({type:f}),tI(tw=tj(tw=ty((tH=se((tM=function(r){x(s,r);var l,c,E,_,d,f,T=Q(s);function s(){var r;k(this,s);for(var l=arguments.length,c=new Array(l),E=0;E<l;E++)c[E]=arguments[E];return(r=T.call.apply(T,[this].concat(c))).localized=!1,ue(r,"skipDefaultLocaleInit",tH,Z(r)),ue(r,"_defaultLocale",tB,Z(r)),ue(r,"_l10nType",tP,Z(r)),ue(r,"label",tU,Z(r)),ue(r,"params",tk,Z(r)),ue(r,"sprite",tD,Z(r)),ue(r,"packable",tW,Z(r)),ue(r,"_key",tx,Z(r)),r.updateSignalController=new tJ.SignalController,r.updateLocalization=U(function(){var l,c,E,_;return _ts_generator(this,function(d){switch(d.label){case 0:if(!(r.enabledInHierarchy&&void 0!==r.key))return[3,8];l=r.updateSignalController.renew();d.label=1;case 1:d.trys.push([1,7,,8]);if(r.localized=!1,!r.isTextKey(r.key))return[3,3];return[4,r.updateTextLocalization(r.key,l)];case 2:d.sent();return[3,6];case 3:if(!r.isTextureKey(r.key))throw new Error("Key ".concat(r.key," not found in locales"));c=t1.getCurrentLocale();E=!1===(!1===ev&&r.skipDefaultLocaleInit&&void 0!==r.defaultLocale&&c===r.defaultLocale);if(!E)return[3,5];return[4,r.updateTextureLocalization(r.key,l)];case 4:E=(d.sent(),!1===ev&&(r.skipDefaultLocaleInit=!1));d.label=5;case 5:d.label=6;case 6:r.localized=!0,en.emit(tf.LOCALIZE_APPLIED,{localize:Z(r),key:r.key});return[3,8];case 7:_=d.sent();console.warn(_);return[3,8];case 8:return[2]}})}),r}return W(s,[{key:"defaultLocale",get:function(){return this._defaultLocale},set:function(r){if(void 0===r&&this.skipDefaultLocaleInit)return console.warn("Skip default locale initialization is enabled but default locale is not set"),void(this._defaultLocale=void 0);void 0!==r?t$.includes(r)?this._defaultLocale=r:console.warn("Key ".concat(r," not found. Supported locales are ").concat(t$.join(", "))):this._defaultLocale=void 0}},{key:"l10nType",get:function(){return this._l10nType},set:function(r){this._l10nType=r,r===t4.Texture&&(this.label=void 0,this.params=[]),r===t4.Text&&(this.sprite=void 0,this.packable=!0)}},{key:"key",get:function(){return this._key},set:function(r){this.isValidKey(r)?(this._key=r,this.updateLocalization()):console.warn("Key ".concat(r," not found in locales"))}},{key:"setParams",value:function(r){for(;this.params.length<r.length;)this.params.push(new t3);this.params.forEach(function(l,c){var E;l.text=null!==(E=r[c])&&void 0!==E?E:l.text})}},{key:"waitLocalized",value:function(){var r=this;return this.localized?Promise.resolve():new Promise(function(l){en.on(tf.LOCALIZE_APPLIED,function n(c){c.localize===r&&(en.off(tf.LOCALIZE_APPLIED,n),l())})})}},{key:"__preload",value:function(){}},{key:"isValidKey",value:function(r){return!!this.isTextKey(r)||!!this.isTextureKey(r)}},{key:"isTextKey",value:function(r){return this.l10nType===t4.Text&&t1.hasTextKey(r)}},{key:"isTextureKey",value:function(r){return this.l10nType===t4.Texture&&t1.hasTextureKey(r)}},{key:"onEnable",value:function(){this.listenEvent()}},{key:"start",value:function(){this.updateLocalization()}},{key:"onDisable",value:function(){this.unlistenEvent(),this.updateSignalController.abort()}},{key:"listenEvent",value:function(){t2.on(tX.LANGUAGE_CHANGED,this.updateLocalization),en.on(tf.LOCALIZE_PARAMS_UPDATED,this.updateLocalization)}},{key:"unlistenEvent",value:function(){t2.off(tX.LANGUAGE_CHANGED,this.updateLocalization),en.off(tf.LOCALIZE_PARAMS_UPDATED,this.updateLocalization)}},{key:"updateTextLocalization",value:(f=U(function(r,l){var c,E;return _ts_generator(this,function(_){switch(_.label){case 0:if(void 0===this.label)throw new Error("Text localize component <".concat(this.node.name,"> has no label"));c=t1.getCurrentLocale(),E=t1.getText(r,this.params.map(function(r){return r.text}),c);this.label.string=E;return[4,this.setFontRuntime(this.label,c,l)];case 1:_.sent();return[2]}})}),function(r,l){return f.apply(this,arguments)})},{key:"setFontRuntime",value:(d=U(function(r,l,c){var E;return _ts_generator(this,function(_){switch(_.label){case 0:if(!!c.aborted)return[3,2];return[4,to.loadFontAsync(l)];case 1:E=_.sent();c.aborted||null!=E&&(r.font=E);_.label=2;case 2:return[2]}})}),function(r,l,c){return d.apply(this,arguments)})},{key:"setFontEditor",value:(_=U(function(r,l,c){var E,_,d,f;return _ts_generator(this,function(T){switch(T.label){case 0:if(!!c.aborted)return[3,4];return[4,Editor.Message.request("asset-db","query-uuid","db://assets/resources/".concat(e0[l],".ttf"))];case 1:E=T.sent();if(!(!c.aborted&&null!==E))return[3,4];return[4,Editor.Message.request("scene","query-node",r.node.uuid)];case 2:_=T.sent(),d=tQ.searchIndex(_.__comps__,function(r){return"cc.Label"===r.type}),f="__comps__.".concat(d,".font");return[4,Editor.Message.request("scene","set-property",{uuid:r.node.uuid,path:f,dump:{type:"cc.Font",value:{uuid:E}}})];case 3:T.sent();T.label=4;case 4:return[2]}})}),function(r,l,c){return _.apply(this,arguments)})},{key:"updateTextureLocalization",value:(E=U(function(r,l){var c;return _ts_generator(this,function(E){switch(E.label){case 0:if(void 0===this.sprite)throw new Error("Texture localize component <".concat(this.node.name,"> has no sprite"));c=t1.getTexture(r);return[4,this.setSpriteRuntime(this.sprite,c,l)];case 1:E.sent();return[2]}})}),function(r,l){return E.apply(this,arguments)})},{key:"setSpriteRuntime",value:(c=U(function(r,l,c){var E;return _ts_generator(this,function(_){switch(_.label){case 0:return[4,to.loadSpriteFrameAsync("".concat(l,"/spriteFrame"),this.packable)];case 1:E=_.sent();c.aborted||(null!==r?r.spriteFrame=E:console.warn("Sprite not found by path: ".concat(l)));return[2]}})}),function(r,l,E){return c.apply(this,arguments)})},{key:"setSpriteEditor",value:(l=U(function(r,l,c){var E,_,d,f,T,p,h;return _ts_generator(this,function(A){switch(A.label){case 0:return[4,Editor.Message.request("asset-db","query-assets",{pattern:"db://assets/resources/".concat(l,"*"),ccType:"cc.SpriteFrame"})];case 1:E=A.sent();if(!!c.aborted)return[3,7];if(!(0!==E.length))return[3,6];if(!(E.length>1))return[3,2];_=E.slice(0,5).map(function(r){return r.path}),d="".concat(_.join(",")).concat(_.length<E.length?"...":"");console.warn("Ambiguous sprite's path: ".concat(l,". Found ").concat(d));return[3,5];case 2:f=E[0].uuid;return[4,Editor.Message.request("scene","query-node",r.node.uuid)];case 3:T=A.sent(),p=tQ.searchIndex(T.__comps__,function(r){return"cc.Sprite"===r.type}),h="__comps__.".concat(p,".spriteFrame");return[4,Editor.Message.request("scene","set-property",{uuid:r.node.uuid,path:h,dump:{type:"cc.SpriteFrame",value:{uuid:f}}})];case 4:A.sent();A.label=5;case 5:return[3,7];case 6:console.error("Sprite not found by path: ".concat(l));A.label=7;case 7:return[2]}})}),function(r,c,E){return l.apply(this,arguments)})}]),s}(p)).prototype,"skipDefaultLocaleInit",[tm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tB=se(tM.prototype,"_defaultLocale",[tR],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"en"}}),se(tM.prototype,"defaultLocale",[tL],Object.getOwnPropertyDescriptor(tM.prototype,"defaultLocale"),tM.prototype),tP=se(tM.prototype,"_l10nType",[tg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t4.Text}}),se(tM.prototype,"l10nType",[tN],Object.getOwnPropertyDescriptor(tM.prototype,"l10nType"),tM.prototype),tU=se(tM.prototype,"label",[tO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tk=se(tM.prototype,"params",[tb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tD=se(tM.prototype,"sprite",[tF],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tW=se(tM.prototype,"packable",[tC],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tx=se(tM.prototype,"_key",[tG],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se(tM.prototype,"key",[tV],Object.getOwnPropertyDescriptor(tM.prototype,"key"),tM.prototype),tw=tM))||tw)||tw)||tw));l._RF.pop(),l._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var t7=1/6;l._RF.pop(),l._RF.push({},"542caJcCPRMI5EaOkgOzhek","ItemKeys",void 0);var t6=r("I",{HINT:"hint",THUNDER:"thunder",STORM:"storm",PLIERS:"pliers"});l._RF.pop(),l._RF.push({},"8875b8IrVpJWJr/45aS1gql","DefaultRespMatchData",void 0);var t9=GameCore.Dtos.Match.Data.getDefaultData();r("Y",w(w({},t9),{},{extraData:null}));l._RF.pop(),l._RF.push({},"7decaASyaFOAp2izq8DsREg","TotalLevel",void 0);var t8,nt=r("K",400);l._RF.pop(),l._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var nn=r("$",{level:0,coins:0,stars:0,totalLevel:nt,levelVersion:0,lastRewardedItems:0,lastCreateTournamentShown:0,guideItemShowed:[],items:(t8={},H(t8,t6.HINT,0),H(t8,t6.THUNDER,0),H(t8,t6.STORM,0),H(t8,t6.PLIERS,0),t8)});l._RF.pop(),l._RF.push({},"52b52FNwvhBKY/becAy420o","Leaderboard",void 0);r("N",{GLOBAL:"global-leaderboard-key",FRIENDS:"friends-leaderboard-key"}),r("a1",{GLOBAL:"global-leaderboard-id",FRIENDS:"friends-leaderboard-id"});l._RF.pop(),l._RF.push({},"3b9bcPJBxpNOqG2I6exTOVn","MatchCustomData",void 0);var nr=GameCore.Dtos.Match.CustomData.getDefaultData();r("X",w(w({},nr),{},{score:0}));l._RF.pop(),l._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);r("Z",{score:0,endlessScore:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:nn,isFirstLogin:!0,dailyRewarded:{logDays:[],lastRewarded:0}});l._RF.pop(),l._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var ni=r("J",{BOOT_SCENE:"BootScene",GAME_SCENE:"GameScene",DASHBOARD_SCENE:"DashboardScene",CHALLENGE_RESULT_SCENE:"ChallengeResultScene",TEST_PARTICLE_SYSTEM_SCENE:"TestParticleSystemScene"});l._RF.pop(),l._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var na,no,ns,nu,nl,nc,nE,n_,nd,nf,nT,np=globalThis.game.event,nh=GameCore.Events;r("F",function(){function e(){k(this,e)}return W(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"switchScene",value:function(r,l){np.emit(nh.SWITCH_SCENE,{sceneName:r,sceneData:l})}},{key:"preloadScene",value:function(r){np.emit(nh.PRELOAD_SCENE,{sceneName:r})}},{key:"markIsTestScene",value:function(r){np.emit(nh.MARK_IS_TEST_SCENE,{sceneName:r})}},{key:"preloadDashboardScene",value:function(){this.preloadScene(ni.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(r){this.switchScene(ni.DASHBOARD_SCENE,r)}},{key:"preloadGameScene",value:function(){this.preloadScene(ni.GAME_SCENE)}},{key:"switchToGameScene",value:function(r){this.switchScene(ni.GAME_SCENE,r)}},{key:"getSceneData",value:function(r){return"data"in r.scene&&r.scene.data||{}}}]),e}());l._RF.pop(),l._RF.push({},"46b8aK6CThLtpMhZPEfDrNs","LoadingFullScreen",void 0);var nA,nS,nv,nI,ny,nm=d.ccclass,nR=d.property,nL=["interMsg.reviveAd","interMsg.doubleAd","interMsg.ranked","interMsg.friendChallenge","interMsg.bragChallenge","interMsg.clearTiles","interMsg.beatClock","interMsg.clearBombs","interMsg.seasonPack","interMsg.collectStars","interMsg.competeInLb","interMsg.competeWithFriends","interMsg.thunder","interMsg.hint","interMsg.pliers","interMsg.tournado","interMsg.coins","interMsg.seasonTiles","interMsg.dailyLogin","interMsg.levelUp","interMsg.seasonRewards"],ng=(na=nm("LoadingFullScreen"),no=e$.required(),ns=nR(er),nu=e$.required(),nl=e$.required(),nc=nR(t5),na((nd=se((n_=function(r){x(a,r);var l,c,E=Q(a);function a(){var r;k(this,a);for(var l=arguments.length,c=new Array(l),_=0;_<l;_++)c[_]=arguments[_];return ue(r=E.call.apply(E,[this].concat(c)),"progressBar",nd,Z(r)),ue(r,"uiOpacity",nf,Z(r)),ue(r,"loadingLabelLocalizer",nT,Z(r)),r}return W(a,[{key:"__preload",value:function(){this.uiOpacity=this.getComponent(ei),e$.validateRequiredProperties(this)}},{key:"onLoad",value:function(){this.uiOpacity.opacity=0,this.progressBar.progress=0}},{key:"show",value:(c=U(function(r){var l,c;return _ts_generator(this,function(r){switch(r.label){case 0:this.uiOpacity.opacity=0,this.progressBar.progress=0;l=h(this.uiOpacity).to(.5,{opacity:255},{easing:"cubicOut"}),c=h(this.progressBar).to(8,{progress:.9},{easing:"cubicOut"});this.runLoadingTextAnimation(),eP.runTweenAsync(l);return[4,eP.runTweenAsync(c)];case 1:r.sent();return[2]}})}),function(r){return c.apply(this,arguments)})},{key:"hide",value:(l=U(function(r){var l,c;return _ts_generator(this,function(r){switch(r.label){case 0:if(!(this.uiOpacity&&this.progressBar))return[3,3];this.uiOpacity.opacity=255,this.progressBar.progress=.9;l=h(this.uiOpacity).to(.5,{opacity:0},{easing:"cubicIn"}),c=h(this.progressBar).to(.2,{progress:1},{easing:"cubicIn"});this.runLoadingTextAnimation();return[4,eP.runTweenAsync(c)];case 1:r.sent(),this.stopLoadingTextAnimation();return[4,eP.runTweenAsync(l)];case 2:r.sent(),this.node.active=!1;r.label=3;case 3:return[2]}})}),function(r){return l.apply(this,arguments)})},{key:"runLoadingTextAnimation",value:function(){var r=this;this.updateHintText(),this.schedule(function(){return r.updateHintText()},5)}},{key:"updateHintText",value:function(){if(this.loadingLabelLocalizer){var r=this.getHintText();r&&(this.loadingLabelLocalizer.key=r)}}},{key:"stopLoadingTextAnimation",value:function(){this.unscheduleAllCallbacks()}},{key:"getHintText",value:function(){return nL[Math.floor(Math.random()*nL.length)]}}]),a}(p)).prototype,"progressBar",[no,ns],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nf=se(n_.prototype,"uiOpacity",[nu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nT=se(n_.prototype,"loadingLabelLocalizer",[nl,nc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nE=n_))||nE);l._RF.pop(),l._RF.push({},"74caciRBKZLu7ymXYJK2GYy","Loading",void 0);var nN=d.ccclass,nO=d.property,nb=(nA=nN("Loading"),nS=nO(m),nA((ny=se((nI=function(r){x(a,r);var l,c,E=Q(a);function a(){var r;k(this,a);for(var l=arguments.length,c=new Array(l),_=0;_<l;_++)c[_]=arguments[_];return ue(r=E.call.apply(E,[this].concat(c)),"loadingPrefab",ny,Z(r)),r.loadingNode=null,r}return W(a,[{key:"__preload",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){e$.lazyValidateProperties(this)}},{key:"onLoad",value:function(){this.makePersistent()}},{key:"makePersistent",value:function(){T.addPersistRootNode(this.node)}},{key:"createLoadingFullScreen",value:function(){var r,l=I("Canvas");if(l&&!l.getChildByName("Loading")){this.loadingNode||(this.loadingNode=ea(this.loadingPrefab));var c=ea._clone(this.loadingNode);this.loadingFullScreen=c.getComponent(ng),this.node.active=!1,null===(r=I("Canvas"))||void 0===r||r.addChild(c)}}},{key:"show",value:(c=U(function(r){var l;return _ts_generator(this,function(c){switch(c.label){case 0:this.createLoadingFullScreen();l=this.node.active;if(l)return[3,2];this.node.active=!0;return[4,this.loadingFullScreen.show(r)];case 1:l=c.sent();c.label=2;case 2:return[2]}})}),function(r){return c.apply(this,arguments)})},{key:"hide",value:(l=U(function(r){var l,c;return _ts_generator(this,function(E){switch(E.label){case 0:c=null!==(l=this.node)&&void 0!==l&&l.active&&this.loadingFullScreen;if(!c)return[3,2];return[4,this.loadingFullScreen.hide(r)];case 1:c=(E.sent(),this.node.active=!1);E.label=2;case 2:return[2]}})}),function(r){return l.apply(this,arguments)})}]),a}(p)).prototype,"loadingPrefab",[nS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nv=nI))||nv);l._RF.pop(),l._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var nF=globalThis.game.event,nC=GameCore,nG=nC.Events,nV=nC.Utils.Array,nw=r("S",function(){function e(){k(this,e),this.showedScreens=[]}var r,l;return W(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadScreens",value:function(){nF.emit(nG.PRELOAD_SCREENS)}},{key:"openScreen",value:function(r,l){var c=tu[r];nF.emit(nG.OPEN_SCREEN,{screenName:c,screenData:l})}},{key:"closeScreen",value:function(r){var l=tu[r];nF.emit(nG.CLOSE_SCREEN,{screenName:l})}},{key:"openScreenAndWaitForClose",value:function(r,l){var c=this;return new Promise(function(E){c.openScreen(r,l);nF.on(nG.CLOSE_SCREEN,function t(l){l.screenName===tu[r]&&(nF.off(nG.CLOSE_SCREEN,t),E(l))})})}},{key:"showLoadingScreen",value:function(r){this.openScreen(ts.LOADING_SCREEN,{duration:r})}},{key:"closeLoadingScreen",value:function(){this.closeScreen(ts.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(r,l){this.openScreen(ts.NOTIFICATION_SCREEN,{message:r,duration:l})}},{key:"showNotificationScreenWithLocalizedKey",value:function(r,l){this.openScreen(ts.NOTIFICATION_SCREEN,{localizedMessageKey:r,duration:l})}},{key:"closeNotificationScreen",value:function(){this.closeScreen(ts.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(r){nV.has(this.inst.showedScreens,r)||this.inst.showedScreens.push(r)}},{key:"showLoadingFullScreen",value:(l=U(function(r){var l,c,E;return _ts_generator(this,function(_){switch(_.label){case 0:if(!!nV.has(this.inst.showedScreens,r))return[3,3];this.addShowedScene(r);c=I("Loading");E=c;if(!E)return[3,2];c.active=!0;return[4,null===(l=c.getComponent(nb))||void 0===l?void 0:l.show(r)];case 1:E=_.sent();_.label=2;case 2:_.label=3;case 3:return[2]}})}),function(r){return l.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(r=U(function(r){var l,c;return _ts_generator(this,function(E){switch(E.label){case 0:c=nV.has(this.inst.showedScreens,r);if(c)return[3,2];return[4,null===(l=I("Loading"))||void 0===l||null===(l=l.getComponent(nb))||void 0===l?void 0:l.hide(r)];case 1:c=E.sent();E.label=2;case 2:return[2]}})}),function(l){return r.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){this.openScreen(ts.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}},{key:"showTournamentDetailScreen",value:function(r,l,c){var E=!(arguments.length>2&&void 0!==c)||c;this.openScreen(ts.TOURNAMENT_DETAIL_SCREEN,{playAnimation:E,tournament:r,tournamentContextType:l})}},{key:"closeTournamentDetailScreen",value:function(){this.closeScreen(ts.TOURNAMENT_DETAIL_SCREEN)}}]),e}());l._RF.pop(),l._RF.push({},"d6fb7/+FFxLs7k5w6K38JYb","TournamentUtils",void 0);var nM=GameCore,nH=nM.Utils,nB=nH.String,nP=nH.Valid,nU=nH.Array,nk=nM.Configs.Mockup.Leaderboards,nD=globalThis.game,nW=nD.leaderboard,nx=nD.player;r("x",function(){function e(){var r=this;k(this,e),this.globalTournamentLBData=[],this.playerTournaments=[],this.tournamentData=[],this.maxTimeRefetch=5e3,this.lastFetchTournamentsData=0,this.lastFetchGlobalTournament=0,this.fetchGlobalTournamentLeaderboardAsync=U(function(){var l,c;return _ts_generator(this,function(E){switch(E.label){case 0:E.trys.push([0,3,,4]);l=Date.now()-r.lastFetchGlobalTournament>r.maxTimeRefetch;if(!l)return[3,2];return[4,nW.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"})];case 1:l=(r.globalTournamentLBData=E.sent(),r.globalTournamentLBData.sort(function(r,l){return r.expireTime-l.expireTime}));E.label=2;case 2:return[3,4];case 3:c=E.sent();console.warn("fetchGlobalTournamentLeaderboardAsync",c);return[3,4];case 4:return[2,r.globalTournamentLBData]}})}),this.fetchTournamentsAsync=U(function(){var l,c;return _ts_generator(this,function(E){switch(E.label){case 0:E.trys.push([0,3,,4]);l=Date.now()-r.lastFetchTournamentsData>r.maxTimeRefetch;if(!l)return[3,2];return[4,GameSDK.tournament.getTournamentsAsync()];case 1:l=(r.playerTournaments=E.sent(),r.playerTournaments.sort(function(r,l){return r.getEndTime()-l.getEndTime()}));E.label=2;case 2:return[3,4];case 3:c=E.sent();console.warn("fetchTournamentsAsync",c);return[3,4];case 4:return[2,r.playerTournaments]}})})}var r;return W(e,[{key:"processPlayerTournamentData",value:function(){var r,l=[],c=re(this.playerTournaments);try{for(c.s();!(r=c.n()).done;){var E,_,d=r.value,f="".concat(d.getID()),T=d.getContextID(),p=d.getEndTime(),h=this.parseTournamentPayload(d.getPayload());if(this.validateGameSDKTournamentPayload(h)){if(!(p<Date.now()/1e3)){var A=d.getTournamentType();if("PAGE_HOSTED"!==A){var S=null!==(E=h.playerName)&&void 0!==E?E:"Player",v={id:f,title:null!==(_=d.getTitle())&&void 0!==_?_:this.createDefaultTournamentName(S),endTime:p,contextId:T,payload:h,tournamentType:A};l.push(v)}}}}}catch(r){c.e(r)}finally{c.f()}return l}},{key:"processGlobalTournamentLeaderboardData",value:function(){var r=[];if(nk.Enabled){var l,c=re(this.playerTournaments);try{for(c.s();!(l=c.n()).done;){var E,_=l.value,d=_.getTournamentType();if("PAGE_HOSTED"===d){var f="".concat(_.getID()),T=_.getContextID(),p=_.getEndTime(),h=this.parseTournamentPayload(_.getPayload()),A={id:f,title:null!==(E=_.getTitle())&&void 0!==E?E:"Global Tournament",endTime:p,contextId:T,payload:h,tournamentType:d};r.push(A)}}}catch(r){c.e(r)}finally{c.f()}return r}var S,v=re(this.globalTournamentLBData);try{for(v.s();!(S=v.n()).done;){var I,y=S.value,m=void 0;try{m=JSON.parse(y.description)}catch(r){continue}if(this.validateExpireTime(y)&&this.validateGlobalTournamentPayload(m)){var R={id:m.tournamentId,title:y.name,endTime:this.getTournamentEndTime(y),contextId:m.contextId,payload:{playerId:"global",playerName:"global",leaderboardId:y._id,themeId:null!==(I=m.themeId)&&void 0!==I?I:e9.SUMMER},tournamentType:"PAGE_HOSTED"};r.push(R)}}}catch(r){v.e(r)}finally{v.f()}return r}},{key:"validateGlobalTournamentPayload",value:function(r){var l=r.tournamentId,c=r.contextId;return!(!nP.isString(l)||""===l)&&!(!nP.isString(c)||""===c)}},{key:"getTournamentEndTime",value:function(r){var l=new Date(r.createdAt).getTime();return Math.round((1e3*r.expireTime+l)/1e3)}},{key:"validateExpireTime",value:function(r){return 1e3*this.getTournamentEndTime(r)-Date.now()>0}},{key:"validateGameSDKTournamentPayload",value:function(r){return!(!nP.isString(r.playerId)||""===r.playerId)&&!(!nP.isString(r.playerName)||""===r.playerName)&&!(!nP.isString(r.leaderboardId)||""===r.leaderboardId)}},{key:"createDefaultTournamentName",value:function(r){var l=r.substring(0,7),c="".concat(l.split(" ")[0]||l,"'s Tournament"),E=nB.removeDiacritics(c);return"".concat(E)}},{key:"parseTournamentPayload",value:function(r){if("string"!=typeof r)return{};try{return JSON.parse(r)}catch(r){return{}}}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new e),this._instance}},{key:"requestTournamentDataAsync",value:(r=U(function(){var r,l,c,E,_,d;return _ts_generator(this,function(f){switch(f.label){case 0:r=e.getInstance();return[4,Promise.all([r.fetchTournamentsAsync(),r.fetchGlobalTournamentLeaderboardAsync()])];case 1:f.sent();l=r.processPlayerTournamentData(),c=r.processGlobalTournamentLeaderboardData();l.sort(function(r,l){return r.endTime-l.endTime}),c.sort(function(r,l){return r.endTime-l.endTime}),r.tournamentData=[].concat(ne(c),ne(l));_=re(r.tournamentData);try{for(_.s();!(E=_.n()).done;){d=E.value.payload.leaderboardId;d&&(nW.isExistLeaderboardId(d)||nW.addLeaderboard({type:"tournament",name:d,autoSortRank:!0,leaderboardId:d}))}}catch(r){_.e(r)}finally{_.f()}return[2,r.tournamentData]}})}),function(){return r.apply(this,arguments)})},{key:"getAllTournamentData",value:function(){return e.getInstance().tournamentData}},{key:"getTournamentDataById",value:function(r){var l=e.getInstance();return nU.search(l.tournamentData,function(l){return l.id===r})}},{key:"getPlayerTournamentData",value:function(){var r=e.getInstance(),l=nx.getPlayerId();return r.tournamentData.filter(function(r){return r.payload.playerId===l})}},{key:"getFriendsTournamentData",value:function(){var r=e.getInstance(),l=nx.getPlayerId();return r.tournamentData.filter(function(r){var c=r.payload;return c.playerId!==l&&"global"!==c.playerId})}},{key:"getGlobalTournamentData",value:function(){return e.getInstance().tournamentData.filter(function(r){return"global"===r.payload.playerId})}},{key:"validateTournamentExpired",value:function(r){var l=e.getTournamentDataById(r);return!!l&&l.endTime<Date.now()/1e3}}]),e}());l._RF.pop(),l._RF.push({},"c517dy1TKlPd7mHxulLPv1G","TileSpecialTypes",void 0);r("T",{bomb:"bomb",star:"star",none:"none"});l._RF.pop(),l._RF.push({},"4a4bfX6KIJCcIozlNHuAwoi","AdsUtils",void 0);var nz,nK,nY,nj,nq,nZ,nJ,nQ,nX,n$=GameCore,n0=n$.Configs,n1=n$.Plugins.Ads,n2=n1.Types,n4=n1.Status,n3=n$.Utils.Array,n5=globalThis.game.ads;r("z",function(){function e(){k(this,e),this.isAvoidBannerShowed=!1}var r,l,c,E;return W(e,[{key:"canbeShowInSDK",value:function(r,l){var c=arguments.length>0&&void 0!==r?r:[],E=arguments.length>1&&void 0!==l?l:[],_=GameSDK.getSDKName();return(null==E||!E.length||!n3.has(E,_))&&!(null!=c&&c.length&&!n3.has(c,_))}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadAds",value:(E=U(function(){var r,l,c,E,_,d,f,T;return _ts_generator(this,function(p){r=n0.Ads,l=r.Enabled,c=r.InterstitialAdOptions,E=r.RewardedVideoAdOptions,_=r.RewardedInterstitialAdOptions;if(l){d=n2.INTERSTITIAL,f=n2.REWARDED_VIDEO,T=n2.REWARDED_INTERSTITIAL;c.forEach(function(r){var l=r.PlacementId;n5.loadAdAsync(d,l).catch(function(){})}),E.forEach(function(r){var l=r.PlacementId;n5.loadAdAsync(f,l).catch(function(){})}),_.forEach(function(r){var l=r.PlacementId;n5.loadAdAsync(T,l).catch(function(){})})}return[2]})}),function(){return E.apply(this,arguments)})},{key:"setAvoidBannerShowed",value:function(r){this._instance.isAvoidBannerShowed=r}},{key:"showBannerAds",value:function(){var r=this,l=n0.Ads,c=l.Enabled,E=l.BannerDisplayAdOptions;if(c&&!this.inst.isAvoidBannerShowed){var _=eo.instance.getVisibleSize(),d=td.worldSizeToCssSize(_.height*t7);E.forEach(function(l){var c=l.PlacementId,E=l.Position,_=l.BannerHeight;"bottom"===E&&_>d||r.showBannerAd(c)})}}},{key:"hideBannerAds",value:function(){var r=this,l=n0.Ads,c=l.Enabled,E=l.BannerDisplayAdOptions;c&&E.forEach(function(l){var c=l.PlacementId;r.hideBannerAd(c)})}},{key:"showBannerAd",value:function(r){this.inst.isAvoidBannerShowed||n5.showBannerAdAsync(r).catch(function(r){})}},{key:"hideBannerAd",value:function(r){n5.hideBannerAdAsync(r).catch(function(r){})}},{key:"canShowInterstitialAd",value:function(){var r=n5.getAdStatus(n2.INTERSTITIAL)===n4.FILLED;return n5.canbeShowInterstitialAd()&&r}},{key:"canShowRewardedVideoAd",value:function(){return n5.getAdStatus(n2.REWARDED_VIDEO)===n4.FILLED}},{key:"canShowRewardedInterstitialAd",value:function(){return n5.getAdStatus(n2.REWARDED_INTERSTITIAL)===n4.FILLED}},{key:"showInterstitialAdAsync",value:(c=U(function(r){var l,c,E,_,d,f;return _ts_generator(this,function(T){switch(T.label){case 0:l=r.forLevel,c=r.includeSDK,E=r.excludeSDK;if(!this.inst.canbeShowInSDK(c,E))return[2,!1];if(l&&n0.Gameplay.StartAdAtLevel>=l)return[2,!1];if(!n5.canbeShowInterstitialAd())return[2,!1];_=t_.getVolumeMusic();T.label=1;case 1:T.trys.push([1,4,5,6]);t_.muteSound(!0),t_.setVolumeMusic(0,!0);d=n5.getAdStatus(n2.INTERSTITIAL)===n4.FILLED;if(!d)return[3,3];return[4,n5.showAdAsync(n2.INTERSTITIAL)];case 2:d=T.sent();T.label=3;case 3:return[2,!0];case 4:f=T.sent();return[2,(console.warn("showInterstitialAdAsync failed",f),!1)];case 5:en.resume(),t_.muteAudio(!1),t_.setVolumeMusic(_,!0),n5.loadAdAsync(n2.INTERSTITIAL).catch(function(){});return[7];case 6:return[2]}})}),function(r){return c.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(l=U(function(r){var l,c,E,_,d;return _ts_generator(this,function(f){switch(f.label){case 0:l=r.includeSDK,c=r.excludeSDK;if(!this.inst.canbeShowInSDK(l,c))return[2,!1];E=t_.getVolumeMusic();f.label=1;case 1:f.trys.push([1,5,6,7]);t_.muteSound(!0),t_.setVolumeMusic(0,!0);_=n5.getAdStatus(n2.REWARDED_VIDEO)!==n4.FILLED;if(!_)return[3,3];nw.showLoadingScreen();return[4,n5.loadAdAsync(n2.REWARDED_VIDEO)];case 2:_=f.sent();f.label=3;case 3:return[4,n5.showAdAsync(n2.REWARDED_VIDEO)];case 4:return[2,(f.sent(),!0)];case 5:d=f.sent();return[2,(console.warn("showRewardVideoAdAsync failed",d),_instanceof(d,Object)&&"code"in d&&"USER_INPUT"===d.code?nw.showNotificationScreenWithLocalizedKey("ads.cancelled",2):nw.showNotificationScreenWithLocalizedKey("error.noAd",2),!1)];case 6:en.resume(),nw.closeLoadingScreen(),t_.muteAudio(!1),t_.setVolumeMusic(E,!0),n5.loadAdAsync(n2.REWARDED_VIDEO).catch(function(){});return[7];case 7:return[2]}})}),function(r){return l.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(r=U(function(r){var l,c,E,_,d;return _ts_generator(this,function(f){switch(f.label){case 0:l=r.includeSDK,c=r.excludeSDK;if(!this.inst.canbeShowInSDK(l,c))return[2,!1];E=t_.getVolumeMusic();f.label=1;case 1:f.trys.push([1,5,6,7]);t_.muteSound(!0),t_.setVolumeMusic(0,!0);_=n5.getAdStatus(n2.REWARDED_INTERSTITIAL)!==n4.FILLED;if(!_)return[3,3];nw.showLoadingScreen();return[4,n5.loadAdAsync(n2.REWARDED_INTERSTITIAL)];case 2:_=f.sent();f.label=3;case 3:return[4,n5.showAdAsync(n2.REWARDED_INTERSTITIAL)];case 4:return[2,(f.sent(),!0)];case 5:d=f.sent();return[2,(console.warn("showRewardedInterstitialAdAsync failed",d),!1)];case 6:en.resume(),nw.closeLoadingScreen(),t_.muteAudio(!1),t_.setVolumeMusic(E,!0),n5.loadAdAsync(n2.REWARDED_INTERSTITIAL).catch(function(){});return[7];case 7:return[2]}})}),function(l){return r.apply(this,arguments)})}]),e}());l._RF.pop(),l._RF.push({},"acb0egHPppFmYJalVNrDDv/","BaseScreen",void 0);var n7,n6,n9,n8,rt,rn=d.ccclass,rr=d.property,ri=d.disallowMultiple,ra=GameCore.Events,ro=globalThis.game.event;r("O",(nz=rn("BaseScreen"),nK=rr(es),nY=rr(es),nj=rr(ei),nz(nq=ri((nJ=se((nZ=function(r){x(n,r);var l=Q(n);function n(){var r;k(this,n);for(var c=arguments.length,E=new Array(c),_=0;_<c;_++)E[_]=arguments[_];return ue(r=l.call.apply(l,[this].concat(E)),"container",nJ,Z(r)),ue(r,"backgroundMask",nQ,Z(r)),ue(r,"screenOpacity",nX,Z(r)),r.data={},r}return W(n,[{key:"__preload",value:function(){this.animation=this.getComponent(A),this.validateRequiredComponents(),this.initializeNodes()}},{key:"initializeNodes",value:function(){var r=this.getMaskOpacity(),l=this.getContainerOpacity();r&&l&&(r.opacity=0,l.opacity=0)}},{key:"validateRequiredComponents",value:function(){e$.lazyValidateProperties(this)}},{key:"setScreenOpacity",value:function(r){this.screenOpacity.opacity=r}},{key:"open",value:function(r){var l,c;r&&(this.data=r),this.show(),this.runAnimation(null!==(l=null===(c=this.data.overrideAnimation)||void 0===c?void 0:c.openScreen)&&void 0!==l?l:"OpenScreen")}},{key:"close",value:function(){var r,l,c=this;this.node.active&&(this.animation.once(A.EventType.FINISHED,function(){ro.emit(ra.CLOSED_SCREEN,{screenName:c.node.name}),c.hide()}),this.runAnimation(null!==(r=null===(l=this.data.overrideAnimation)||void 0===l?void 0:l.closeScreen)&&void 0!==r?r:"CloseScreen"))}},{key:"runAnimation",value:function(r){if(!this.isAnimationExist(r))throw new Error("".concat(this.node.name,": Animation component must have ").concat(r," clip"));this.animation.play(r)}},{key:"isAnimationExist",value:function(r){return this.animation.clips.some(function(l){return!(!l||l.name!==r)})}},{key:"getMaskOpacity",value:function(){var r=this.backgroundMask.getComponent(ei);return r||(console.warn("BaseScreen: maskOpacity not found"),null)}},{key:"getContainerOpacity",value:function(){var r=this.container.getComponent(ei);return r||(console.warn("BaseScreen: containerOpacity not found"),null)}},{key:"show",value:function(){this.setScreenOpacity(255);var r=this.node.getComponent(eu);if(r){r.enabled=!0,r.updateAlignment();var l,c=re(this.node.getComponentsInChildren(eu));try{for(c.s();!(l=c.n()).done;)l.value.updateAlignment()}catch(r){c.e(r)}finally{c.f()}}}},{key:"hide",value:function(){this.setScreenOpacity(0),this.node.setWorldPosition(new el(-1e3,-1e3,0));var r=this.node.getComponent(eu);r&&(r.enabled=!1)}}]),n}(p)).prototype,"container",[nK],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nQ=se(nZ.prototype,"backgroundMask",[nY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nX=se(nZ.prototype,"screenOpacity",[nj],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nq=nZ))||nq)||nq));l._RF.pop(),l._RF.push({},"d25c5ZVzYVC/YcfG5prmRdB","Screens",void 0);var rs=d.ccclass,ru=d.property;r("a2",(n7=rs("Screens"),n6=ru({type:G(ts)}),n7((rt=se((n8=function(r){x(n,r);var l=Q(n);function n(){var r;k(this,n);for(var c=arguments.length,E=new Array(c),_=0;_<c;_++)E[_]=arguments[_];return ue(r=l.call.apply(l,[this].concat(E)),"screenKeys",rt,Z(r)),r}return W(n)}(p)).prototype,"screenKeys",[n6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),n9=n8))||n9));l._RF.pop(),l._RF.push({},"d21cb1yOpdMOJOXDQb3KWCE","renderCustomInviteScore",void 0);var rl=GameCore,rc=rl.Configs,rE=rl.Utils.Object,r_=rc.FrameCapture,rd=r_.Enabled,rf=r_.WideframeConfigs,rT=(r("V",function(){var r=U(function(r){var l,c,E,_,d;return _ts_generator(this,function(f){if(!rd)return[2,(console.warn("FrameCapture is not enabled"),null)];l=Qi(r);if(!l)return[2,null];rT(l,rf.InviteScore);c=window.game.frameCapture,E=rf.InviteScore,_=E.Width,d=E.Height;return[2,c.captureAsync({name:"InviteScore",width:_,height:d,renderOptions:l})]})});return function(l){return r.apply(this,arguments)}}()),function(r,l){var c=l.Width,E=l.Height,_=l.Wideframe;r.wideframe={name:"invite-score",type:"image",depth:0,image:_,size:[c,E],position:[0,0]}}),Qi=function(r){try{var l=r.playerId,c=r.playerPhoto,E=r.playerScore,_=rf.InviteScore.RenderOptions,d=rE.clone(_);if(!d)return null;var f=rE.clear(d),T=rE.camelCaseKeys(f);console.log("renderOptions",T);var p=T.avatar,h=T.playerScore;return"image"===p.type&&(p.name="".concat(l),p.image=c),"text"===h.type&&(h.text="".concat(E)),T}catch(r){return console.warn("getRenderOptionsInviteScore",r),null}};l._RF.pop(),l._RF.push({},"52eeeMWZe5Ma5u9x4Jk6Zw2","renderCustomShareScore",void 0);var rp=GameCore,rh=rp.Configs.FrameCapture,rA=rh.Enabled,rS=rh.WideframeConfigs,rv=rp.Utils,rI=rv.Object,ry=rv.Valid,rm=(r("U",function(){var r=U(function(r){var l,c,E,_,d;return _ts_generator(this,function(f){if(!rA)return[2,(console.warn("FrameCapture is not enabled"),null)];l=oa(r);if(!l)return[2,null];rm(l,rS.ShareScore);c=window.game.frameCapture,E=rS.ShareScore,_=E.Width,d=E.Height;return[2,c.captureAsync({name:"ShareScore",width:_,height:d,renderOptions:l})]})});return function(l){return r.apply(this,arguments)}}()),function(r,l){var c=l.Width,E=l.Height,_=l.Wideframe;r.wideframe={name:"share-score",type:"image",depth:0,image:_,size:[c,E],position:[0,0]}}),oa=function(r){try{var l=globalThis.game.language,c=r.playerId,E=r.playerPhoto,_=r.playerScore,d=rS.ShareScore.RenderOptions,f=rI.clone(d);if(!f)return null;var T=rI.clear(f),p=rI.camelCaseKeys(T);ry.isDebugger()&&console.log("renderOptions",p);var h=p.avatar,A=p.playerScore,S=p.message,v=l.getCurrentLocale(),I=e0[v],y="".concat(I.split("/")[1],"_LABEL");if("text"===(null==S?void 0:S.type)){var m,R=l.hasTextKey(S.text,v)?S.text:"share.canYouDoBetter",L=l.getText(R),g=null!==(m=e2[v])&&void 0!==m?m:"104px";S.text=L,S.font=I?"".concat(S.font," ").concat(g," ").concat(y,","):S.font}return"image"===h.type&&(h.name="".concat(c),h.image=E),"text"===A.type&&(A.text="".concat(_),A.font=I?"".concat(A.font," ").concat(y,","):A.font),p}catch(r){return ry.isDebugger()&&console.warn("getRenderOptionsShareScore",r),null}};l._RF.pop()}}})}}});