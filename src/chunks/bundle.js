System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///renderCustomShareScore-f8229879.js",["cc","./rollupPluginModLoBabelHelpers-487c63b6.js"],(function(e){var t,n,i,a,r,o,s,u,l,c,E,_,T,d,A,S,h,p,I,f,v,R,L,m,y,N,g,F,O,G,C,V,M,B,b,P,U,w,D,k,W,H,x,z,K;return{setters:[function(e){t=e.cclegacy,n=e.AudioSource,i=e.resources,a=e.AudioClip,r=e._decorator,o=e.CCString,s=e.director,u=e.Component,l=e.tween,c=e.Animation,E=e.UITransform,_=e.view,T=e.screen,d=e.math,A=e.isCCObject,S=e.ccenum,h=e.find,p=e.Font,I=e.Prefab,f=e.JsonAsset,v=e.AnimationClip,R=e.ImageAsset,L=e.SpriteFrame,m=e.Enum,y=e.Label,N=e.Sprite,g=e.game,F=e.ProgressBar,O=e.UIOpacity,G=e.instantiate,C=e.View},function(e){V=e.a,M=e.b,B=e.c,b=e.f,P=e.k,U=e._,w=e.d,D=e.e,k=e.h,W=e.o,H=e.n,x=e.p,z=e.g,K=e.m}],execute:function(){t._RF.push({},"cc0a5OvhdRCMZRZuRscaz+7","AudioPlayer",void 0);var Y=function(e){V(i,e);var t=M(i);function i(e,n){var a;return B(this,i),(a=t.call(this,e)).audioSource=n,a}return b(i,[{key:"play",value:function(e){if(e){var t=e.volume,n=void 0===t?1:t,i=e.loop,a=void 0!==i&&i;this.audioSource.volume=n,this.audioSource.loop=a}this.audioSource.play()}},{key:"pause",value:function(){this.audioSource.pause()}},{key:"resume",value:function(){this.audioSource.state===n.AudioState.PAUSED&&this.audioSource.play()}},{key:"stop",value:function(){this.audioSource.stop()}},{key:"setVolume",value:function(e){this.audioSource.volume=e}},{key:"getVolume",value:function(){return this.audioSource.volume}},{key:"getAudioSource",value:function(){return this.audioSource}}]),i}(GameCore.Plugins.Audio.BaseAudioPlayer);t._RF.pop(),t._RF.push({},"8b5ecHv/+BJiorK1kiVbTcf","AudioChannel",void 0);var q=GameCore,j=q.Plugins.Audio.BaseChannelManager,Z=q.Utils.Array,J=function(e){V(o,e);var t,r=M(o);function o(e,t){var i;return B(this,o),(i=r.call(this,t)).allowMultipleTracking={},i.handleLoadedAudio=function(e,t){var a=i.node.addComponent(n);return a.clip=t,a.playOnAwake=!1,new Y(e,a)},i.node=e,i}return b(o,[{key:"playing",value:function(e){var t,i=null===(t=this.getAudioClip(e))||void 0===t?void 0:t.audioPlayer;return!!i&&i.getAudioSource().state===n.AudioState.PLAYING}},{key:"onLoadAudio",value:(t=P((function*(e,t){var n=this;return new Promise((function(t,r){i.load(e,a,(function(i,a){try{if(i)throw new Error(i.message);if(!n.node.isValid)return;var o=n.handleLoadedAudio(e,a);t(o)}catch(i){i instanceof Error?r(i):r(new Error("Audio load: Unknown error"))}}))}))})),function(e,n){return t.apply(this,arguments)})},{key:"playWithRealConfig",value:function(e,t){if(this.isCanPlay(t)){if(t){var n=t.volume,i=void 0===n?1:n,a=t.allowMultiple,r=void 0!==a&&a;if(t.volume=this.getVolume()*i,r){var o=e.getAudioSource().clip;if(!o)return;return void this.requestDuplicateAudioPlayer(e.getKey(),o,t).play(t)}}e.play(t)}}},{key:"isCanPlay",value:function(e){var t=this;if(e){var i=e.checkList;if((void 0===i?[]:i).some((function(e){var i=t.getAudioClip(e);return!!i&&i.audioPlayer.getAudioSource().state===n.AudioState.PLAYING})))return!1}return!0}},{key:"requestDuplicateAudioPlayer",value:function(e,t,n){var i=this.getDuplicateAudioFromPool(e);if(i){if(n){var a=i.key,r=n.volume,o=void 0===r?1:r;this.setAudioClip(a,{volume:o})}return i.audioPlayer}var s="".concat(e,"_").concat(this.allowMultipleTracking[e].currentPostFix),u=this.handleLoadedAudio(s,t);return this.allowMultipleTracking[e].list.push({audioPlayer:u,key:s}),this.allowMultipleTracking[e].currentPostFix+=1,this.setAudioClip(s,{audioPlayer:u,volume:1}),u}},{key:"getDuplicateAudioFromPool",value:function(e){if(this.allowMultipleTracking[e]){var t=this.allowMultipleTracking[e].list,i=Z.search(t,(function(e){return e.audioPlayer.getAudioSource().state!==n.AudioState.PLAYING}));if(i)return i}else this.allowMultipleTracking[e]={currentPostFix:1,list:[]};return null}}]),o}(j);t._RF.pop();var Q,X,$,ee,te,ne=e("E",!1);e("B",!0);t._RF.push({},"1a025mmN7BL7r5cF6gWR4b/","Music",void 0);var ie,ae,re,oe,se,ue=r.ccclass,le=r.property,ce=globalThis.game,Ee=ce.audio,_e=ce.player,Te=(Q=ue("Music"),X=le(o),Q((te=U((ee=function(e){V(n,e);var t=M(n);function n(){var e;B(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a)),w(e,"channelId",te,D(e)),e.channel=null,e.isMute=!1,e.volume=1,e}return b(n,[{key:"__preload",value:function(){this.makePersistent(),this.channel=new J(this.node,this.channelId),Ee.addChannel(this.channel)}},{key:"makePersistent",value:function(){s.addPersistRootNode(this.node)}},{key:"playing",value:function(e){var t,n;return null!==(t=null===(n=this.channel)||void 0===n?void 0:n.playing(e))&&void 0!==t&&t}},{key:"play",value:function(e,t){if(!this.isMusicEnable())return Promise.resolve();var n=null!=t?t:{};return n.loop||(n.loop=!0),Ee.play(e,n,this.channelId)}},{key:"isMusicEnable",value:function(){return!!_e.getPlayerSetting("music")}},{key:"setVolume",value:function(e){this.volume=e,this.isMute||Ee.setVolume(e,this.channelId)}},{key:"getVolume",value:function(){return Ee.getVolume(this.channelId)}},{key:"pause",value:function(e){Ee.pause(e,this.channelId)}},{key:"resume",value:function(e){this.isMusicEnable()&&Ee.resume(e,this.channelId)}},{key:"stop",value:function(e){Ee.stop(e,this.channelId)}},{key:"mute",value:function(e){this.isMute=e,e?Ee.mute(this.channelId):(this.setVolume(this.volume),Ee.unmute(this.channelId))}}]),n}(u)).prototype,"channelId",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"global_music"}}),$=ee))||$);t._RF.pop(),t._RF.push({},"1299a7X1XNNEKxSKMV6E5jQ","Sound",void 0);var de=r.ccclass,Ae=r.property,Se=globalThis.game,he=Se.audio,pe=Se.player,Ie=e("t",(ie=de("Sound"),ae=Ae(o),ie((se=U((oe=function(e){V(n,e);var t=M(n);function n(){var e;B(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a)),w(e,"channelId",se,D(e)),e.channel=null,e}return b(n,[{key:"__preload",value:function(){this.channel=new J(this.node,this.channelId),he.addChannel(this.channel)}},{key:"onLoad",value:function(){""===this.channelId&&(this.channelId=this.node.uuid)}},{key:"makePersistent",value:function(){s.addPersistRootNode(this.node)}},{key:"removePersistent",value:function(){s.removePersistRootNode(this.node)}},{key:"play",value:function(e,t){return this.isSoundEnable()?he.play(e,t,this.channelId):Promise.resolve()}},{key:"isSoundEnable",value:function(){return!!pe.getPlayerSetting("sound")}},{key:"setVolume",value:function(e){he.setVolume(e,this.channelId)}},{key:"pause",value:function(e){he.pause(e,this.channelId)}},{key:"resume",value:function(e){this.isSoundEnable()&&he.resume(e,this.channelId)}},{key:"stop",value:function(e){he.stop(e,this.channelId)}},{key:"stopAll",value:function(){he.stopAll(this.channelId)}},{key:"mute",value:function(e){e?he.mute(this.channelId):he.unmute(this.channelId)}}]),n}(u)).prototype,"channelId",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),re=oe))||re));t._RF.pop(),t._RF.push({},"99b8eEF6WlE8pzPfD+whiJu","AnimUtils",void 0);var fe=e("A",function(){function e(){B(this,e)}return b(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"elasticOut",value:function(e,t,n){var i=t||.1,a=n||.1;if(0===e)return 0;if(1===e)return 1;var r=a/4;return i<1?i=1:r=a*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/a)+1}},{key:"expoOut",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"expoIn",value:function(e){return 0===e?0:Math.pow(2,10*e-10)}},{key:"runTweenAsync",value:function(e,t){return new Promise((function(n){var i=e.call((function(){n({tween:e})})).start();t&&(t.aborted?(i.stop(),n({tween:e})):t.addAbortListener((function(){i.stop(),n({tween:e})})))}))}},{key:"runOnUpdateAsync",value:function(e,t,n,i){return new Promise((function(a,r){var o=l(e).to(t,{},{onUpdate:function(e,t){if(void 0!==t)try{n(t)}catch(e){r(e instanceof Error?e:new Error(JSON.stringify(e)))}}}).call((function(){a({tween:o})})).start();i&&(i.aborted?(o.stop(),a({tween:o})):i.addAbortListener((function(){o.stop(),a({tween:o})})))}))}},{key:"waitTweenAsync",value:function(e,t){return new Promise((function(n){var i=l({});i.delay(e),i.call((function(){n()})),i.start(),t&&(t.aborted?(i.stop(),n()):t.addAbortListener((function(){i.stop(),n()})))}))}},{key:"runAnimationAsync",value:function(e,t,n){return void 0===n?new Promise((function(n){e.play(t),e.once(c.EventType.FINISHED,n)})):n.aborted?Promise.resolve():new Promise((function(i){n.addAbortListener((function(){e.off(c.EventType.FINISHED,i),e.stop(),i()})),e.play(t),e.once(c.EventType.FINISHED,i)}))}}]),e}());t._RF.pop(),t._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);var ve=e("G",{VIEW_RESIZE:"view-resize",VIEW_RESIZED:"view-resized",REQUEST_VIEW_RESIZE:"request-view-resize",LAYOUT_CHANGED:"layout-changed",ORIENTATION_CHANGED:"orientation-changed",WIDGET_RESIZED:"widget-resized",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",OPENED_SKIP_OVERLAY:"opened-skip-overlay",CLOSED_SKIP_OVERLAY:"closed-skip-overlay",RESULT_SCENE_REPLAY:"result-scene-replay",RESULT_SCENE_HOME:"result-scene-home",UPGRADE_DYNAMIC_ATLAS:"upgrade-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",CHANGE_QUALITY_ASSETS:"change-quality-assets",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache",PRELOAD_LANGUAGE:"preload-language",CHOOSE_LANGUAGE:"choose-language",LOCALIZE_PARAMS_UPDATED:"localize-params-updated",LOCALIZE_APPLIED:"localize-applied"});t._RF.pop(),t._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var Re=e("C",function(){function e(){B(this,e)}return b(e,[{key:"getWindowSizeVsWorldGameRatio",value:function(){var e=_.getVisibleSize(),t=T.windowSize.width,n=window.devicePixelRatio;return t/(n=n>2?2:n)/e.width}},{key:"getBoundingBoxTo",value:function(e,t){var n=d.mat4();d.Mat4.fromSRT(n,t.getRotation(),t.getPosition(),t.getScale());var i=t.getComponent(E);if(!i)throw new Error("Node must have UITransform component");var a=i.anchorPoint,r=i.contentSize,o=r.width,s=r.height,u=new d.Rect(-a.x*o,-a.y*s,o,s),l=d.mat4();if(d.Mat4.multiply(l,e,n),u.transformMat4(l),!t.children||0===t.children.length)return u;var c,_=t.children,T=t.getWorldMatrix(),A=k(_);try{for(A.s();!(c=A.n()).done;){var S=c.value;if(null!=S&&S.active)if(S.getComponent(E)){var h=this.getBoundingBoxTo(T,S);h&&d.Rect.union(u,u,h)}}}catch(e){A.e(e)}finally{A.f()}return u}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"getBoundingBoxToWorld",value:function(e){if(e.parent){var t=e.parent.getWorldMatrix();return this.inst.getBoundingBoxTo(t,e)}var n=e.getComponent(E);if(!n)throw new Error("Node must have UITransform component");return n.getBoundingBox()}},{key:"worldSizeToCssSize",value:function(e){return e*this.inst.getWindowSizeVsWorldGameRatio()}},{key:"cssSizeToWorldSize",value:function(e){return e/this.inst.getWindowSizeVsWorldGameRatio()}},{key:"getScreenWidthCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientWidth,a=n.clientWidth;return Math.max(a,i)||0}},{key:"getScreenHeightCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientHeight,a=n.clientHeight;return Math.max(a,i)||0}}]),e}());t._RF.pop(),t._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);e("a",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1583},Landscape:{WIDTH:2732,HEIGHT:1536}},PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!0,FULL_PORTRAIT_SIZE:!0,FULL_LANDSCAPE_SIZE:!0});t._RF.pop(),t._RF.push({},"a0756pde9lOeoJ4TckTOcMV","AnimAbortSignal",void 0);var Le=GameCore.Utils.Array,me=e("d",function(){function e(){B(this,e),this.callbacks=[],this.isAborted=!1,this.abortReason="",this.callbacks=[]}var t;return b(e,[{key:"aborted",get:function(){return this.isAborted}},{key:"reason",get:function(){return this.abortReason}},{key:"addAbortListener",value:function(e){this.callbacks.push(e)}},{key:"removeAbortListener",value:function(e){var t=Le.searchIndex(this.callbacks,(function(t){return t===e}));-1!==t?this.callbacks.splice(t,1):console.warn("Abort listener not found")}},{key:"abort",value:function(e){if(!this.isAborted){this.isAborted=!0,this.abortReason=e;var t,n=k(this.callbacks);try{for(n.s();!(t=n.n()).done;){var i=t.value;"function"==typeof i&&i()}}catch(e){n.e(e)}finally{n.f()}this.callbacks=[]}}},{key:"untilAborted",value:(t=P((function*(){var e=this;if(!this.isAborted)return new Promise((function(t){e.addAbortListener((function(){return t()}))}))})),function(){return t.apply(this,arguments)})},{key:"call",value:function(e){this.aborted||e(this)}},{key:"callAsync",value:function(e){return this.aborted?Promise.resolve():e(this)}},{key:"chain",value:function(t){var n=this;t instanceof e?t.addAbortListener((function(){return n.abort()})):t.addEventListener("abort",(function(){return n.abort()}))}}],[{key:"hasBeenAborted",value:function(e){return null==e||e.aborted}}]),e}());function ye(e,t,n){var i=n.value;n.value=function(){if(this.enabledInHierarchy){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return null==i?void 0:i.apply(this,n)}console.info("Skipping method call ".concat(String(t)," because component ").concat(this.constructor.name," is not enabled in hierarchy"))}}function Ne(e,t,n){var i=n.value,a=function(){var e=P((function*(){if(this.enabledInHierarchy){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return yield null==i?void 0:i.apply(this,n)}return console.info("Skipping method call ".concat(String(t)," because component ").concat(this.constructor.name," is not enabled in hierarchy")),Promise.resolve()}));return function(){return e.apply(this,arguments)}}();n.value=a}t._RF.pop(),t._RF.push({},"147a4TjOC9PMpdhlBiKEn54","onlyRunInLifeCycle",void 0),t._RF.pop(),t._RF.push({},"6944aqu6zZOGIj+df3KBDrm","onlyRunInLifeCycleAsync",void 0),t._RF.pop(),t._RF.push({},"99384AdWHlKDIyVvCAqSwJE","index",void 0),t._RF.pop(),t._RF.push({},"09236E0KzVAqotP4Yn9R+4m","MissingPropertiesError",void 0);var ge=function(e){V(n,e);var t=M(n);function n(e,i){var a;return B(this,n),(a=t.call(this,"".concat(e," is missing these required properties: [").concat(i.map((function(e){return e.propertyName})).join(", "),"]"))).className=e,a.errors=i,a}return b(n)}(W(Error));t._RF.pop(),t._RF.push({},"4ce5394i3hCZoi5cZm0Vn2l","MissingPropertyError",void 0);var Fe=function(e){V(n,e);var t=M(n);function n(e,i){var a;return B(this,n),(a=t.call(this,"".concat(e," is missing the required property: <").concat(i,">"))).className=e,a.propertyName=i,a}return b(n)}(W(Error));t._RF.pop(),t._RF.push({},"a2990W72mRAYaItrPHe4H5V","required",void 0);var Oe=GameCore.Utils,Ge=Oe.String,Ce=Oe.Valid,Ve=globalThis.game.monitorError,Me="_compUtils_ReqPropsMap";function Be(e){return null===e}function be(e){return void 0===e}function Pe(e){return Be(e)||be(e)}function Ue(e){if("function"==typeof e)return e;switch(e){case"null-check":return Be;case"undefined-check":return be;default:return Pe}}function we(e){return function(t,n){if("function"==typeof t)throw new Error("The required decorator can only be applied to non-static class properties.");var i,a=t.constructor.name,r=(i=n,"".concat("_compUtils_ReqPropsMethod","_").concat(Ge.capitalize(i)));if(void 0!==t[r])throw new Error("The required decorator found that property name ".concat(r," already exists. The reserved method name ").concat(r," is used already or the decorator was applied multiple times."));t[r]=function(t){if(e(this[n]))throw new Fe(t,n)},void 0===t[Me]&&(t[Me]={}),void 0===t[Me][a]&&(t[Me][a]=[]),t[Me][a].push(r)}}function De(e,t){if("string"!=typeof t)return we(Ue(e));var n=e;we(Ue())(n,t)}t._RF.pop(),t._RF.push({},"75e1e0Ei7ZOOr/FzyprYnVJ","index",void 0),t._RF.pop(),t._RF.push({},"95972yG/ulEg4gycbc+QB5Y","ComponentUtils",void 0);var ke=GameCore.Utils,We=ke.Array,He=ke.Object,xe=ke.Valid,ze=["cc.Mask","cc.Label","cc.Canvas","cc.Camera","cc.Layout","cc.Button","cc.Sprite","cc.Widget","cc.Renderer","cc.Animation","cc.UIOpacity"],Ke=e("b",function(){function e(){B(this,e),this.validComponentCalled={}}return b(e,[{key:"validateRequiredComponents",value:function(e){var t,n=e.name,i=e.constructor,a=this.getRequiredComponentNames(i),r=k(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!e.getComponent(o))throw new Error("".concat(n,": Missing required ").concat(o," component"))}}catch(e){r.e(e)}finally{r.f()}}},{key:"validateRequiredProperties",value:function(e){var t,n=e.name,i=e.constructor,a=this.getRequiredPropNames(i),r=k(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!He.hasOwn(e,o))throw new Error("".concat(n,": Missing required ").concat(o," property"));var s=this.getProperty(o,e);if(!A(s))throw new Error("".concat(n,": ").concat(o," property is not a cc object"))}}catch(e){r.e(e)}finally{r.f()}}},{key:"validateCustomProperties",value:function(e){var t,n=e.name,i=this.getCustomPropNames(e),a=k(i);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(!He.hasOwn(e,r))throw new Error("".concat(n,": Missing required ").concat(r," property"));var o=this.getProperty(r,e);if(!A(o))throw new Error("".concat(n,": ").concat(r," property is not a cc object"))}}catch(e){a.e(e)}finally{a.f()}}},{key:"getProperty",value:function(e,t){var n;if(He.hasOwn(t,e))return(null!==(n=Object.getOwnPropertyDescriptor(t,e))&&void 0!==n?n:{}).value}},{key:"getProps",value:function(e){if(!He.hasOwn(e,"__props__"))return[];var t=e.__props__;return Array.isArray(t)?t:[]}},{key:"getRequiredPropNames",value:function(e){return this.getProps(e).filter((function(t){return"node"!==t&&(!!He.hasOwn(e,t)&&(!!A(e[t])&&!t.startsWith("_")))}))}},{key:"getBaseComponentName",value:function(e){for(var t=0,n=ze;t<n.length;t++){var i=n[t];if(i.indexOf(e)>=0)return i}return e}},{key:"getRequiredComponentNames",value:function(e){var t=this;if(!He.hasOwn(e,"_requireComponent"))return[];var n=e._requireComponent;return Array.isArray(n)?n.map((function(e){return t.getBaseComponentName(e)})):[]}},{key:"getCustomPropNames",value:function(e){var t=this,n=Object.keys(e),i=this.getProps(e.constructor);return We.difference(n,i).filter((function(e){return e.indexOf("_")<0})).filter((function(n){if(!He.hasOwn(e,n))return!1;var i=t.getProperty(n,e);return!(!xe.isObject(i)||!A(i))}))}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"required",value:function(e,t){return"string"==typeof t?De(e,t):De(e)}},{key:"validateRequiredProperties",value:function(e,t){!function(e,t){var n,i=t?t.name:e.constructor.name,a=t?t.prototype[Me]:e.constructor.prototype[Me],r=null!==(n=null==a?void 0:a[i])&&void 0!==n?n:[],o=[],s=e;for(var u in r)if("function"==typeof s[u])try{s[u](i)}catch(l){if(!(l instanceof Fe))throw l;o.push(l)}if(0!==o.length){var l=new ge(i,o);if(Ce.isDebugger())throw l;console.error(l),null==Ve||Ve.sendException(l)}}(e,t)}},{key:"lazyValidateProperties",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){var n=e.constructor,i=n.name;if(!this.inst.validComponentCalled[i])try{this.inst.validateRequiredComponents(e),this.inst.validateRequiredProperties(e),this.inst.validateCustomProperties(e)}catch(t){e.enabled=!1,console.error(t)}finally{this.inst.validComponentCalled[i]=!0}}}}]),e}());Ke.onlyRunInLifeCycle=function(){return ye.apply(void 0,arguments)},Ke.onlyRunInLifeCycleAsync=function(){return Ne.apply(void 0,arguments)},t._RF.pop(),t._RF.push({},"725f8u/lDtFbY1DMY0uJSL9","Locales",void 0);var Ye={en:"fonts/mikado-bold",ru:"fonts/nunito-black"},qe=e("L",{en:"locales/en/en",ru:"locales/ru/ru"}),je={en:"104px",ru:"96px"};t._RF.pop(),t._RF.push({},"a6e4bjV/RVH17qBEx1mZaFg","ResourcePaths",void 0);var Ze=GameCore.Utils.Object,Je=e("i",function(e){return e.BOMB_RESCUE_PREFAB="game-objects/bomb/BombRescue",e.BOMB_EXPLODE_PREFAB="game-objects/bomb/BombExplode",e.BOMB_DEFUSE_PREFAB="game-objects/bomb/DefuseExplode",e.CLEAR_EXPLOSION_PREFAB="game-objects/clear-explosion/ClearExplosion",e.TILE_BREAK_ANIM="animations/TileBreak",e.TILE_CLEAR_ANIM="animations/TileClear",e.TILE_SHAKE_ANIM="animations/TileShake",e.TILE_SKIN_FOLDER="loadable/tiles",e.TILE_SKIN_PREVIEW_FOLDER="loadable/tiles-preview",e.ITEM_POPUP_FOLDER="loadable/item-popup",e.SUMMER_BG="images/bg/summer",e.AUTUMN_BG="images/bg/autumn",e.WINTER_BG="images/bg/winter",e.FLOWER_FIELD_BG="images/bg/flower-field",e.TREE_PLANTING_FESTIVAL_BG="images/bg/tree-planting-festival",e.MUSIC_FESTIVAL_BG="images/bg/music-festival",e.HARVEST_FESTIVAL_BG="images/bg/harvest-festival",e.FOOD_FESTIVAL_BG="images/bg/food-festival",e.LIGHT_FESTIVAL_BG="images/bg/light-festival",e.PEACE_FESTIVAL_BG="images/bg/peace-festival",e.FLOWER_FESTIVAL_BG="images/bg/flower-festival",e.STREET_FESTIVAL_BG="images/bg/street-festival",e.COLOR_GARDEN_BG="images/bg/color-garden",e.COLOR_FESTIVAL_BG="images/bg/color-festival",e.NATURE_SUMMER_BG="images/bg/nature-summer",e.SNOW_MOUNTAIN_BG="images/bg/snow-mountain",e.ICE_FESTIVAL_BG="images/bg/ice-festival",e.NIGHT_FESTIVAL_BG="images/bg/night-festival",e.LOST_FESTIVAL_BG="images/bg/lost-festival",e.HALLOWEEN_BG="images/bg/halloween",e.CHRISTMAS_BG="images/bg/christmas",e.SPRING_FLOWER_FESTIVAL_BG="images/bg/spring-flower-festival",e.TET_HOLIDAY_BG="images/bg/tet-holiday",e.SEA_FESTIVAL_BG="images/bg/sea-festival",e.FIREWORK_FESTIVAL_BG="images/bg/firework-festival",e.SUMMER_BG_PREVIEW="images/preview/summer",e.AUTUMN_BG_PREVIEW="images/preview/autumn",e.WINTER_BG_PREVIEW="images/preview/winter",e.FLOWER_FIELD_BG_PREVIEW="images/preview/flower-field",e.TREE_PLANTING_FESTIVAL_BG_PREVIEW="images/preview/tree-planting-festival",e.MUSIC_FESTIVAL_BG_PREVIEW="images/preview/music-festival",e.HARVEST_FESTIVAL_BG_PREVIEW="images/preview/harvest-festival",e.FOOD_FESTIVAL_BG_PREVIEW="images/preview/food-festival",e.LIGHT_FESTIVAL_BG_PREVIEW="images/preview/light-festival",e.PEACE_FESTIVAL_BG_PREVIEW="images/preview/peace-festival",e.FLOWER_FESTIVAL_BG_PREVIEW="images/preview/flower-festival",e.STREET_FESTIVAL_BG_PREVIEW="images/preview/street-festival",e.COLOR_GARDEN_BG_PREVIEW="images/preview/color-garden",e.COLOR_FESTIVAL_BG_PREVIEW="images/preview/color-festival",e.NATURE_SUMMER_BG_PREVIEW="images/preview/nature-summer",e.SNOW_MOUNTAIN_BG_PREVIEW="images/preview/snow-mountain",e.ICE_FESTIVAL_BG_PREVIEW="images/preview/ice-festival",e.NIGHT_FESTIVAL_BG_PREVIEW="images/preview/night-festival",e.LOST_FESTIVAL_BG_PREVIEW="images/preview/lost-festival",e.HALLOWEEN_BG_PREVIEW="images/preview/halloween",e.CHRISTMAS_BG_PREVIEW="images/preview/christmas",e.SPRING_FLOWER_FESTIVAL_BG_PREVIEW="images/preview/spring-flower-festival",e.TET_HOLIDAY_BG_PREVIEW="images/preview/tet-holiday",e.SEA_FESTIVAL_BG_PREVIEW="images/preview/sea-festival",e.FIREWORK_FESTIVAL_BG_PREVIEW="images/preview/firework-festival",e.SUMMER_BG_TOURNAMENT="images/tournament/summer",e.AUTUMN_BG_TOURNAMENT="images/tournament/autumn",e.WINTER_BG_TOURNAMENT="images/tournament/winter",e.FLOWER_FIELD_BG_TOURNAMENT="images/tournament/flower-field",e.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT="images/tournament/tree-planting-festival",e.MUSIC_FESTIVAL_BG_TOURNAMENT="images/tournament/music-festival",e.HARVEST_FESTIVAL_BG_TOURNAMENT="images/tournament/harvest-festival",e.FOOD_FESTIVAL_BG_TOURNAMENT="images/tournament/food-festival",e.LIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/light-festival",e.PEACE_FESTIVAL_BG_TOURNAMENT="images/tournament/peace-festival",e.FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/flower-festival",e.STREET_FESTIVAL_BG_TOURNAMENT="images/tournament/street-festival",e.COLOR_GARDEN_BG_TOURNAMENT="images/tournament/color-garden",e.COLOR_FESTIVAL_BG_TOURNAMENT="images/tournament/color-festival",e.NATURE_SUMMER_BG_TOURNAMENT="images/tournament/nature-summer",e.SNOW_MOUNTAIN_BG_TOURNAMENT="images/tournament/snow-mountain",e.ICE_FESTIVAL_BG_TOURNAMENT="images/tournament/ice-festival",e.NIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/night-festival",e.LOST_FESTIVAL_BG_TOURNAMENT="images/tournament/lost-festival",e.HALLOWEEN_BG_TOURNAMENT="images/tournament/halloween",e.CHRISTMAS_BG_TOURNAMENT="images/tournament/christmas",e.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/spring-flower-festival",e.TET_HOLIDAY_BG_TOURNAMENT="images/tournament/tet-holiday",e.SEA_FESTIVAL_BG_TOURNAMENT="images/tournament/sea-festival",e.FIREWORK_FESTIVAL_BG_TOURNAMENT="images/tournament/firework-festival",e.SUMMER_BG_THUMBNAIL="images/thumbnail/summer",e.AUTUMN_BG_THUMBNAIL="images/thumbnail/autumn",e.WINTER_BG_THUMBNAIL="images/thumbnail/winter",e.FLOWER_FIELD_BG_THUMBNAIL="images/thumbnail/flower-field",e.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL="images/thumbnail/tree-planting-festival",e.MUSIC_FESTIVAL_BG_THUMBNAIL="images/thumbnail/music-festival",e.HARVEST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/harvest-festival",e.FOOD_FESTIVAL_BG_THUMBNAIL="images/thumbnail/food-festival",e.LIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/light-festival",e.PEACE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/peace-festival",e.FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/flower-festival",e.STREET_FESTIVAL_BG_THUMBNAIL="images/thumbnail/street-festival",e.COLOR_GARDEN_BG_THUMBNAIL="images/thumbnail/color-garden",e.COLOR_FESTIVAL_BG_THUMBNAIL="images/thumbnail/color-festival",e.NATURE_SUMMER_BG_THUMBNAIL="images/thumbnail/nature-summer",e.SNOW_MOUNTAIN_BG_THUMBNAIL="images/thumbnail/snow-mountain",e.ICE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/ice-festival",e.NIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/night-festival",e.LOST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/lost-festival",e.HALLOWEEN_BG_THUMBNAIL="images/thumbnail/halloween",e.CHRISTMAS_BG_THUMBNAIL="images/thumbnail/christmas",e.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/spring-flower-festival",e.TET_HOLIDAY_BG_THUMBNAIL="images/thumbnail/tet-holiday",e.SEA_FESTIVAL_BG_THUMBNAIL="images/thumbnail/sea-festival",e.FIREWORK_FESTIVAL_BG_THUMBNAIL="images/thumbnail/firework-festival",e.COLLECTIONS_PAGE="pages/CollectionsContent",e.LEADERBOARD_PAGE="pages/LeaderboardContent",e.TOURNAMENTS_PAGE="pages/TournamentsContent",e.PAGE_LEAVES_PREFAB="pages/Leaves",e.LEVEL_DATA_FOLDER="levels-json",e.SIDEBAR_BG="images/bg-sidebar",e.TOP_LEFT_LEAF="images/top-left-leaf",e.TOP_RIGHT_LEAF="images/top-right-leaf",e.BOTTOM_LEFT_LEAF="images/bottom-left-leaf",e.BOTTOM_RIGHT_LEAF="images/bottom-right-leaf",e}(Je||{})),Qe=Ze.vals(Je),Xe=e("R",Qe.reduce((function(e,t,n){return e[t]=n,e}),{}));S(Xe);e("g",Qe);t._RF.pop(),t._RF.push({},"3f1dbbPrPVBy5lNYySV74Qq","ThemeKeys",void 0);var $e,et,tt,nt,it=e("p",{SUMMER:"summer",AUTUMN:"autumn",WINTER:"winter",SPRING_FESTIVAL:"spring-festival",TREE_PLANTING_FESTIVAL:"tree-planting-festival",BLUE_SEA_FESTIVAL:"blue-sea-festival",MUSIC_FESTIVAL:"music-festival",HARVEST_FESTIVAL:"harvest-festival",FOOD_FESTIVAL:"food-festival",SNOW_FESTIVAL:"snow-festival",LIGHT_FESTIVAL:"light-festival",PEACE_FESTIVAL:"peace-festival",FLOWER_FESTIVAL:"flower-festival",STREET_FESTIVAL:"street-festival",COLOR_GARDEN:"color-garden",COLOR_FESTIVAL:"color-festival",NATURE_SUMMER:"nature-summer",SNOW_MOUNTAIN:"snow-mountain",ICE_FESTIVAL:"ice-festival",GREEN_GRASS_FESTIVAL:"green-grass-festival",COMMUNITY_FESTIVAL:"community-festival",WATER_FESTIVAL:"water-festival",ANIMAL_FESTIVAL:"animal-festival",LOST_FESTIVAL:"lost-festival",HALLOWEEN_FESTIVAL:"halloween-festival",SNOW_MUSIC_FESTIVAL:"snow-music-festival",CHRISTMAS:"christmas",SPRING_FLOWER_FESTIVAL:"spring-flower-festival",TET_HOLIDAY:"tet-holiday",SEA_FESTIVAL:"sea-festival",FIREWORK_FESTIVAL:"firework-festival",HALLOWEEN_HORROR:"halloween-horror",MID_AUTUMN:"mid-autumn",CHRISTMAS_SWEET:"christmas-sweet",NEW_YEAR_COUNTDOWN:"new-year-countdown",HAPPY_NEW_YEAR:"happy-new-year"});S(it),t._RF.pop(),t._RF.push({},"2a657+TsltMe4rrDmyWGrLy","ThemeResourcesPath",void 0);var at=(H($e={},it.SUMMER,Je.SUMMER_BG),H($e,it.AUTUMN,Je.AUTUMN_BG),H($e,it.WINTER,Je.WINTER_BG),H($e,it.SPRING_FESTIVAL,Je.FLOWER_FIELD_BG),H($e,it.TREE_PLANTING_FESTIVAL,Je.TREE_PLANTING_FESTIVAL_BG),H($e,it.BLUE_SEA_FESTIVAL,Je.SEA_FESTIVAL_BG),H($e,it.MUSIC_FESTIVAL,Je.MUSIC_FESTIVAL_BG),H($e,it.HARVEST_FESTIVAL,Je.HARVEST_FESTIVAL_BG),H($e,it.FOOD_FESTIVAL,Je.FOOD_FESTIVAL_BG),H($e,it.SNOW_FESTIVAL,Je.WINTER_BG),H($e,it.LIGHT_FESTIVAL,Je.LIGHT_FESTIVAL_BG),H($e,it.PEACE_FESTIVAL,Je.PEACE_FESTIVAL_BG),H($e,it.FLOWER_FESTIVAL,Je.FLOWER_FESTIVAL_BG),H($e,it.STREET_FESTIVAL,Je.STREET_FESTIVAL_BG),H($e,it.COLOR_GARDEN,Je.COLOR_GARDEN_BG),H($e,it.COLOR_FESTIVAL,Je.COLOR_FESTIVAL_BG),H($e,it.NATURE_SUMMER,Je.NATURE_SUMMER_BG),H($e,it.SNOW_MOUNTAIN,Je.SNOW_MOUNTAIN_BG),H($e,it.ICE_FESTIVAL,Je.ICE_FESTIVAL_BG),H($e,it.GREEN_GRASS_FESTIVAL,Je.FLOWER_FIELD_BG),H($e,it.COMMUNITY_FESTIVAL,Je.NIGHT_FESTIVAL_BG),H($e,it.WATER_FESTIVAL,Je.SEA_FESTIVAL_BG),H($e,it.ANIMAL_FESTIVAL,Je.TREE_PLANTING_FESTIVAL_BG),H($e,it.LOST_FESTIVAL,Je.LOST_FESTIVAL_BG),H($e,it.HALLOWEEN_FESTIVAL,Je.HALLOWEEN_BG),H($e,it.SNOW_MUSIC_FESTIVAL,Je.MUSIC_FESTIVAL_BG),H($e,it.CHRISTMAS,Je.CHRISTMAS_BG),H($e,it.SPRING_FLOWER_FESTIVAL,Je.SPRING_FLOWER_FESTIVAL_BG),H($e,it.TET_HOLIDAY,Je.TET_HOLIDAY_BG),H($e,it.SEA_FESTIVAL,Je.SEA_FESTIVAL_BG),H($e,it.FIREWORK_FESTIVAL,Je.FIREWORK_FESTIVAL_BG),H($e,it.HALLOWEEN_HORROR,Je.HALLOWEEN_BG),H($e,it.MID_AUTUMN,Je.SPRING_FLOWER_FESTIVAL_BG),H($e,it.CHRISTMAS_SWEET,Je.CHRISTMAS_BG),H($e,it.NEW_YEAR_COUNTDOWN,Je.TET_HOLIDAY_BG),H($e,it.HAPPY_NEW_YEAR,Je.TET_HOLIDAY_BG),$e),rt=e("r",(H(et={},it.SUMMER,Je.SUMMER_BG_PREVIEW),H(et,it.AUTUMN,Je.AUTUMN_BG_PREVIEW),H(et,it.WINTER,Je.WINTER_BG_PREVIEW),H(et,it.SPRING_FESTIVAL,Je.FLOWER_FIELD_BG_PREVIEW),H(et,it.TREE_PLANTING_FESTIVAL,Je.TREE_PLANTING_FESTIVAL_BG_PREVIEW),H(et,it.BLUE_SEA_FESTIVAL,Je.SEA_FESTIVAL_BG_PREVIEW),H(et,it.MUSIC_FESTIVAL,Je.MUSIC_FESTIVAL_BG_PREVIEW),H(et,it.HARVEST_FESTIVAL,Je.HARVEST_FESTIVAL_BG_PREVIEW),H(et,it.FOOD_FESTIVAL,Je.FOOD_FESTIVAL_BG_PREVIEW),H(et,it.SNOW_FESTIVAL,Je.WINTER_BG_PREVIEW),H(et,it.LIGHT_FESTIVAL,Je.LIGHT_FESTIVAL_BG_PREVIEW),H(et,it.PEACE_FESTIVAL,Je.PEACE_FESTIVAL_BG_PREVIEW),H(et,it.FLOWER_FESTIVAL,Je.FLOWER_FESTIVAL_BG_PREVIEW),H(et,it.STREET_FESTIVAL,Je.STREET_FESTIVAL_BG_PREVIEW),H(et,it.COLOR_GARDEN,Je.COLOR_GARDEN_BG_PREVIEW),H(et,it.COLOR_FESTIVAL,Je.COLOR_FESTIVAL_BG_PREVIEW),H(et,it.NATURE_SUMMER,Je.NATURE_SUMMER_BG_PREVIEW),H(et,it.SNOW_MOUNTAIN,Je.SNOW_MOUNTAIN_BG_PREVIEW),H(et,it.ICE_FESTIVAL,Je.ICE_FESTIVAL_BG_PREVIEW),H(et,it.GREEN_GRASS_FESTIVAL,Je.FLOWER_FIELD_BG_PREVIEW),H(et,it.COMMUNITY_FESTIVAL,Je.NIGHT_FESTIVAL_BG_PREVIEW),H(et,it.WATER_FESTIVAL,Je.SEA_FESTIVAL_BG_PREVIEW),H(et,it.ANIMAL_FESTIVAL,Je.TREE_PLANTING_FESTIVAL_BG_PREVIEW),H(et,it.LOST_FESTIVAL,Je.LOST_FESTIVAL_BG_PREVIEW),H(et,it.HALLOWEEN_FESTIVAL,Je.HALLOWEEN_BG_PREVIEW),H(et,it.SNOW_MUSIC_FESTIVAL,Je.MUSIC_FESTIVAL_BG_PREVIEW),H(et,it.CHRISTMAS,Je.CHRISTMAS_BG_PREVIEW),H(et,it.SPRING_FLOWER_FESTIVAL,Je.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),H(et,it.TET_HOLIDAY,Je.TET_HOLIDAY_BG_PREVIEW),H(et,it.SEA_FESTIVAL,Je.SEA_FESTIVAL_BG_PREVIEW),H(et,it.FIREWORK_FESTIVAL,Je.FIREWORK_FESTIVAL_BG_PREVIEW),H(et,it.HALLOWEEN_HORROR,Je.HALLOWEEN_BG_PREVIEW),H(et,it.MID_AUTUMN,Je.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),H(et,it.CHRISTMAS_SWEET,Je.CHRISTMAS_BG_PREVIEW),H(et,it.NEW_YEAR_COUNTDOWN,Je.TET_HOLIDAY_BG_PREVIEW),H(et,it.HAPPY_NEW_YEAR,Je.TET_HOLIDAY_BG_PREVIEW),et)),ot=e("x",(H(tt={},it.SUMMER,Je.SUMMER_BG_TOURNAMENT),H(tt,it.AUTUMN,Je.AUTUMN_BG_TOURNAMENT),H(tt,it.WINTER,Je.WINTER_BG_TOURNAMENT),H(tt,it.SPRING_FESTIVAL,Je.FLOWER_FIELD_BG_TOURNAMENT),H(tt,it.TREE_PLANTING_FESTIVAL,Je.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),H(tt,it.BLUE_SEA_FESTIVAL,Je.SEA_FESTIVAL_BG_TOURNAMENT),H(tt,it.MUSIC_FESTIVAL,Je.MUSIC_FESTIVAL_BG_TOURNAMENT),H(tt,it.HARVEST_FESTIVAL,Je.HARVEST_FESTIVAL_BG_TOURNAMENT),H(tt,it.FOOD_FESTIVAL,Je.FOOD_FESTIVAL_BG_TOURNAMENT),H(tt,it.SNOW_FESTIVAL,Je.WINTER_BG_TOURNAMENT),H(tt,it.LIGHT_FESTIVAL,Je.LIGHT_FESTIVAL_BG_TOURNAMENT),H(tt,it.PEACE_FESTIVAL,Je.PEACE_FESTIVAL_BG_TOURNAMENT),H(tt,it.FLOWER_FESTIVAL,Je.FLOWER_FESTIVAL_BG_TOURNAMENT),H(tt,it.STREET_FESTIVAL,Je.STREET_FESTIVAL_BG_TOURNAMENT),H(tt,it.COLOR_GARDEN,Je.COLOR_GARDEN_BG_TOURNAMENT),H(tt,it.COLOR_FESTIVAL,Je.COLOR_FESTIVAL_BG_TOURNAMENT),H(tt,it.NATURE_SUMMER,Je.NATURE_SUMMER_BG_TOURNAMENT),H(tt,it.SNOW_MOUNTAIN,Je.SNOW_MOUNTAIN_BG_TOURNAMENT),H(tt,it.ICE_FESTIVAL,Je.ICE_FESTIVAL_BG_TOURNAMENT),H(tt,it.GREEN_GRASS_FESTIVAL,Je.FLOWER_FIELD_BG_TOURNAMENT),H(tt,it.COMMUNITY_FESTIVAL,Je.NIGHT_FESTIVAL_BG_TOURNAMENT),H(tt,it.WATER_FESTIVAL,Je.SEA_FESTIVAL_BG_TOURNAMENT),H(tt,it.ANIMAL_FESTIVAL,Je.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),H(tt,it.LOST_FESTIVAL,Je.LOST_FESTIVAL_BG_TOURNAMENT),H(tt,it.HALLOWEEN_FESTIVAL,Je.HALLOWEEN_BG_TOURNAMENT),H(tt,it.SNOW_MUSIC_FESTIVAL,Je.MUSIC_FESTIVAL_BG_TOURNAMENT),H(tt,it.CHRISTMAS,Je.CHRISTMAS_BG_TOURNAMENT),H(tt,it.SPRING_FLOWER_FESTIVAL,Je.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),H(tt,it.TET_HOLIDAY,Je.TET_HOLIDAY_BG_TOURNAMENT),H(tt,it.SEA_FESTIVAL,Je.SEA_FESTIVAL_BG_TOURNAMENT),H(tt,it.FIREWORK_FESTIVAL,Je.FIREWORK_FESTIVAL_BG_TOURNAMENT),H(tt,it.HALLOWEEN_HORROR,Je.HALLOWEEN_BG_TOURNAMENT),H(tt,it.MID_AUTUMN,Je.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),H(tt,it.CHRISTMAS_SWEET,Je.CHRISTMAS_BG_TOURNAMENT),H(tt,it.NEW_YEAR_COUNTDOWN,Je.TET_HOLIDAY_BG_TOURNAMENT),H(tt,it.HAPPY_NEW_YEAR,Je.TET_HOLIDAY_BG_TOURNAMENT),tt)),st=(H(nt={},it.SUMMER,Je.SUMMER_BG_THUMBNAIL),H(nt,it.AUTUMN,Je.AUTUMN_BG_THUMBNAIL),H(nt,it.WINTER,Je.WINTER_BG_THUMBNAIL),H(nt,it.SPRING_FESTIVAL,Je.FLOWER_FIELD_BG_THUMBNAIL),H(nt,it.TREE_PLANTING_FESTIVAL,Je.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),H(nt,it.BLUE_SEA_FESTIVAL,Je.SEA_FESTIVAL_BG_THUMBNAIL),H(nt,it.MUSIC_FESTIVAL,Je.MUSIC_FESTIVAL_BG_THUMBNAIL),H(nt,it.HARVEST_FESTIVAL,Je.HARVEST_FESTIVAL_BG_THUMBNAIL),H(nt,it.FOOD_FESTIVAL,Je.FOOD_FESTIVAL_BG_THUMBNAIL),H(nt,it.SNOW_FESTIVAL,Je.WINTER_BG_THUMBNAIL),H(nt,it.LIGHT_FESTIVAL,Je.LIGHT_FESTIVAL_BG_THUMBNAIL),H(nt,it.PEACE_FESTIVAL,Je.PEACE_FESTIVAL_BG_THUMBNAIL),H(nt,it.FLOWER_FESTIVAL,Je.FLOWER_FESTIVAL_BG_THUMBNAIL),H(nt,it.STREET_FESTIVAL,Je.STREET_FESTIVAL_BG_THUMBNAIL),H(nt,it.COLOR_GARDEN,Je.COLOR_GARDEN_BG_THUMBNAIL),H(nt,it.COLOR_FESTIVAL,Je.COLOR_FESTIVAL_BG_THUMBNAIL),H(nt,it.NATURE_SUMMER,Je.NATURE_SUMMER_BG_THUMBNAIL),H(nt,it.SNOW_MOUNTAIN,Je.SNOW_MOUNTAIN_BG_THUMBNAIL),H(nt,it.ICE_FESTIVAL,Je.ICE_FESTIVAL_BG_THUMBNAIL),H(nt,it.GREEN_GRASS_FESTIVAL,Je.FLOWER_FIELD_BG_THUMBNAIL),H(nt,it.COMMUNITY_FESTIVAL,Je.NIGHT_FESTIVAL_BG_THUMBNAIL),H(nt,it.WATER_FESTIVAL,Je.SEA_FESTIVAL_BG_THUMBNAIL),H(nt,it.ANIMAL_FESTIVAL,Je.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),H(nt,it.LOST_FESTIVAL,Je.LOST_FESTIVAL_BG_THUMBNAIL),H(nt,it.HALLOWEEN_FESTIVAL,Je.HALLOWEEN_BG_THUMBNAIL),H(nt,it.SNOW_MUSIC_FESTIVAL,Je.MUSIC_FESTIVAL_BG_THUMBNAIL),H(nt,it.CHRISTMAS,Je.CHRISTMAS_BG_THUMBNAIL),H(nt,it.SPRING_FLOWER_FESTIVAL,Je.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),H(nt,it.TET_HOLIDAY,Je.TET_HOLIDAY_BG_THUMBNAIL),H(nt,it.SEA_FESTIVAL,Je.SEA_FESTIVAL_BG_THUMBNAIL),H(nt,it.FIREWORK_FESTIVAL,Je.FIREWORK_FESTIVAL_BG_THUMBNAIL),H(nt,it.HALLOWEEN_HORROR,Je.HALLOWEEN_BG_THUMBNAIL),H(nt,it.MID_AUTUMN,Je.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),H(nt,it.CHRISTMAS_SWEET,Je.CHRISTMAS_BG_THUMBNAIL),H(nt,it.NEW_YEAR_COUNTDOWN,Je.TET_HOLIDAY_BG_THUMBNAIL),H(nt,it.HAPPY_NEW_YEAR,Je.TET_HOLIDAY_BG_THUMBNAIL),nt);t._RF.pop(),t._RF.push({},"669a1OtNF9EDrMRLWTjxk4B","GeneralUtils",void 0);var ut,lt,ct=e("c",function(){function e(){B(this,e)}var t,n,r,o,s,u,l,c,E,_,T,d,A;return b(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"setBlockInput",value:function(e){var t=h("Canvas/InputBlocker");t&&(t.active=e)}},{key:"getBlockInput",value:function(){var e=h("Canvas/InputBlocker");return!!e&&e.active}},{key:"loadFontAsync",value:function(e){var t=Ye[e],n=this.getAsset(t,p);return null!==n?Promise.resolve(n):new Promise((function(e){i.load(t,p,(function(t,n){e(t?null:n)}))}))}},{key:"loadPrefabAsync",value:function(e){var t=this.getAsset(e,I);return null!==t?Promise.resolve(t):new Promise((function(t){i.load(e,I,(function(e,n){t(e?null:n)}))}))}},{key:"loadJsonAsync",value:(A=P((function*(e){var t=this;return new Promise((function(n){var a=t.getAsset(e,f);null===a?i.load(e,f,(function(e,t){e?n(null):t&&t.json?n(t.json):n(null)})):n(a.json)}))})),function(e){return A.apply(this,arguments)})},{key:"loadAudioClipAsync",value:(d=P((function*(e){var t=this.getAsset(e,a);return null!==t?Promise.resolve(t):new Promise((function(t){i.load(e,a,(function(e,n){t(e?null:n)}))}))})),function(e){return d.apply(this,arguments)})},{key:"loadAnimClipAsync",value:(T=P((function*(e){var t=this.getAsset(e,v);return null!==t?Promise.resolve(t):new Promise((function(t){i.load(e,v,(function(e,n){t(e?null:n)}))}))})),function(e){return T.apply(this,arguments)})},{key:"loadImageSpriteFrameAsync",value:(_=P((function*(e){var t=this.getAsset(e,R);return null!==t?Promise.resolve(L.createWithImage(t)):new Promise((function(t){i.load(e,R,(function(e,n){t(e?null:L.createWithImage(n))}))}))})),function(e){return _.apply(this,arguments)})},{key:"loadSpriteFramesAsync",value:(E=P((function*(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.reduce((function(e,i,a){var r=t.getAsset(i,L);return null!==r?(r.packable=n,e[0].push({index:a,asset:r})):e[1].push({index:a,path:i}),e}),[[],[]]),r=x(a,2),o=r[0],s=r[1];return 0===s.length?Promise.resolve(o.map((function(e){return e.asset}))):new Promise((function(e){i.load(s.map((function(e){return e.path})),L,(function(t,i){t||i.length!==s.length?e(null):(i.forEach((function(e,t){var i=s[t].index;e.packable=n,o.splice(i,0,{index:i,asset:e})})),e(o.map((function(e){return e.asset}))))}))}))})),function(e){return E.apply(this,arguments)})},{key:"loadSpriteFrameAsync",value:(c=P((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getAsset(e,L);return null!==n?(n.packable=t,Promise.resolve(n)):new Promise((function(n){i.load(e,L,(function(e,i){!e&&i?(i.packable=t,n(i)):n(null)}))}))})),function(e){return c.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:(l=P((function*(e){var t=i.getDirWithPath(e,L);if(t.length>0){var n,a=[],r=k(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=i.get(o.path,L);if(!s)return this.loadSpriteFramesFromDirAsync(e);a.push(s)}}catch(e){r.e(e)}finally{r.f()}return a}return this.loadSpriteFramesFromDirAsync(e)})),function(e){return l.apply(this,arguments)})},{key:"loadSpriteFramesFromDirAsync",value:(u=P((function*(e){return new Promise((function(t){i.loadDir(e,L,(function(e,n){t(e?[]:n)}))}))})),function(e){return u.apply(this,arguments)})},{key:"loadThemeAsync",value:(s=P((function*(e){return this.loadSpriteFrameAsync("".concat(at[e],"/spriteFrame"))})),function(e){return s.apply(this,arguments)})},{key:"loadThemePreviewAsync",value:(o=P((function*(e){return this.loadSpriteFrameAsync("".concat(rt[e],"/spriteFrame"))})),function(e){return o.apply(this,arguments)})},{key:"loadThemeTournamentAsync",value:(r=P((function*(e){return this.loadSpriteFrameAsync("".concat(ot[e],"/spriteFrame"))})),function(e){return r.apply(this,arguments)})},{key:"loadThemeThumbnailAsync",value:(n=P((function*(e){return this.loadSpriteFrameAsync("".concat(st[e],"/spriteFrame"))})),function(e){return n.apply(this,arguments)})},{key:"loadSkinPreviewAsync",value:(t=P((function*(e){for(var t=[],n=1;n<=4;n++){var i="".concat(Je.TILE_SKIN_PREVIEW_FOLDER,"/").concat(e.replace(/-/g,"_"),"_").concat(n,"/spriteFrame");t.push(this.loadSpriteFrameAsync(i))}return Promise.all(t)})),function(e){return t.apply(this,arguments)})},{key:"getAsset",value:function(e,t){var n=i.getInfoWithPath(e,t);return n?i.get(n.path,t):null}}]),e}());t._RF.pop(),t._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var Et=e("l",function(e){return e[e.RESCUES_SCREEN=0]="RESCUES_SCREEN",e[e.LOADING_SCREEN=1]="LOADING_SCREEN",e[e.GET_ITEM_SCREEN=2]="GET_ITEM_SCREEN",e[e.GET_COIN_SCREEN=3]="GET_COIN_SCREEN",e[e.SETTINGS_SCREEN=4]="SETTINGS_SCREEN",e[e.START_LEVEL_SCREEN=5]="START_LEVEL_SCREEN",e[e.NOTIFICATION_SCREEN=6]="NOTIFICATION_SCREEN",e[e.LEVEL_COMPLETE_SCREEN=7]="LEVEL_COMPLETE_SCREEN",e[e.CONGRATULATION_SCREEN=8]="CONGRATULATION_SCREEN",e[e.QUIT_LEVEL_SCREEN=9]="QUIT_LEVEL_SCREEN",e[e.TOURNAMENT_DETAIL_SCREEN=10]="TOURNAMENT_DETAIL_SCREEN",e[e.DAILY_REWARDS_SCREEN=11]="DAILY_REWARDS_SCREEN",e[e.STAR_CHEST_SCREEN=12]="STAR_CHEST_SCREEN",e[e.START_OVER_SCREEN=13]="START_OVER_SCREEN",e[e.PAUSE_SCREEN=14]="PAUSE_SCREEN",e[e.HARD_LEVEL_SCREEN=15]="HARD_LEVEL_SCREEN",e[e.GET_REWARDS_SCREEN=16]="GET_REWARDS_SCREEN",e}(Et||{})),_t=e("n",(H(ut={},Et.RESCUES_SCREEN,"RescuesScreen"),H(ut,Et.LOADING_SCREEN,"LoadingScreen"),H(ut,Et.GET_ITEM_SCREEN,"GetItemScreen"),H(ut,Et.GET_COIN_SCREEN,"GetCoinScreen"),H(ut,Et.SETTINGS_SCREEN,"SettingsScreen"),H(ut,Et.START_LEVEL_SCREEN,"StartLevelScreen"),H(ut,Et.NOTIFICATION_SCREEN,"NotificationScreen"),H(ut,Et.LEVEL_COMPLETE_SCREEN,"LevelCompleteScreen"),H(ut,Et.CONGRATULATION_SCREEN,"CongratulationScreen"),H(ut,Et.QUIT_LEVEL_SCREEN,"QuitLevelScreen"),H(ut,Et.TOURNAMENT_DETAIL_SCREEN,"TournamentDetailScreen"),H(ut,Et.DAILY_REWARDS_SCREEN,"DailyRewardsScreen"),H(ut,Et.STAR_CHEST_SCREEN,"StarChestScreen"),H(ut,Et.START_OVER_SCREEN,"StartOverScreen"),H(ut,Et.PAUSE_SCREEN,"PauseScreen"),H(ut,Et.HARD_LEVEL_SCREEN,"HardLevelScreen"),H(ut,Et.GET_REWARDS_SCREEN,"GetRewardsScreen"),ut)),Tt=(e("u",(H(lt={},_t[Et.RESCUES_SCREEN],Et.RESCUES_SCREEN),H(lt,_t[Et.LOADING_SCREEN],Et.LOADING_SCREEN),H(lt,_t[Et.GET_ITEM_SCREEN],Et.GET_ITEM_SCREEN),H(lt,_t[Et.GET_COIN_SCREEN],Et.GET_COIN_SCREEN),H(lt,_t[Et.SETTINGS_SCREEN],Et.SETTINGS_SCREEN),H(lt,_t[Et.START_LEVEL_SCREEN],Et.START_LEVEL_SCREEN),H(lt,_t[Et.NOTIFICATION_SCREEN],Et.NOTIFICATION_SCREEN),H(lt,_t[Et.LEVEL_COMPLETE_SCREEN],Et.LEVEL_COMPLETE_SCREEN),H(lt,_t[Et.CONGRATULATION_SCREEN],Et.CONGRATULATION_SCREEN),H(lt,_t[Et.QUIT_LEVEL_SCREEN],Et.QUIT_LEVEL_SCREEN),H(lt,_t[Et.TOURNAMENT_DETAIL_SCREEN],Et.TOURNAMENT_DETAIL_SCREEN),H(lt,_t[Et.DAILY_REWARDS_SCREEN],Et.DAILY_REWARDS_SCREEN),H(lt,_t[Et.STAR_CHEST_SCREEN],Et.STAR_CHEST_SCREEN),H(lt,_t[Et.START_OVER_SCREEN],Et.START_OVER_SCREEN),H(lt,_t[Et.PAUSE_SCREEN],Et.PAUSE_SCREEN),H(lt,_t[Et.HARD_LEVEL_SCREEN],Et.HARD_LEVEL_SCREEN),H(lt,_t[Et.GET_REWARDS_SCREEN],Et.GET_REWARDS_SCREEN),lt)),[_t[Et.NOTIFICATION_SCREEN],_t[Et.LOADING_SCREEN]]);t._RF.pop(),t._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var dt=globalThis.game.analytics,At=GameCore.Utils.Array;e("f",function(){function e(){B(this,e)}return b(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"trackCurrentPage",value:function(e,t){if(!At.has(Tt,e)&&(t||At.has(this.trackingPages,e))){this.trackingPages=this.trackingPages.filter((function(t){return t!==e})),t&&this.trackingPages.push(e);var n=this.getCurrentPage();dt.pageview(n)}}},{key:"switchSceneTracking",value:function(){this.trackingPages=[];var e=this.getCurrentPage();dt.pageview(e)}},{key:"getCurrentPage",value:function(){var e,t;return this.trackingPages.length>0?this.trackingPages[this.trackingPages.length-1]:null!==(e=null===(t=s.getScene())||void 0===t?void 0:t.name)&&void 0!==e?e:"Unknown Scene"}}]),e}()).trackingPages=[],t._RF.pop(),t._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var St,ht,pt,It,ft,vt,Rt,Lt,mt,yt,Nt,gt,Ft,Ot,Gt,Ct,Vt,Mt,Bt,bt,Pt,Ut,wt,Dt,kt,Wt,Ht,xt,zt,Kt=e("e",function(){function e(){B(this,e),this.signal=new me}var t,n,i,a,r;return b(e,[{key:"sound",get:function(){var e,t;return null!==(e=null===(t=h("Sound"))||void 0===t?void 0:t.getComponent(Ie))&&void 0!==e?e:null}},{key:"music",get:function(){var e,t;return null!==(e=null===(t=h("Music"))||void 0===t?void 0:t.getComponent(Te))&&void 0!==e?e:null}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"playSound",value:(r=P((function*(e,t){var n;yield null===(n=this.inst.sound)||void 0===n?void 0:n.play(e,t)})),function(e,t){return r.apply(this,arguments)})},{key:"pauseSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.pause(e)}},{key:"resumeSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.resume(e)}},{key:"stopSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.stop(e)}},{key:"stopAllSounds",value:function(){var e;null===(e=this.inst.sound)||void 0===e||e.stopAll()}},{key:"muteSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.mute(e)}},{key:"playMusic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.inst.music&&(this.inst.currentMusic!==e&&this.pauseMusic(),this.inst.currentMusic=e,!t&&this.inst.music.playing(e)||(t&&this.inst.music.stop(e),this.inst.music.play(e)))}},{key:"pauseMusic",value:function(){var e;null===(e=this.inst.music)||void 0===e||e.pause(this.inst.currentMusic)}},{key:"muteMusic",value:function(e){var t;null===(t=this.inst.music)||void 0===t||t.mute(e)}},{key:"getCurrentMusic",value:function(){return this.inst.currentMusic}},{key:"turnUpMusic",value:(a=P((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)>.6||(yield this.setVolumeMusic(.6,!0))})),function(){return a.apply(this,arguments)})},{key:"turnDownMusic",value:(i=P((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)<.2||(yield this.setVolumeMusic(.2,!0))})),function(){return i.apply(this,arguments)})},{key:"turnOffMusic",value:(n=P((function*(){yield this.setVolumeMusic(0)})),function(){return n.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var e,t;return null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0}},{key:"setVolumeMusic",value:(t=P((function*(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.inst.music){this.inst.signal.abort();var i=new me;if(this.inst.signal=i,n){var a=this.inst.music.getVolume(),r=a;yield fe.runOnUpdateAsync(this.inst.music.node,1,(function(n){t.inst.music&&(r=a+(e-a)*n,t.inst.music.setVolume(r))}),i)}else{var o;null===(o=this.inst.music)||void 0===o||o.setVolume(e)}}})),function(e){return t.apply(this,arguments)})}]),e}());t._RF.pop(),t._RF.push({},"bce15LcVrxOfYMa9rbXN/qi","Localize",void 0);var Yt=r.ccclass,qt=r.property,jt=r.executeInEditMode,Zt=r.disallowMultiple,Jt=GameCore,Qt=Jt.Utils,Xt=Qt.Signal,$t=(Qt.Function,Qt.Array),en=Jt.Events,tn=Object.keys(qe),nn=globalThis.game,an=nn.language,rn=nn.event,on=function(e){return e[e.Text=0]="Text",e[e.Texture=1]="Texture",e}({});S(on);var sn=(St=Yt("LocalizeParams"),ht=qt({visible:!1}),pt=qt(o),St((vt=U((ft=function(){function e(){B(this,e),w(this,"_text",vt,this)}return b(e,[{key:"text",get:function(){return this._text},set:function(e){this._text=e,g.emit(ve.LOCALIZE_PARAMS_UPDATED,{text:e})}}]),e}()).prototype,"_text",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U(ft.prototype,"text",[pt],Object.getOwnPropertyDescriptor(ft.prototype,"text"),ft.prototype),It=ft))||It),un=e("h",(Rt=Yt("Localize"),Lt=jt(!0),mt=qt({tooltip:"TEXTURE ONLY: Skip default locale initialization for textures"}),yt=qt({visible:!1}),Nt=qt({type:o,visible:function(){return this.skipDefaultLocaleInit}}),gt=qt({visible:!1}),Ft=qt({type:m(on)}),Ot=qt({type:y,visible:function(){return this.l10nType===on.Text}}),Gt=qt({type:[sn],visible:function(){return this.l10nType===on.Text}}),Ct=qt({type:N,visible:function(){return this.l10nType===on.Texture}}),Vt=qt({visible:function(){return this.l10nType===on.Texture}}),Mt=qt({visible:!1}),Bt=qt({type:o}),Rt(bt=Zt(bt=Lt((Ut=U((Pt=function(e){V(u,e);var t,n,i,a,r,o,s=M(u);function u(){var e;B(this,u);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=s.call.apply(s,[this].concat(n))).localized=!1,w(e,"skipDefaultLocaleInit",Ut,D(e)),w(e,"_defaultLocale",wt,D(e)),w(e,"_l10nType",Dt,D(e)),w(e,"label",kt,D(e)),w(e,"params",Wt,D(e)),w(e,"sprite",Ht,D(e)),w(e,"packable",xt,D(e)),w(e,"_key",zt,D(e)),e.updateSignalController=new Xt.SignalController,e.updateLocalization=P((function*(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e.enabledInHierarchy&&void 0!==e.key){var n=e.updateSignalController.renew();try{if(e.localized=!1,e.isTextKey(e.key))yield e.updateTextLocalization(e.key,n);else{if(!e.isTextureKey(e.key))throw new Error("Key ".concat(e.key," not found in locales"));var i=an.getCurrentLocale(),a=t&&!1===ne&&e.skipDefaultLocaleInit&&void 0!==e.defaultLocale&&i===e.defaultLocale;!1===a&&(yield e.updateTextureLocalization(e.key,n),!1===ne&&(e.skipDefaultLocaleInit=!1))}e.localized=!0,g.emit(ve.LOCALIZE_APPLIED,{localize:D(e),key:e.key})}catch(e){console.warn(e)}}})),e}return b(u,[{key:"defaultLocale",get:function(){return this._defaultLocale},set:function(e){if(void 0===e&&this.skipDefaultLocaleInit)return console.warn("Skip default locale initialization is enabled but default locale is not set"),void(this._defaultLocale=void 0);void 0!==e?tn.includes(e)?this._defaultLocale=e:console.warn("Key ".concat(e," not found. Supported locales are ").concat(tn.join(", "))):this._defaultLocale=void 0}},{key:"l10nType",get:function(){return this._l10nType},set:function(e){this._l10nType=e,e===on.Texture&&(this.label=void 0,this.params=[]),e===on.Text&&(this.sprite=void 0,this.packable=!0)}},{key:"key",get:function(){return this._key},set:function(e){this.isValidKey(e)?(this._key=e,this.updateLocalization()):console.warn("Key ".concat(e," not found in locales"))}},{key:"setParams",value:function(e){for(;this.params.length<e.length;)this.params.push(new sn);this.params.forEach((function(t,n){var i;t.text=null!==(i=e[n])&&void 0!==i?i:t.text}))}},{key:"waitLocalized",value:function(){var e=this;return this.localized?Promise.resolve():new Promise((function(t){g.on(ve.LOCALIZE_APPLIED,(function n(i){i.localize===e&&(g.off(ve.LOCALIZE_APPLIED,n),t())}))}))}},{key:"__preload",value:function(){}},{key:"isValidKey",value:function(e){return!!this.isTextKey(e)||!!this.isTextureKey(e)}},{key:"isTextKey",value:function(e){return this.l10nType===on.Text&&an.hasTextKey(e)}},{key:"isTextureKey",value:function(e){return this.l10nType===on.Texture&&an.hasTextureKey(e)}},{key:"onEnable",value:function(){this.listenEvent()}},{key:"start",value:function(){this.updateLocalization(!0)}},{key:"onDisable",value:function(){this.unlistenEvent(),this.updateSignalController.abort()}},{key:"listenEvent",value:function(){rn.on(en.LANGUAGE_CHANGED,this.updateLocalization),g.on(ve.LOCALIZE_PARAMS_UPDATED,this.updateLocalization)}},{key:"unlistenEvent",value:function(){rn.off(en.LANGUAGE_CHANGED,this.updateLocalization),g.off(ve.LOCALIZE_PARAMS_UPDATED,this.updateLocalization)}},{key:"updateTextLocalization",value:(o=P((function*(e,t){if(void 0===this.label)throw new Error("Text localize component <".concat(this.node.name,"> has no label"));var n=an.getCurrentLocale(),i=an.getText(e,this.params.map((function(e){return e.text})),n);this.label.string=i,yield this.setFontRuntime(this.label,n,t)})),function(e,t){return o.apply(this,arguments)})},{key:"setFontRuntime",value:(r=P((function*(e,t,n){if(!n.aborted){var i=yield ct.loadFontAsync(t);n.aborted||null!=i&&(e.font=i)}})),function(e,t,n){return r.apply(this,arguments)})},{key:"setFontEditor",value:(a=P((function*(e,t,n){if(!n.aborted){var i=yield Editor.Message.request("asset-db","query-uuid","db://assets/resources/".concat(Ye[t],".ttf"));if(!n.aborted&&null!==i){var a=yield Editor.Message.request("scene","query-node",e.node.uuid),r=$t.searchIndex(a.__comps__,(function(e){return"cc.Label"===e.type})),o="__comps__.".concat(r,".font");yield Editor.Message.request("scene","set-property",{uuid:e.node.uuid,path:o,dump:{type:"cc.Font",value:{uuid:i}}})}}})),function(e,t,n){return a.apply(this,arguments)})},{key:"updateTextureLocalization",value:(i=P((function*(e,t){if(void 0===this.sprite)throw new Error("Texture localize component <".concat(this.node.name,"> has no sprite"));var n=an.getTexture(e);yield this.setSpriteRuntime(this.sprite,n,t)})),function(e,t){return i.apply(this,arguments)})},{key:"setSpriteRuntime",value:(n=P((function*(e,t,n){var i=yield ct.loadSpriteFrameAsync("".concat(t,"/spriteFrame"),this.packable);n.aborted||(null!==e?e.spriteFrame=i:console.warn("Sprite not found by path: ".concat(t)))})),function(e,t,i){return n.apply(this,arguments)})},{key:"setSpriteEditor",value:(t=P((function*(e,t,n){var i=yield Editor.Message.request("asset-db","query-assets",{pattern:"db://assets/resources/".concat(t,"*"),ccType:"cc.SpriteFrame"});if(!n.aborted)if(0!==i.length)if(i.length>1){var a=i.slice(0,5).map((function(e){return e.path})),r="".concat(a.join(",")).concat(a.length<i.length?"...":"");console.warn("Ambiguous sprite's path: ".concat(t,". Found ").concat(r))}else{var o=i[0].uuid,s=yield Editor.Message.request("scene","query-node",e.node.uuid),u=$t.searchIndex(s.__comps__,(function(e){return"cc.Sprite"===e.type})),l="__comps__.".concat(u,".spriteFrame");yield Editor.Message.request("scene","set-property",{uuid:e.node.uuid,path:l,dump:{type:"cc.SpriteFrame",value:{uuid:o}}})}else console.error("Sprite not found by path: ".concat(t))})),function(e,n,i){return t.apply(this,arguments)})}]),u}(u)).prototype,"skipDefaultLocaleInit",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wt=U(Pt.prototype,"_defaultLocale",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"en"}}),U(Pt.prototype,"defaultLocale",[Nt],Object.getOwnPropertyDescriptor(Pt.prototype,"defaultLocale"),Pt.prototype),Dt=U(Pt.prototype,"_l10nType",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return on.Text}}),U(Pt.prototype,"l10nType",[Ft],Object.getOwnPropertyDescriptor(Pt.prototype,"l10nType"),Pt.prototype),kt=U(Pt.prototype,"label",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=U(Pt.prototype,"params",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ht=U(Pt.prototype,"sprite",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=U(Pt.prototype,"packable",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zt=U(Pt.prototype,"_key",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U(Pt.prototype,"key",[Bt],Object.getOwnPropertyDescriptor(Pt.prototype,"key"),Pt.prototype),bt=Pt))||bt)||bt)||bt));t._RF.pop(),t._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var ln=1/6;t._RF.pop(),t._RF.push({},"542caJcCPRMI5EaOkgOzhek","ItemKeys",void 0);var cn=e("I",{HINT:"hint",THUNDER:"thunder",STORM:"storm",PLIERS:"pliers"});t._RF.pop(),t._RF.push({},"8875b8IrVpJWJr/45aS1gql","DefaultRespMatchData",void 0);var En=GameCore.Dtos.Match.Data.getDefaultData();e("D",z(z({},En),{},{extraData:null}));t._RF.pop(),t._RF.push({},"7decaASyaFOAp2izq8DsREg","TotalLevel",void 0);var _n,Tn=e("j",1e3);t._RF.pop(),t._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var dn=e("y",{level:0,coins:0,stars:0,totalLevel:Tn,levelVersion:0,lastRewardedItems:0,lastCreateTournamentShown:0,guideItemShowed:[],items:(_n={},H(_n,cn.HINT,0),H(_n,cn.THUNDER,0),H(_n,cn.STORM,0),H(_n,cn.PLIERS,0),_n)});t._RF.pop(),t._RF.push({},"52b52FNwvhBKY/becAy420o","Leaderboard",void 0);e("s",{GLOBAL:"global-leaderboard-key",FRIENDS:"friends-leaderboard-key"}),e("z",{GLOBAL:"global-leaderboard-id",FRIENDS:"friends-leaderboard-id"});t._RF.pop(),t._RF.push({},"3b9bcPJBxpNOqG2I6exTOVn","MatchCustomData",void 0);var An=GameCore.Dtos.Match.CustomData.getDefaultData();e("M",z(z({},An),{},{score:0}));t._RF.pop(),t._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);e("P",{score:0,endlessScore:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:dn,isFirstLogin:!0,dailyRewarded:{logDays:[],lastRewarded:0}});t._RF.pop(),t._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var Sn=e("q",{BOOT_SCENE:"BootScene",GAME_SCENE:"GameScene",DASHBOARD_SCENE:"DashboardScene",CHALLENGE_RESULT_SCENE:"ChallengeResultScene",TEST_PARTICLE_SYSTEM_SCENE:"TestParticleSystemScene"});t._RF.pop(),t._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var hn,pn,In,fn,vn,Rn,Ln,mn,yn,Nn,gn,Fn=globalThis.game.event,On=GameCore.Events;e("o",function(){function e(){B(this,e)}return b(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"switchScene",value:function(e,t){Fn.emit(On.SWITCH_SCENE,{sceneName:e,sceneData:t})}},{key:"preloadScene",value:function(e){Fn.emit(On.PRELOAD_SCENE,{sceneName:e})}},{key:"markIsTestScene",value:function(e){Fn.emit(On.MARK_IS_TEST_SCENE,{sceneName:e})}},{key:"preloadDashboardScene",value:function(){this.preloadScene(Sn.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(e){this.switchScene(Sn.DASHBOARD_SCENE,e)}},{key:"preloadGameScene",value:function(){this.preloadScene(Sn.GAME_SCENE)}},{key:"switchToGameScene",value:function(e){this.switchScene(Sn.GAME_SCENE,e)}},{key:"getSceneData",value:function(e){return"data"in e.scene&&e.scene.data||{}}}]),e}());t._RF.pop(),t._RF.push({},"46b8aK6CThLtpMhZPEfDrNs","LoadingFullScreen",void 0);var Gn,Cn,Vn,Mn,Bn,bn=r.ccclass,Pn=r.property,Un=["interMsg.reviveAd","interMsg.doubleAd","interMsg.ranked","interMsg.friendChallenge","interMsg.bragChallenge","interMsg.clearTiles","interMsg.beatClock","interMsg.clearBombs","interMsg.seasonPack","interMsg.collectStars","interMsg.competeInLb","interMsg.competeWithFriends","interMsg.thunder","interMsg.hint","interMsg.pliers","interMsg.tournado","interMsg.coins","interMsg.seasonTiles","interMsg.dailyLogin","interMsg.levelUp","interMsg.seasonRewards"],wn=(hn=bn("LoadingFullScreen"),pn=Ke.required(),In=Pn(F),fn=Ke.required(),vn=Ke.required(),Rn=Pn(un),hn((yn=U((mn=function(e){V(a,e);var t,n,i=M(a);function a(){var e;B(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),w(e,"progressBar",yn,D(e)),w(e,"uiOpacity",Nn,D(e)),w(e,"loadingLabelLocalizer",gn,D(e)),e}return b(a,[{key:"__preload",value:function(){this.uiOpacity=this.getComponent(O),Ke.validateRequiredProperties(this)}},{key:"onLoad",value:function(){this.uiOpacity.opacity=0,this.progressBar.progress=0}},{key:"show",value:(n=P((function*(e){this.uiOpacity.opacity=0,this.progressBar.progress=0;var t=l(this.uiOpacity).to(.5,{opacity:255},{easing:"cubicOut"}),n=l(this.progressBar).to(8,{progress:.9},{easing:"cubicOut"});this.runLoadingTextAnimation(),fe.runTweenAsync(t),yield fe.runTweenAsync(n)})),function(e){return n.apply(this,arguments)})},{key:"hide",value:(t=P((function*(e){if(this.uiOpacity&&this.progressBar){this.uiOpacity.opacity=255,this.progressBar.progress=.9;var t=l(this.uiOpacity).to(.5,{opacity:0},{easing:"cubicIn"}),n=l(this.progressBar).to(.2,{progress:1},{easing:"cubicIn"});this.runLoadingTextAnimation(),yield fe.runTweenAsync(n),this.stopLoadingTextAnimation(),yield fe.runTweenAsync(t),this.node.active=!1}})),function(e){return t.apply(this,arguments)})},{key:"runLoadingTextAnimation",value:function(){var e=this;this.updateHintText(),this.schedule((function(){return e.updateHintText()}),5)}},{key:"updateHintText",value:function(){if(this.loadingLabelLocalizer){var e=this.getHintText();e&&(this.loadingLabelLocalizer.key=e)}}},{key:"stopLoadingTextAnimation",value:function(){this.unscheduleAllCallbacks()}},{key:"getHintText",value:function(){return Un[Math.floor(Math.random()*Un.length)]}}]),a}(u)).prototype,"progressBar",[pn,In],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn=U(mn.prototype,"uiOpacity",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=U(mn.prototype,"loadingLabelLocalizer",[vn,Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln=mn))||Ln);t._RF.pop(),t._RF.push({},"74caciRBKZLu7ymXYJK2GYy","Loading",void 0);var Dn=r.ccclass,kn=r.property,Wn=(Gn=Dn("Loading"),Cn=kn(I),Gn((Bn=U((Mn=function(e){V(a,e);var t,n,i=M(a);function a(){var e;B(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),w(e,"loadingPrefab",Bn,D(e)),e.loadingNode=null,e}return b(a,[{key:"__preload",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){Ke.lazyValidateProperties(this)}},{key:"onLoad",value:function(){this.makePersistent()}},{key:"makePersistent",value:function(){s.addPersistRootNode(this.node)}},{key:"createLoadingFullScreen",value:function(){var e,t=h("Canvas");if(t&&!t.getChildByName("Loading")){this.loadingNode||(this.loadingNode=G(this.loadingPrefab));var n=G._clone(this.loadingNode);this.loadingFullScreen=n.getComponent(wn),this.node.active=!1,null===(e=h("Canvas"))||void 0===e||e.addChild(n)}}},{key:"show",value:(n=P((function*(e){this.createLoadingFullScreen(),this.node.active||(this.node.active=!0,yield this.loadingFullScreen.show(e))})),function(e){return n.apply(this,arguments)})},{key:"hide",value:(t=P((function*(e){var t;null!==(t=this.node)&&void 0!==t&&t.active&&this.loadingFullScreen&&(yield this.loadingFullScreen.hide(e),this.node.active=!1)})),function(e){return t.apply(this,arguments)})}]),a}(u)).prototype,"loadingPrefab",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vn=Mn))||Vn);t._RF.pop(),t._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var Hn=globalThis.game.event,xn=GameCore,zn=xn.Events,Kn=xn.Utils.Array,Yn=e("S",function(){function e(){B(this,e),this.showedScreens=[]}var t,n;return b(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadScreens",value:function(){Hn.emit(zn.PRELOAD_SCREENS)}},{key:"openScreen",value:function(e,t){var n=_t[e];Hn.emit(zn.OPEN_SCREEN,{screenName:n,screenData:t})}},{key:"closeScreen",value:function(e){var t=_t[e];Hn.emit(zn.CLOSE_SCREEN,{screenName:t})}},{key:"openScreenAndWaitForClose",value:function(e,t){var n=this;return new Promise((function(i){n.openScreen(e,t);Hn.on(zn.CLOSE_SCREEN,(function t(n){n.screenName===_t[e]&&(Hn.off(zn.CLOSE_SCREEN,t),i(n))}))}))}},{key:"showLoadingScreen",value:function(e){this.openScreen(Et.LOADING_SCREEN,{duration:e})}},{key:"closeLoadingScreen",value:function(){this.closeScreen(Et.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(e,t){this.openScreen(Et.NOTIFICATION_SCREEN,{message:e,duration:t})}},{key:"showNotificationScreenWithLocalizedKey",value:function(e,t){this.openScreen(Et.NOTIFICATION_SCREEN,{localizedMessageKey:e,duration:t})}},{key:"closeNotificationScreen",value:function(){this.closeScreen(Et.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(e){Kn.has(this.inst.showedScreens,e)||this.inst.showedScreens.push(e)}},{key:"showLoadingFullScreen",value:(n=P((function*(e){var t;if(!Kn.has(this.inst.showedScreens,e)){this.addShowedScene(e);var n=h("Loading");n&&(n.active=!0,yield null===(t=n.getComponent(Wn))||void 0===t?void 0:t.show(e))}})),function(e){return n.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(t=P((function*(e){var t;Kn.has(this.inst.showedScreens,e)||(yield null===(t=h("Loading"))||void 0===t||null===(t=t.getComponent(Wn))||void 0===t?void 0:t.hide(e))})),function(e){return t.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){this.openScreen(Et.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}},{key:"showTournamentDetailScreen",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.openScreen(Et.TOURNAMENT_DETAIL_SCREEN,{playAnimation:n,tournament:e,tournamentContextType:t})}},{key:"closeTournamentDetailScreen",value:function(){this.closeScreen(Et.TOURNAMENT_DETAIL_SCREEN)}}]),e}());t._RF.pop(),t._RF.push({},"d6fb7/+FFxLs7k5w6K38JYb","TournamentUtils",void 0);var qn=GameCore,jn=qn.Utils,Zn=jn.String,Jn=jn.Valid,Qn=jn.Array,Xn=qn.Configs.Mockup.Leaderboards,$n=globalThis.game,ei=$n.leaderboard,ti=$n.player;e("k",function(){function e(){var t=this;B(this,e),this.globalTournamentLBData=[],this.playerTournaments=[],this.tournamentData=[],this.maxTimeRefetch=5e3,this.lastFetchTournamentsData=0,this.lastFetchGlobalTournament=0,this.fetchGlobalTournamentLeaderboardAsync=P((function*(){try{Date.now()-t.lastFetchGlobalTournament>t.maxTimeRefetch&&(t.globalTournamentLBData=yield ei.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"}),t.globalTournamentLBData.sort((function(e,t){return e.expireTime-t.expireTime})))}catch(e){console.warn("fetchGlobalTournamentLeaderboardAsync",e)}return t.globalTournamentLBData})),this.fetchTournamentsAsync=P((function*(){try{Date.now()-t.lastFetchTournamentsData>t.maxTimeRefetch&&(t.playerTournaments=yield GameSDK.tournament.getTournamentsAsync(),t.playerTournaments.sort((function(e,t){return e.getEndTime()-t.getEndTime()})))}catch(e){console.warn("fetchTournamentsAsync",e)}return t.playerTournaments}))}var t;return b(e,[{key:"processPlayerTournamentData",value:function(){var e,t=[],n=k(this.playerTournaments);try{for(n.s();!(e=n.n()).done;){var i,a,r=e.value,o="".concat(r.getID()),s=r.getContextID(),u=r.getEndTime(),l=this.parseTournamentPayload(r.getPayload());if(this.validateGameSDKTournamentPayload(l))if(!(u<Date.now()/1e3)){var c=r.getTournamentType();if("PAGE_HOSTED"!==c){var E=null!==(i=l.playerName)&&void 0!==i?i:"Player",_={id:o,title:null!==(a=r.getTitle())&&void 0!==a?a:this.createDefaultTournamentName(E),endTime:u,contextId:s,payload:l,tournamentType:c};t.push(_)}}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"processGlobalTournamentLeaderboardData",value:function(){var e=[];if(Xn.Enabled){var t,n=k(this.playerTournaments);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,r=a.getTournamentType();if("PAGE_HOSTED"===r){var o="".concat(a.getID()),s=a.getContextID(),u=a.getEndTime(),l=this.parseTournamentPayload(a.getPayload()),c={id:o,title:null!==(i=a.getTitle())&&void 0!==i?i:"Global Tournament",endTime:u,contextId:s,payload:l,tournamentType:r};e.push(c)}}}catch(e){n.e(e)}finally{n.f()}return e}var E,_=k(this.globalTournamentLBData);try{for(_.s();!(E=_.n()).done;){var T,d=E.value,A=void 0;try{A=JSON.parse(d.description)}catch(e){continue}if(this.validateExpireTime(d)&&this.validateGlobalTournamentPayload(A)){var S={id:A.tournamentId,title:d.name,endTime:this.getTournamentEndTime(d),contextId:A.contextId,payload:{playerId:"global",playerName:"global",leaderboardId:d._id,themeId:null!==(T=A.themeId)&&void 0!==T?T:it.SUMMER},tournamentType:"PAGE_HOSTED"};e.push(S)}}}catch(e){_.e(e)}finally{_.f()}return e}},{key:"validateGlobalTournamentPayload",value:function(e){var t=e.tournamentId,n=e.contextId;return!(!Jn.isString(t)||""===t)&&!(!Jn.isString(n)||""===n)}},{key:"getTournamentEndTime",value:function(e){var t=new Date(e.createdAt).getTime();return Math.round((1e3*e.expireTime+t)/1e3)}},{key:"validateExpireTime",value:function(e){return 1e3*this.getTournamentEndTime(e)-Date.now()>0}},{key:"validateGameSDKTournamentPayload",value:function(e){return!(!Jn.isString(e.playerId)||""===e.playerId)&&(!(!Jn.isString(e.playerName)||""===e.playerName)&&!(!Jn.isString(e.leaderboardId)||""===e.leaderboardId))}},{key:"createDefaultTournamentName",value:function(e){var t=e.substring(0,7),n="".concat(t.split(" ")[0]||t,"'s Tournament"),i=Zn.removeDiacritics(n);return"".concat(i)}},{key:"parseTournamentPayload",value:function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new e),this._instance}},{key:"requestTournamentDataAsync",value:(t=P((function*(){var t=e.getInstance();yield Promise.all([t.fetchTournamentsAsync(),t.fetchGlobalTournamentLeaderboardAsync()]);var n=t.processPlayerTournamentData(),i=t.processGlobalTournamentLeaderboardData();n.sort((function(e,t){return e.endTime-t.endTime})),i.sort((function(e,t){return e.endTime-t.endTime})),t.tournamentData=[].concat(K(i),K(n));var a,r=k(t.tournamentData);try{for(r.s();!(a=r.n()).done;){var o=a.value.payload.leaderboardId;o&&(ei.isExistLeaderboardId(o)||ei.addLeaderboard({type:"tournament",name:o,autoSortRank:!0,leaderboardId:o}))}}catch(e){r.e(e)}finally{r.f()}return t.tournamentData})),function(){return t.apply(this,arguments)})},{key:"getAllTournamentData",value:function(){return e.getInstance().tournamentData}},{key:"getTournamentDataById",value:function(t){var n=e.getInstance();return Qn.search(n.tournamentData,(function(e){return e.id===t}))}},{key:"getPlayerTournamentData",value:function(){var t=e.getInstance(),n=ti.getPlayerId();return t.tournamentData.filter((function(e){return e.payload.playerId===n}))}},{key:"getFriendsTournamentData",value:function(){var t=e.getInstance(),n=ti.getPlayerId();return t.tournamentData.filter((function(e){var t=e.payload;return t.playerId!==n&&"global"!==t.playerId}))}},{key:"getGlobalTournamentData",value:function(){return e.getInstance().tournamentData.filter((function(e){return"global"===e.payload.playerId}))}},{key:"validateTournamentExpired",value:function(t){var n=e.getTournamentDataById(t);return!!n&&n.endTime<Date.now()/1e3}}]),e}());t._RF.pop(),t._RF.push({},"c517dy1TKlPd7mHxulLPv1G","TileSpecialTypes",void 0);e("T",{bomb:"bomb",star:"star",none:"none"});t._RF.pop(),t._RF.push({},"4a4bfX6KIJCcIozlNHuAwoi","AdsUtils",void 0);var ni,ii,ai,ri,oi,si=GameCore,ui=si.Configs,li=si.Plugins.Ads,ci=li.Types,Ei=li.Status,_i=si.Utils.Array,Ti=globalThis.game.ads;e("m",function(){function e(){B(this,e),this.isAvoidBannerShowed=!1}var t,n,i,a;return b(e,[{key:"canbeShowInSDK",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=GameSDK.getSDKName();return(null==t||!t.length||!_i.has(t,n))&&!(null!=e&&e.length&&!_i.has(e,n))}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadAds",value:(a=P((function*(){var e=ui.Ads,t=e.Enabled,n=e.InterstitialAdOptions,i=e.RewardedVideoAdOptions,a=e.RewardedInterstitialAdOptions;if(t){var r=ci.INTERSTITIAL,o=ci.REWARDED_VIDEO,s=ci.REWARDED_INTERSTITIAL;n.forEach((function(e){var t=e.PlacementId;Ti.loadAdAsync(r,t).catch((function(){}))})),i.forEach((function(e){var t=e.PlacementId;Ti.loadAdAsync(o,t).catch((function(){}))})),a.forEach((function(e){var t=e.PlacementId;Ti.loadAdAsync(s,t).catch((function(){}))}))}})),function(){return a.apply(this,arguments)})},{key:"setAvoidBannerShowed",value:function(e){this._instance.isAvoidBannerShowed=e}},{key:"showBannerAds",value:function(){var e=this,t=ui.Ads,n=t.Enabled,i=t.BannerDisplayAdOptions;if(n&&!this.inst.isAvoidBannerShowed){var a=C.instance.getVisibleSize(),r=Re.worldSizeToCssSize(a.height*ln);i.forEach((function(t){var n=t.PlacementId,i=t.Position,a=t.BannerHeight;"bottom"===i&&a>r||e.showBannerAd(n)}))}}},{key:"hideBannerAds",value:function(){var e=this,t=ui.Ads,n=t.Enabled,i=t.BannerDisplayAdOptions;n&&i.forEach((function(t){var n=t.PlacementId;e.hideBannerAd(n)}))}},{key:"showBannerAd",value:function(e){this.inst.isAvoidBannerShowed||Ti.showBannerAdAsync(e).catch((function(e){}))}},{key:"hideBannerAd",value:function(e){Ti.hideBannerAdAsync(e).catch((function(e){}))}},{key:"canShowInterstitialAd",value:function(){var e=Ti.getAdStatus(ci.INTERSTITIAL)===Ei.FILLED;return Ti.canbeShowInterstitialAd()&&e}},{key:"canShowRewardedVideoAd",value:function(){return Ti.getAdStatus(ci.REWARDED_VIDEO)===Ei.FILLED}},{key:"canShowRewardedInterstitialAd",value:function(){return Ti.getAdStatus(ci.REWARDED_INTERSTITIAL)===Ei.FILLED}},{key:"showInterstitialAdAsync",value:(i=P((function*(e){var t=e.forLevel,n=e.includeSDK,i=e.excludeSDK;if(!this.inst.canbeShowInSDK(n,i))return!1;if(t&&ui.Gameplay.StartAdAtLevel>=t)return!1;if(!Ti.canbeShowInterstitialAd())return!1;var a=Kt.getVolumeMusic();try{return Kt.muteSound(!0),Kt.setVolumeMusic(0,!0),Ti.getAdStatus(ci.INTERSTITIAL)===Ei.FILLED&&(yield Ti.showAdAsync(ci.INTERSTITIAL)),!0}catch(e){return console.warn("showInterstitialAdAsync failed",e),!1}finally{g.resume(),Kt.muteAudio(!1),Kt.setVolumeMusic(a,!0),Ti.loadAdAsync(ci.INTERSTITIAL).catch((function(){}))}})),function(e){return i.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(n=P((function*(e){var t=e.includeSDK,n=e.excludeSDK;if(!this.inst.canbeShowInSDK(t,n))return!1;var i=Kt.getVolumeMusic();try{return Kt.muteSound(!0),Kt.setVolumeMusic(0,!0),Ti.getAdStatus(ci.REWARDED_VIDEO)!==Ei.FILLED&&(Yn.showLoadingScreen(),yield Ti.loadAdAsync(ci.REWARDED_VIDEO)),yield Ti.showAdAsync(ci.REWARDED_VIDEO),!0}catch(e){return console.warn("showRewardVideoAdAsync failed",e),e instanceof Object&&"code"in e&&"USER_INPUT"===e.code?Yn.showNotificationScreenWithLocalizedKey("ads.cancelled",2):Yn.showNotificationScreenWithLocalizedKey("error.noAd",2),!1}finally{g.resume(),Yn.closeLoadingScreen(),Kt.muteAudio(!1),Kt.setVolumeMusic(i,!0),Ti.loadAdAsync(ci.REWARDED_VIDEO).catch((function(){}))}})),function(e){return n.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(t=P((function*(e){var t=e.includeSDK,n=e.excludeSDK;if(!this.inst.canbeShowInSDK(t,n))return!1;var i=Kt.getVolumeMusic();try{return Kt.muteSound(!0),Kt.setVolumeMusic(0,!0),Ti.getAdStatus(ci.REWARDED_INTERSTITIAL)!==Ei.FILLED&&(Yn.showLoadingScreen(),yield Ti.loadAdAsync(ci.REWARDED_INTERSTITIAL)),yield Ti.showAdAsync(ci.REWARDED_INTERSTITIAL),!0}catch(e){return console.warn("showRewardedInterstitialAdAsync failed",e),!1}finally{g.resume(),Yn.closeLoadingScreen(),Kt.muteAudio(!1),Kt.setVolumeMusic(i,!0),Ti.loadAdAsync(ci.REWARDED_INTERSTITIAL).catch((function(){}))}})),function(e){return t.apply(this,arguments)})}]),e}());t._RF.pop(),t._RF.push({},"d25c5ZVzYVC/YcfG5prmRdB","Screens",void 0);var di=r.ccclass,Ai=r.property;e("F",(ni=di("Screens"),ii=Ai({type:m(Et)}),ni((oi=U((ri=function(e){V(n,e);var t=M(n);function n(){var e;B(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a)),w(e,"screenKeys",oi,D(e)),e}return b(n)}(u)).prototype,"screenKeys",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ai=ri))||ai));t._RF.pop(),t._RF.push({},"d21cb1yOpdMOJOXDQb3KWCE","renderCustomInviteScore",void 0);var Si=GameCore,hi=Si.Configs,pi=Si.Utils.Object,Ii=hi.FrameCapture,fi=Ii.Enabled,vi=Ii.WideframeConfigs,Ri=(e("w",function(){var e=P((function*(e){if(!fi)return console.warn("FrameCapture is not enabled"),null;var t=Li(e);if(!t)return null;Ri(t,vi.InviteScore);var n=window.game.frameCapture,i=vi.InviteScore,a=i.Width,r=i.Height;return n.captureAsync({name:"InviteScore",width:a,height:r,renderOptions:t})}));return function(t){return e.apply(this,arguments)}}()),function(e,t){var n=t.Width,i=t.Height,a=t.Wideframe;e.wideframe={name:"invite-score",type:"image",depth:0,image:a,size:[n,i],position:[0,0]}}),Li=function(e){try{var t=e.playerId,n=e.playerPhoto,i=e.playerScore,a=vi.InviteScore.RenderOptions,r=pi.clone(a);if(!r)return null;var o=pi.clear(r),s=pi.camelCaseKeys(o);console.log("renderOptions",s);var u=s.avatar,l=s.playerScore;return"image"===u.type&&(u.name="".concat(t),u.image=n),"text"===l.type&&(l.text="".concat(i)),s}catch(e){return console.warn("getRenderOptionsInviteScore",e),null}};t._RF.pop(),t._RF.push({},"52eeeMWZe5Ma5u9x4Jk6Zw2","renderCustomShareScore",void 0);var mi=GameCore,yi=mi.Configs.FrameCapture,Ni=yi.Enabled,gi=yi.WideframeConfigs,Fi=mi.Utils,Oi=Fi.Object,Gi=Fi.Valid,Ci=(e("v",function(){var e=P((function*(e){if(!Ni)return console.warn("FrameCapture is not enabled"),null;var t=Vi(e);if(!t)return null;Ci(t,gi.ShareScore);var n=window.game.frameCapture,i=gi.ShareScore,a=i.Width,r=i.Height;return n.captureAsync({name:"ShareScore",width:a,height:r,renderOptions:t})}));return function(t){return e.apply(this,arguments)}}()),function(e,t){var n=t.Width,i=t.Height,a=t.Wideframe;e.wideframe={name:"share-score",type:"image",depth:0,image:a,size:[n,i],position:[0,0]}}),Vi=function(e){try{var t=globalThis.game.language,n=e.playerId,i=e.playerPhoto,a=e.playerScore,r=gi.ShareScore.RenderOptions,o=Oi.clone(r);if(!o)return null;var s=Oi.clear(o),u=Oi.camelCaseKeys(s);Gi.isDebugger()&&console.log("renderOptions",u);var l=u.avatar,c=u.playerScore,E=u.message,_=t.getCurrentLocale(),T=Ye[_],d="".concat(T.split("/")[1],"_LABEL");if("text"===(null==E?void 0:E.type)){var A,S=t.hasTextKey(E.text,_)?E.text:"share.canYouDoBetter",h=t.getText(S),p=null!==(A=je[_])&&void 0!==A?A:"104px";E.text=h,E.font=T?"".concat(E.font," ").concat(p," ").concat(d,","):E.font}return"image"===l.type&&(l.name="".concat(n),l.image=i),"text"===c.type&&(c.text="".concat(a),c.font=T?"".concat(c.font," ").concat(d,","):c.font),u}catch(e){return Gi.isDebugger()&&console.warn("getRenderOptionsShareScore",e),null}};t._RF.pop()}}}));

System.register("chunks:///rollupPluginModLoBabelHelpers-487c63b6.js",[],(function(e){return{execute:function(){function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e,t,r,n,o,i,u){try{var c=e[i](u),f=c.value}catch(e){return void r(e)}c.done?t(f):Promise.resolve(f).then(n,o)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function o(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(t){return(i=e("j",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)}))(t)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(t,r,n){return(f=c()?e("q",Reflect.construct.bind()):e("q",(function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}))).apply(null,arguments)}function l(t){var r="function"==typeof Map?new Map:void 0;return(l=e("o",(function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return f(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})))(t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?e("i",Reflect.get.bind()):e("i",(function(e,t,r){var n=y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}))).apply(this,arguments)}function s(e,t,r,n){return(s="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var i,u=y(e,t);if(u){if((i=Object.getOwnPropertyDescriptor(u,t)).set)return i.set.call(n,r),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(n,t)){if(!i.writable)return!1;i.value=r,Object.defineProperty(n,t,i)}else o(n,t,r);return!0})(e,t,r,n)}function v(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}e({_:function(e,t,r,n,o){var i={};Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null);return i},a:function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)},b:function(e){var t=c();return function(){var r,n=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}},c:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d:function(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},e:a,f:function(e,t,r){t&&n(e.prototype,t);r&&n(e,r);return Object.defineProperty(e,"prototype",{writable:!1}),e},g:function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},h:function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}},i:b,j:i,k:function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var u=e.apply(t,n);function c(e){r(u,o,i,c,f,"next",e)}function f(e){r(u,o,i,c,f,"throw",e)}c(void 0)}))}},l:function(e,t,r,n,o){if(!s(e,t,r,n||e)&&o)throw new TypeError("failed to set property");return r},m:function(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},n:o,o:l,p:function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],f=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(e){l=!0,o=e}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},q:f})}}}));

} }; });