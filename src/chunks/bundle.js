System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///renderCustomShareScore-08f5c310.js",["./rollupPluginModLoBabelHelpers-487c63b6.js","cc"],(function(e){var t,n,i,a,r,o,s,u,l,c,E,_,T,d,A,S,h,p,I,v,f,R,L,m,y,N,g,F,O,C,G,V,M,B,b,P,w,k,U,D,W,H,x,z,K,Y,q,j,Z;return{setters:[function(e){t=e.a,n=e.b,i=e.c,a=e.f,r=e.k,o=e._,s=e.d,u=e.e,l=e.h,c=e.o,E=e.n,_=e.p,T=e.g,d=e.m},function(e){A=e.cclegacy,S=e.AudioSource,h=e.resources,p=e.AudioClip,I=e._decorator,v=e.CCString,f=e.director,R=e.Component,L=e.tween,m=e.Animation,y=e.isCCObject,N=e.ccenum,g=e.find,F=e.Font,O=e.Prefab,C=e.JsonAsset,G=e.AnimationClip,V=e.ImageAsset,M=e.SpriteFrame,B=e.UITransform,b=e.view,P=e.screen,w=e.math,k=e.Enum,U=e.Label,D=e.Sprite,W=e.game,H=e.ProgressBar,x=e.UIOpacity,z=e.instantiate,K=e.View,Y=e.Node,q=e.Button,j=e.Widget,Z=e.Vec3}],execute:function(){A._RF.push({},"cc0a5OvhdRCMZRZuRscaz+7","AudioPlayer",void 0);var J=function(e){t(o,e);var r=n(o);function o(e,t){var n;return i(this,o),(n=r.call(this,e)).audioSource=t,n}return a(o,[{key:"play",value:function(e){if(e){var t=e.volume,n=void 0===t?1:t,i=e.loop,a=void 0!==i&&i;this.audioSource.volume=n,this.audioSource.loop=a}this.audioSource.play()}},{key:"pause",value:function(){this.audioSource.pause()}},{key:"resume",value:function(){this.audioSource.state===S.AudioState.PAUSED&&this.audioSource.play()}},{key:"stop",value:function(){this.audioSource.stop()}},{key:"setVolume",value:function(e){this.audioSource.volume=e}},{key:"getVolume",value:function(){return this.audioSource.volume}},{key:"getAudioSource",value:function(){return this.audioSource}}]),o}(GameCore.Plugins.Audio.BaseAudioPlayer);A._RF.pop(),A._RF.push({},"8b5ecHv/+BJiorK1kiVbTcf","AudioChannel",void 0);var Q=GameCore,X=Q.Plugins.Audio.BaseChannelManager,$=Q.Utils.Array,ee=function(e){t(u,e);var o,s=n(u);function u(e,t){var n;return i(this,u),(n=s.call(this,t)).allowMultipleTracking={},n.handleLoadedAudio=function(e,t){var i=n.node.addComponent(S);return i.clip=t,i.playOnAwake=!1,new J(e,i)},n.node=e,n}return a(u,[{key:"playing",value:function(e){var t,n=null===(t=this.getAudioClip(e))||void 0===t?void 0:t.audioPlayer;return!!n&&n.getAudioSource().state===S.AudioState.PLAYING}},{key:"onLoadAudio",value:(o=r((function*(e,t){var n=this;return new Promise((function(t,i){h.load(e,p,(function(a,r){try{if(a)throw new Error(a.message);if(!n.node.isValid)return;var o=n.handleLoadedAudio(e,r);t(o)}catch(a){a instanceof Error?i(a):i(new Error("Audio load: Unknown error"))}}))}))})),function(e,t){return o.apply(this,arguments)})},{key:"playWithRealConfig",value:function(e,t){if(this.isCanPlay(t)){if(t){var n=t.volume,i=void 0===n?1:n,a=t.allowMultiple,r=void 0!==a&&a;if(t.volume=this.getVolume()*i,r){var o=e.getAudioSource().clip;if(!o)return;return void this.requestDuplicateAudioPlayer(e.getKey(),o,t).play(t)}}e.play(t)}}},{key:"isCanPlay",value:function(e){var t=this;if(e){var n=e.checkList;if((void 0===n?[]:n).some((function(e){var n=t.getAudioClip(e);return!!n&&n.audioPlayer.getAudioSource().state===S.AudioState.PLAYING})))return!1}return!0}},{key:"requestDuplicateAudioPlayer",value:function(e,t,n){var i=this.getDuplicateAudioFromPool(e);if(i){if(n){var a=i.key,r=n.volume,o=void 0===r?1:r;this.setAudioClip(a,{volume:o})}return i.audioPlayer}var s="".concat(e,"_").concat(this.allowMultipleTracking[e].currentPostFix),u=this.handleLoadedAudio(s,t);return this.allowMultipleTracking[e].list.push({audioPlayer:u,key:s}),this.allowMultipleTracking[e].currentPostFix+=1,this.setAudioClip(s,{audioPlayer:u,volume:1}),u}},{key:"getDuplicateAudioFromPool",value:function(e){if(this.allowMultipleTracking[e]){var t=this.allowMultipleTracking[e].list,n=$.search(t,(function(e){return e.audioPlayer.getAudioSource().state!==S.AudioState.PLAYING}));if(n)return n}else this.allowMultipleTracking[e]={currentPostFix:1,list:[]};return null}}]),u}(X);A._RF.pop();var te,ne,ie,ae,re,oe=e("E",!1);e("z",!0);A._RF.push({},"1a025mmN7BL7r5cF6gWR4b/","Music",void 0);var se,ue,le,ce,Ee,_e=I.ccclass,Te=I.property,de=globalThis.game,Ae=de.audio,Se=de.player,he=(te=_e("Music"),ne=Te(v),te((re=o((ae=function(e){t(o,e);var r=n(o);function o(){var e;i(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),s(e,"channelId",re,u(e)),e.channel=null,e.isMute=!1,e.volume=1,e}return a(o,[{key:"__preload",value:function(){this.makePersistent(),this.channel=new ee(this.node,this.channelId),Ae.addChannel(this.channel)}},{key:"makePersistent",value:function(){f.addPersistRootNode(this.node)}},{key:"playing",value:function(e){var t,n;return null!==(t=null===(n=this.channel)||void 0===n?void 0:n.playing(e))&&void 0!==t&&t}},{key:"play",value:function(e,t){if(!this.isMusicEnable())return Promise.resolve();var n=null!=t?t:{};return n.loop||(n.loop=!0),Ae.play(e,n,this.channelId)}},{key:"isMusicEnable",value:function(){return!!Se.getPlayerSetting("music")}},{key:"setVolume",value:function(e){this.volume=e,this.isMute||Ae.setVolume(e,this.channelId)}},{key:"getVolume",value:function(){return Ae.getVolume(this.channelId)}},{key:"pause",value:function(e){Ae.pause(e,this.channelId)}},{key:"resume",value:function(e){this.isMusicEnable()&&Ae.resume(e,this.channelId)}},{key:"stop",value:function(e){Ae.stop(e,this.channelId)}},{key:"mute",value:function(e){this.isMute=e,e?Ae.mute(this.channelId):(this.setVolume(this.volume),Ae.unmute(this.channelId))}}]),o}(R)).prototype,"channelId",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"global_music"}}),ie=ae))||ie);A._RF.pop(),A._RF.push({},"1299a7X1XNNEKxSKMV6E5jQ","Sound",void 0);var pe=I.ccclass,Ie=I.property,ve=globalThis.game,fe=ve.audio,Re=ve.player,Le=e("t",(se=pe("Sound"),ue=Ie(v),se((Ee=o((ce=function(e){t(o,e);var r=n(o);function o(){var e;i(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),s(e,"channelId",Ee,u(e)),e.channel=null,e}return a(o,[{key:"__preload",value:function(){this.channel=new ee(this.node,this.channelId),fe.addChannel(this.channel)}},{key:"onLoad",value:function(){""===this.channelId&&(this.channelId=this.node.uuid)}},{key:"makePersistent",value:function(){f.addPersistRootNode(this.node)}},{key:"removePersistent",value:function(){f.removePersistRootNode(this.node)}},{key:"play",value:function(e,t){return this.isSoundEnable()?fe.play(e,t,this.channelId):Promise.resolve()}},{key:"isSoundEnable",value:function(){return!!Re.getPlayerSetting("sound")}},{key:"setVolume",value:function(e){fe.setVolume(e,this.channelId)}},{key:"pause",value:function(e){fe.pause(e,this.channelId)}},{key:"resume",value:function(e){this.isSoundEnable()&&fe.resume(e,this.channelId)}},{key:"stop",value:function(e){fe.stop(e,this.channelId)}},{key:"stopAll",value:function(){fe.stopAll(this.channelId)}},{key:"mute",value:function(e){e?fe.mute(this.channelId):fe.unmute(this.channelId)}}]),o}(R)).prototype,"channelId",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),le=ce))||le));A._RF.pop(),A._RF.push({},"99b8eEF6WlE8pzPfD+whiJu","AnimUtils",void 0);var me=e("A",function(){function e(){i(this,e)}return a(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"elasticOut",value:function(e,t,n){var i=t||.1,a=n||.1;if(0===e)return 0;if(1===e)return 1;var r=a/4;return i<1?i=1:r=a*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/a)+1}},{key:"expoOut",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"expoIn",value:function(e){return 0===e?0:Math.pow(2,10*e-10)}},{key:"runTweenAsync",value:function(e,t){return new Promise((function(n){var i=e.call((function(){n({tween:e})})).start();t&&(t.aborted?(i.stop(),n({tween:e})):t.addAbortListener((function(){i.stop(),n({tween:e})})))}))}},{key:"runOnUpdateAsync",value:function(e,t,n,i){return new Promise((function(a,r){var o=L(e).to(t,{},{onUpdate:function(e,t){if(void 0!==t)try{n(t)}catch(e){r(e instanceof Error?e:new Error(JSON.stringify(e)))}}}).call((function(){a({tween:o})})).start();i&&(i.aborted?(o.stop(),a({tween:o})):i.addAbortListener((function(){o.stop(),a({tween:o})})))}))}},{key:"waitTweenAsync",value:function(e,t){return new Promise((function(n){var i=L({});i.delay(e),i.call((function(){n()})),i.start(),t&&(t.aborted?(i.stop(),n()):t.addAbortListener((function(){i.stop(),n()})))}))}},{key:"runAnimationAsync",value:function(e,t,n){return void 0===n?new Promise((function(n){e.play(t),e.once(m.EventType.FINISHED,n)})):n.aborted?Promise.resolve():new Promise((function(i){n.addAbortListener((function(){e.off(m.EventType.FINISHED,i),e.stop(),i()})),e.play(t),e.once(m.EventType.FINISHED,i)}))}}]),e}());A._RF.pop(),A._RF.push({},"a0756pde9lOeoJ4TckTOcMV","AnimAbortSignal",void 0);var ye=GameCore.Utils.Array,Ne=e("a",function(){function e(){i(this,e),this.callbacks=[],this.isAborted=!1,this.abortReason="",this.callbacks=[]}var t;return a(e,[{key:"aborted",get:function(){return this.isAborted}},{key:"reason",get:function(){return this.abortReason}},{key:"addAbortListener",value:function(e){this.callbacks.push(e)}},{key:"removeAbortListener",value:function(e){var t=ye.searchIndex(this.callbacks,(function(t){return t===e}));-1!==t?this.callbacks.splice(t,1):console.warn("Abort listener not found")}},{key:"abort",value:function(e){if(!this.isAborted){this.isAborted=!0,this.abortReason=e;var t,n=l(this.callbacks);try{for(n.s();!(t=n.n()).done;){var i=t.value;"function"==typeof i&&i()}}catch(e){n.e(e)}finally{n.f()}this.callbacks=[]}}},{key:"untilAborted",value:(t=r((function*(){var e=this;if(!this.isAborted)return new Promise((function(t){e.addAbortListener((function(){return t()}))}))})),function(){return t.apply(this,arguments)})},{key:"call",value:function(e){this.aborted||e(this)}},{key:"callAsync",value:function(e){return this.aborted?Promise.resolve():e(this)}},{key:"chain",value:function(t){var n=this;t instanceof e?t.addAbortListener((function(){return n.abort()})):t.addEventListener("abort",(function(){return n.abort()}))}}],[{key:"hasBeenAborted",value:function(e){return null==e||e.aborted}}]),e}());function ge(e,t,n){var i=n.value;n.value=function(){if(this.enabledInHierarchy){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return null==i?void 0:i.apply(this,n)}console.info("Skipping method call ".concat(String(t)," because component ").concat(this.constructor.name," is not enabled in hierarchy"))}}function Fe(e,t,n){var i=n.value,a=function(){var e=r((function*(){if(this.enabledInHierarchy){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return yield null==i?void 0:i.apply(this,n)}return console.info("Skipping method call ".concat(String(t)," because component ").concat(this.constructor.name," is not enabled in hierarchy")),Promise.resolve()}));return function(){return e.apply(this,arguments)}}();n.value=a}A._RF.pop(),A._RF.push({},"147a4TjOC9PMpdhlBiKEn54","onlyRunInLifeCycle",void 0),A._RF.pop(),A._RF.push({},"6944aqu6zZOGIj+df3KBDrm","onlyRunInLifeCycleAsync",void 0),A._RF.pop(),A._RF.push({},"99384AdWHlKDIyVvCAqSwJE","index",void 0),A._RF.pop(),A._RF.push({},"09236E0KzVAqotP4Yn9R+4m","MissingPropertiesError",void 0);var Oe=function(e){t(o,e);var r=n(o);function o(e,t){var n;return i(this,o),(n=r.call(this,"".concat(e," is missing these required properties: [").concat(t.map((function(e){return e.propertyName})).join(", "),"]"))).className=e,n.errors=t,n}return a(o)}(c(Error));A._RF.pop(),A._RF.push({},"4ce5394i3hCZoi5cZm0Vn2l","MissingPropertyError",void 0);var Ce=function(e){t(o,e);var r=n(o);function o(e,t){var n;return i(this,o),(n=r.call(this,"".concat(e," is missing the required property: <").concat(t,">"))).className=e,n.propertyName=t,n}return a(o)}(c(Error));A._RF.pop(),A._RF.push({},"a2990W72mRAYaItrPHe4H5V","required",void 0);var Ge=GameCore.Utils,Ve=Ge.String,Me=Ge.Valid,Be=globalThis.game.monitorError,be="_compUtils_ReqPropsMap";function Pe(e){return null===e}function we(e){return void 0===e}function ke(e){return Pe(e)||we(e)}function Ue(e){if("function"==typeof e)return e;switch(e){case"null-check":return Pe;case"undefined-check":return we;default:return ke}}function De(e){return function(t,n){if("function"==typeof t)throw new Error("The required decorator can only be applied to non-static class properties.");var i,a=t.constructor.name,r=(i=n,"".concat("_compUtils_ReqPropsMethod","_").concat(Ve.capitalize(i)));if(void 0!==t[r])throw new Error("The required decorator found that property name ".concat(r," already exists. The reserved method name ").concat(r," is used already or the decorator was applied multiple times."));t[r]=function(t){if(e(this[n]))throw new Ce(t,n)},void 0===t[be]&&(t[be]={}),void 0===t[be][a]&&(t[be][a]=[]),t[be][a].push(r)}}function We(e,t){if("string"!=typeof t)return De(Ue(e));var n=e;De(Ue())(n,t)}A._RF.pop(),A._RF.push({},"75e1e0Ei7ZOOr/FzyprYnVJ","index",void 0),A._RF.pop(),A._RF.push({},"95972yG/ulEg4gycbc+QB5Y","ComponentUtils",void 0);var He=GameCore.Utils,xe=He.Array,ze=He.Object,Ke=He.Valid,Ye=["cc.Mask","cc.Label","cc.Canvas","cc.Camera","cc.Layout","cc.Button","cc.Sprite","cc.Widget","cc.Renderer","cc.Animation","cc.UIOpacity"],qe=e("C",function(){function e(){i(this,e),this.validComponentCalled={}}return a(e,[{key:"validateRequiredComponents",value:function(e){var t,n=e.name,i=e.constructor,a=this.getRequiredComponentNames(i),r=l(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!e.getComponent(o))throw new Error("".concat(n,": Missing required ").concat(o," component"))}}catch(e){r.e(e)}finally{r.f()}}},{key:"validateRequiredProperties",value:function(e){var t,n=e.name,i=e.constructor,a=this.getRequiredPropNames(i),r=l(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(!ze.hasOwn(e,o))throw new Error("".concat(n,": Missing required ").concat(o," property"));var s=this.getProperty(o,e);if(!y(s))throw new Error("".concat(n,": ").concat(o," property is not a cc object"))}}catch(e){r.e(e)}finally{r.f()}}},{key:"validateCustomProperties",value:function(e){var t,n=e.name,i=this.getCustomPropNames(e),a=l(i);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(!ze.hasOwn(e,r))throw new Error("".concat(n,": Missing required ").concat(r," property"));var o=this.getProperty(r,e);if(!y(o))throw new Error("".concat(n,": ").concat(r," property is not a cc object"))}}catch(e){a.e(e)}finally{a.f()}}},{key:"getProperty",value:function(e,t){var n;if(ze.hasOwn(t,e))return(null!==(n=Object.getOwnPropertyDescriptor(t,e))&&void 0!==n?n:{}).value}},{key:"getProps",value:function(e){if(!ze.hasOwn(e,"__props__"))return[];var t=e.__props__;return Array.isArray(t)?t:[]}},{key:"getRequiredPropNames",value:function(e){return this.getProps(e).filter((function(t){return"node"!==t&&(!!ze.hasOwn(e,t)&&(!!y(e[t])&&!t.startsWith("_")))}))}},{key:"getBaseComponentName",value:function(e){for(var t=0,n=Ye;t<n.length;t++){var i=n[t];if(i.indexOf(e)>=0)return i}return e}},{key:"getRequiredComponentNames",value:function(e){var t=this;if(!ze.hasOwn(e,"_requireComponent"))return[];var n=e._requireComponent;return Array.isArray(n)?n.map((function(e){return t.getBaseComponentName(e)})):[]}},{key:"getCustomPropNames",value:function(e){var t=this,n=Object.keys(e),i=this.getProps(e.constructor);return xe.difference(n,i).filter((function(e){return e.indexOf("_")<0})).filter((function(n){if(!ze.hasOwn(e,n))return!1;var i=t.getProperty(n,e);return!(!Ke.isObject(i)||!y(i))}))}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"required",value:function(e,t){return"string"==typeof t?We(e,t):We(e)}},{key:"validateRequiredProperties",value:function(e,t){!function(e,t){var n,i=t?t.name:e.constructor.name,a=t?t.prototype[be]:e.constructor.prototype[be],r=null!==(n=null==a?void 0:a[i])&&void 0!==n?n:[],o=[],s=e;for(var u in r)if("function"==typeof s[u])try{s[u](i)}catch(l){if(!(l instanceof Ce))throw l;o.push(l)}if(0!==o.length){var l=new Oe(i,o);if(Me.isDebugger())throw l;console.error(l),null==Be||Be.sendException(l)}}(e,t)}},{key:"lazyValidateProperties",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){var n=e.constructor,i=n.name;if(!this.inst.validComponentCalled[i])try{this.inst.validateRequiredComponents(e),this.inst.validateRequiredProperties(e),this.inst.validateCustomProperties(e)}catch(t){e.enabled=!1,console.error(t)}finally{this.inst.validComponentCalled[i]=!0}}}}]),e}());qe.onlyRunInLifeCycle=function(){return ge.apply(void 0,arguments)},qe.onlyRunInLifeCycleAsync=function(){return Fe.apply(void 0,arguments)},A._RF.pop(),A._RF.push({},"725f8u/lDtFbY1DMY0uJSL9","Locales",void 0);var je={en:"fonts/mikado-bold",ru:"fonts/nunito-black"},Ze=e("L",{en:"locales/en/en",ru:"locales/ru/ru"}),Je={en:"104px",ru:"96px"};A._RF.pop(),A._RF.push({},"a6e4bjV/RVH17qBEx1mZaFg","ResourcePaths",void 0);var Qe=GameCore.Utils.Object,Xe=e("i",function(e){return e.BOMB_RESCUE_PREFAB="game-objects/bomb/BombRescue",e.BOMB_EXPLODE_PREFAB="game-objects/bomb/BombExplode",e.BOMB_DEFUSE_PREFAB="game-objects/bomb/DefuseExplode",e.CLEAR_EXPLOSION_PREFAB="game-objects/clear-explosion/ClearExplosion",e.TILE_BREAK_ANIM="animations/TileBreak",e.TILE_CLEAR_ANIM="animations/TileClear",e.TILE_SHAKE_ANIM="animations/TileShake",e.TILE_SKIN_FOLDER="loadable/tiles",e.TILE_SKIN_PREVIEW_FOLDER="loadable/tiles-preview",e.ITEM_POPUP_FOLDER="loadable/item-popup",e.SUMMER_BG="images/bg/summer",e.AUTUMN_BG="images/bg/autumn",e.WINTER_BG="images/bg/winter",e.FLOWER_FIELD_BG="images/bg/flower-field",e.TREE_PLANTING_FESTIVAL_BG="images/bg/tree-planting-festival",e.MUSIC_FESTIVAL_BG="images/bg/music-festival",e.HARVEST_FESTIVAL_BG="images/bg/harvest-festival",e.FOOD_FESTIVAL_BG="images/bg/food-festival",e.LIGHT_FESTIVAL_BG="images/bg/light-festival",e.PEACE_FESTIVAL_BG="images/bg/peace-festival",e.FLOWER_FESTIVAL_BG="images/bg/flower-festival",e.STREET_FESTIVAL_BG="images/bg/street-festival",e.COLOR_GARDEN_BG="images/bg/color-garden",e.COLOR_FESTIVAL_BG="images/bg/color-festival",e.NATURE_SUMMER_BG="images/bg/nature-summer",e.SNOW_MOUNTAIN_BG="images/bg/snow-mountain",e.ICE_FESTIVAL_BG="images/bg/ice-festival",e.NIGHT_FESTIVAL_BG="images/bg/night-festival",e.LOST_FESTIVAL_BG="images/bg/lost-festival",e.HALLOWEEN_BG="images/bg/halloween",e.CHRISTMAS_BG="images/bg/christmas",e.SPRING_FLOWER_FESTIVAL_BG="images/bg/spring-flower-festival",e.TET_HOLIDAY_BG="images/bg/tet-holiday",e.SEA_FESTIVAL_BG="images/bg/sea-festival",e.FIREWORK_FESTIVAL_BG="images/bg/firework-festival",e.SUMMER_BG_PREVIEW="images/preview/summer",e.AUTUMN_BG_PREVIEW="images/preview/autumn",e.WINTER_BG_PREVIEW="images/preview/winter",e.FLOWER_FIELD_BG_PREVIEW="images/preview/flower-field",e.TREE_PLANTING_FESTIVAL_BG_PREVIEW="images/preview/tree-planting-festival",e.MUSIC_FESTIVAL_BG_PREVIEW="images/preview/music-festival",e.HARVEST_FESTIVAL_BG_PREVIEW="images/preview/harvest-festival",e.FOOD_FESTIVAL_BG_PREVIEW="images/preview/food-festival",e.LIGHT_FESTIVAL_BG_PREVIEW="images/preview/light-festival",e.PEACE_FESTIVAL_BG_PREVIEW="images/preview/peace-festival",e.FLOWER_FESTIVAL_BG_PREVIEW="images/preview/flower-festival",e.STREET_FESTIVAL_BG_PREVIEW="images/preview/street-festival",e.COLOR_GARDEN_BG_PREVIEW="images/preview/color-garden",e.COLOR_FESTIVAL_BG_PREVIEW="images/preview/color-festival",e.NATURE_SUMMER_BG_PREVIEW="images/preview/nature-summer",e.SNOW_MOUNTAIN_BG_PREVIEW="images/preview/snow-mountain",e.ICE_FESTIVAL_BG_PREVIEW="images/preview/ice-festival",e.NIGHT_FESTIVAL_BG_PREVIEW="images/preview/night-festival",e.LOST_FESTIVAL_BG_PREVIEW="images/preview/lost-festival",e.HALLOWEEN_BG_PREVIEW="images/preview/halloween",e.CHRISTMAS_BG_PREVIEW="images/preview/christmas",e.SPRING_FLOWER_FESTIVAL_BG_PREVIEW="images/preview/spring-flower-festival",e.TET_HOLIDAY_BG_PREVIEW="images/preview/tet-holiday",e.SEA_FESTIVAL_BG_PREVIEW="images/preview/sea-festival",e.FIREWORK_FESTIVAL_BG_PREVIEW="images/preview/firework-festival",e.SUMMER_BG_TOURNAMENT="images/tournament/summer",e.AUTUMN_BG_TOURNAMENT="images/tournament/autumn",e.WINTER_BG_TOURNAMENT="images/tournament/winter",e.FLOWER_FIELD_BG_TOURNAMENT="images/tournament/flower-field",e.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT="images/tournament/tree-planting-festival",e.MUSIC_FESTIVAL_BG_TOURNAMENT="images/tournament/music-festival",e.HARVEST_FESTIVAL_BG_TOURNAMENT="images/tournament/harvest-festival",e.FOOD_FESTIVAL_BG_TOURNAMENT="images/tournament/food-festival",e.LIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/light-festival",e.PEACE_FESTIVAL_BG_TOURNAMENT="images/tournament/peace-festival",e.FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/flower-festival",e.STREET_FESTIVAL_BG_TOURNAMENT="images/tournament/street-festival",e.COLOR_GARDEN_BG_TOURNAMENT="images/tournament/color-garden",e.COLOR_FESTIVAL_BG_TOURNAMENT="images/tournament/color-festival",e.NATURE_SUMMER_BG_TOURNAMENT="images/tournament/nature-summer",e.SNOW_MOUNTAIN_BG_TOURNAMENT="images/tournament/snow-mountain",e.ICE_FESTIVAL_BG_TOURNAMENT="images/tournament/ice-festival",e.NIGHT_FESTIVAL_BG_TOURNAMENT="images/tournament/night-festival",e.LOST_FESTIVAL_BG_TOURNAMENT="images/tournament/lost-festival",e.HALLOWEEN_BG_TOURNAMENT="images/tournament/halloween",e.CHRISTMAS_BG_TOURNAMENT="images/tournament/christmas",e.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT="images/tournament/spring-flower-festival",e.TET_HOLIDAY_BG_TOURNAMENT="images/tournament/tet-holiday",e.SEA_FESTIVAL_BG_TOURNAMENT="images/tournament/sea-festival",e.FIREWORK_FESTIVAL_BG_TOURNAMENT="images/tournament/firework-festival",e.SUMMER_BG_THUMBNAIL="images/thumbnail/summer",e.AUTUMN_BG_THUMBNAIL="images/thumbnail/autumn",e.WINTER_BG_THUMBNAIL="images/thumbnail/winter",e.FLOWER_FIELD_BG_THUMBNAIL="images/thumbnail/flower-field",e.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL="images/thumbnail/tree-planting-festival",e.MUSIC_FESTIVAL_BG_THUMBNAIL="images/thumbnail/music-festival",e.HARVEST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/harvest-festival",e.FOOD_FESTIVAL_BG_THUMBNAIL="images/thumbnail/food-festival",e.LIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/light-festival",e.PEACE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/peace-festival",e.FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/flower-festival",e.STREET_FESTIVAL_BG_THUMBNAIL="images/thumbnail/street-festival",e.COLOR_GARDEN_BG_THUMBNAIL="images/thumbnail/color-garden",e.COLOR_FESTIVAL_BG_THUMBNAIL="images/thumbnail/color-festival",e.NATURE_SUMMER_BG_THUMBNAIL="images/thumbnail/nature-summer",e.SNOW_MOUNTAIN_BG_THUMBNAIL="images/thumbnail/snow-mountain",e.ICE_FESTIVAL_BG_THUMBNAIL="images/thumbnail/ice-festival",e.NIGHT_FESTIVAL_BG_THUMBNAIL="images/thumbnail/night-festival",e.LOST_FESTIVAL_BG_THUMBNAIL="images/thumbnail/lost-festival",e.HALLOWEEN_BG_THUMBNAIL="images/thumbnail/halloween",e.CHRISTMAS_BG_THUMBNAIL="images/thumbnail/christmas",e.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL="images/thumbnail/spring-flower-festival",e.TET_HOLIDAY_BG_THUMBNAIL="images/thumbnail/tet-holiday",e.SEA_FESTIVAL_BG_THUMBNAIL="images/thumbnail/sea-festival",e.FIREWORK_FESTIVAL_BG_THUMBNAIL="images/thumbnail/firework-festival",e.COLLECTIONS_PAGE="pages/CollectionsContent",e.LEADERBOARD_PAGE="pages/LeaderboardContent",e.TOURNAMENTS_PAGE="pages/TournamentsContent",e.PAGE_LEAVES_PREFAB="pages/Leaves",e.LEVEL_DATA_FOLDER="levels-json",e.SIDEBAR_BG="images/bg-sidebar",e.LEFT_LEAF="images/left-leaf",e.RIGHT_LEAF="images/right-leaf",e}(Xe||{})),$e=Qe.vals(Xe),et=e("R",$e.reduce((function(e,t,n){return e[t]=n,e}),{}));N(et);e("g",$e);A._RF.pop(),A._RF.push({},"3f1dbbPrPVBy5lNYySV74Qq","ThemeKeys",void 0);var tt,nt,it,at,rt=e("p",{SUMMER:"summer",AUTUMN:"autumn",WINTER:"winter",SPRING_FESTIVAL:"spring-festival",TREE_PLANTING_FESTIVAL:"tree-planting-festival",BLUE_SEA_FESTIVAL:"blue-sea-festival",MUSIC_FESTIVAL:"music-festival",HARVEST_FESTIVAL:"harvest-festival",FOOD_FESTIVAL:"food-festival",SNOW_FESTIVAL:"snow-festival",LIGHT_FESTIVAL:"light-festival",PEACE_FESTIVAL:"peace-festival",FLOWER_FESTIVAL:"flower-festival",STREET_FESTIVAL:"street-festival",COLOR_GARDEN:"color-garden",COLOR_FESTIVAL:"color-festival",NATURE_SUMMER:"nature-summer",SNOW_MOUNTAIN:"snow-mountain",ICE_FESTIVAL:"ice-festival",GREEN_GRASS_FESTIVAL:"green-grass-festival",COMMUNITY_FESTIVAL:"community-festival",WATER_FESTIVAL:"water-festival",ANIMAL_FESTIVAL:"animal-festival",LOST_FESTIVAL:"lost-festival",HALLOWEEN_FESTIVAL:"halloween-festival",SNOW_MUSIC_FESTIVAL:"snow-music-festival",CHRISTMAS:"christmas",SPRING_FLOWER_FESTIVAL:"spring-flower-festival",TET_HOLIDAY:"tet-holiday",SEA_FESTIVAL:"sea-festival",FIREWORK_FESTIVAL:"firework-festival",HALLOWEEN_HORROR:"halloween-horror",MID_AUTUMN:"mid-autumn",CHRISTMAS_SWEET:"christmas-sweet",NEW_YEAR_COUNTDOWN:"new-year-countdown",HAPPY_NEW_YEAR:"happy-new-year"});N(rt),A._RF.pop(),A._RF.push({},"2a657+TsltMe4rrDmyWGrLy","ThemeResourcesPath",void 0);var ot=(E(tt={},rt.SUMMER,Xe.SUMMER_BG),E(tt,rt.AUTUMN,Xe.AUTUMN_BG),E(tt,rt.WINTER,Xe.WINTER_BG),E(tt,rt.SPRING_FESTIVAL,Xe.FLOWER_FIELD_BG),E(tt,rt.TREE_PLANTING_FESTIVAL,Xe.TREE_PLANTING_FESTIVAL_BG),E(tt,rt.BLUE_SEA_FESTIVAL,Xe.SEA_FESTIVAL_BG),E(tt,rt.MUSIC_FESTIVAL,Xe.MUSIC_FESTIVAL_BG),E(tt,rt.HARVEST_FESTIVAL,Xe.HARVEST_FESTIVAL_BG),E(tt,rt.FOOD_FESTIVAL,Xe.FOOD_FESTIVAL_BG),E(tt,rt.SNOW_FESTIVAL,Xe.WINTER_BG),E(tt,rt.LIGHT_FESTIVAL,Xe.LIGHT_FESTIVAL_BG),E(tt,rt.PEACE_FESTIVAL,Xe.PEACE_FESTIVAL_BG),E(tt,rt.FLOWER_FESTIVAL,Xe.FLOWER_FESTIVAL_BG),E(tt,rt.STREET_FESTIVAL,Xe.STREET_FESTIVAL_BG),E(tt,rt.COLOR_GARDEN,Xe.COLOR_GARDEN_BG),E(tt,rt.COLOR_FESTIVAL,Xe.COLOR_FESTIVAL_BG),E(tt,rt.NATURE_SUMMER,Xe.NATURE_SUMMER_BG),E(tt,rt.SNOW_MOUNTAIN,Xe.SNOW_MOUNTAIN_BG),E(tt,rt.ICE_FESTIVAL,Xe.ICE_FESTIVAL_BG),E(tt,rt.GREEN_GRASS_FESTIVAL,Xe.FLOWER_FIELD_BG),E(tt,rt.COMMUNITY_FESTIVAL,Xe.NIGHT_FESTIVAL_BG),E(tt,rt.WATER_FESTIVAL,Xe.SEA_FESTIVAL_BG),E(tt,rt.ANIMAL_FESTIVAL,Xe.TREE_PLANTING_FESTIVAL_BG),E(tt,rt.LOST_FESTIVAL,Xe.LOST_FESTIVAL_BG),E(tt,rt.HALLOWEEN_FESTIVAL,Xe.HALLOWEEN_BG),E(tt,rt.SNOW_MUSIC_FESTIVAL,Xe.MUSIC_FESTIVAL_BG),E(tt,rt.CHRISTMAS,Xe.CHRISTMAS_BG),E(tt,rt.SPRING_FLOWER_FESTIVAL,Xe.SPRING_FLOWER_FESTIVAL_BG),E(tt,rt.TET_HOLIDAY,Xe.TET_HOLIDAY_BG),E(tt,rt.SEA_FESTIVAL,Xe.SEA_FESTIVAL_BG),E(tt,rt.FIREWORK_FESTIVAL,Xe.FIREWORK_FESTIVAL_BG),E(tt,rt.HALLOWEEN_HORROR,Xe.HALLOWEEN_BG),E(tt,rt.MID_AUTUMN,Xe.SPRING_FLOWER_FESTIVAL_BG),E(tt,rt.CHRISTMAS_SWEET,Xe.CHRISTMAS_BG),E(tt,rt.NEW_YEAR_COUNTDOWN,Xe.TET_HOLIDAY_BG),E(tt,rt.HAPPY_NEW_YEAR,Xe.TET_HOLIDAY_BG),tt),st=e("r",(E(nt={},rt.SUMMER,Xe.SUMMER_BG_PREVIEW),E(nt,rt.AUTUMN,Xe.AUTUMN_BG_PREVIEW),E(nt,rt.WINTER,Xe.WINTER_BG_PREVIEW),E(nt,rt.SPRING_FESTIVAL,Xe.FLOWER_FIELD_BG_PREVIEW),E(nt,rt.TREE_PLANTING_FESTIVAL,Xe.TREE_PLANTING_FESTIVAL_BG_PREVIEW),E(nt,rt.BLUE_SEA_FESTIVAL,Xe.SEA_FESTIVAL_BG_PREVIEW),E(nt,rt.MUSIC_FESTIVAL,Xe.MUSIC_FESTIVAL_BG_PREVIEW),E(nt,rt.HARVEST_FESTIVAL,Xe.HARVEST_FESTIVAL_BG_PREVIEW),E(nt,rt.FOOD_FESTIVAL,Xe.FOOD_FESTIVAL_BG_PREVIEW),E(nt,rt.SNOW_FESTIVAL,Xe.WINTER_BG_PREVIEW),E(nt,rt.LIGHT_FESTIVAL,Xe.LIGHT_FESTIVAL_BG_PREVIEW),E(nt,rt.PEACE_FESTIVAL,Xe.PEACE_FESTIVAL_BG_PREVIEW),E(nt,rt.FLOWER_FESTIVAL,Xe.FLOWER_FESTIVAL_BG_PREVIEW),E(nt,rt.STREET_FESTIVAL,Xe.STREET_FESTIVAL_BG_PREVIEW),E(nt,rt.COLOR_GARDEN,Xe.COLOR_GARDEN_BG_PREVIEW),E(nt,rt.COLOR_FESTIVAL,Xe.COLOR_FESTIVAL_BG_PREVIEW),E(nt,rt.NATURE_SUMMER,Xe.NATURE_SUMMER_BG_PREVIEW),E(nt,rt.SNOW_MOUNTAIN,Xe.SNOW_MOUNTAIN_BG_PREVIEW),E(nt,rt.ICE_FESTIVAL,Xe.ICE_FESTIVAL_BG_PREVIEW),E(nt,rt.GREEN_GRASS_FESTIVAL,Xe.FLOWER_FIELD_BG_PREVIEW),E(nt,rt.COMMUNITY_FESTIVAL,Xe.NIGHT_FESTIVAL_BG_PREVIEW),E(nt,rt.WATER_FESTIVAL,Xe.SEA_FESTIVAL_BG_PREVIEW),E(nt,rt.ANIMAL_FESTIVAL,Xe.TREE_PLANTING_FESTIVAL_BG_PREVIEW),E(nt,rt.LOST_FESTIVAL,Xe.LOST_FESTIVAL_BG_PREVIEW),E(nt,rt.HALLOWEEN_FESTIVAL,Xe.HALLOWEEN_BG_PREVIEW),E(nt,rt.SNOW_MUSIC_FESTIVAL,Xe.MUSIC_FESTIVAL_BG_PREVIEW),E(nt,rt.CHRISTMAS,Xe.CHRISTMAS_BG_PREVIEW),E(nt,rt.SPRING_FLOWER_FESTIVAL,Xe.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),E(nt,rt.TET_HOLIDAY,Xe.TET_HOLIDAY_BG_PREVIEW),E(nt,rt.SEA_FESTIVAL,Xe.SEA_FESTIVAL_BG_PREVIEW),E(nt,rt.FIREWORK_FESTIVAL,Xe.FIREWORK_FESTIVAL_BG_PREVIEW),E(nt,rt.HALLOWEEN_HORROR,Xe.HALLOWEEN_BG_PREVIEW),E(nt,rt.MID_AUTUMN,Xe.SPRING_FLOWER_FESTIVAL_BG_PREVIEW),E(nt,rt.CHRISTMAS_SWEET,Xe.CHRISTMAS_BG_PREVIEW),E(nt,rt.NEW_YEAR_COUNTDOWN,Xe.TET_HOLIDAY_BG_PREVIEW),E(nt,rt.HAPPY_NEW_YEAR,Xe.TET_HOLIDAY_BG_PREVIEW),nt)),ut=e("x",(E(it={},rt.SUMMER,Xe.SUMMER_BG_TOURNAMENT),E(it,rt.AUTUMN,Xe.AUTUMN_BG_TOURNAMENT),E(it,rt.WINTER,Xe.WINTER_BG_TOURNAMENT),E(it,rt.SPRING_FESTIVAL,Xe.FLOWER_FIELD_BG_TOURNAMENT),E(it,rt.TREE_PLANTING_FESTIVAL,Xe.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),E(it,rt.BLUE_SEA_FESTIVAL,Xe.SEA_FESTIVAL_BG_TOURNAMENT),E(it,rt.MUSIC_FESTIVAL,Xe.MUSIC_FESTIVAL_BG_TOURNAMENT),E(it,rt.HARVEST_FESTIVAL,Xe.HARVEST_FESTIVAL_BG_TOURNAMENT),E(it,rt.FOOD_FESTIVAL,Xe.FOOD_FESTIVAL_BG_TOURNAMENT),E(it,rt.SNOW_FESTIVAL,Xe.WINTER_BG_TOURNAMENT),E(it,rt.LIGHT_FESTIVAL,Xe.LIGHT_FESTIVAL_BG_TOURNAMENT),E(it,rt.PEACE_FESTIVAL,Xe.PEACE_FESTIVAL_BG_TOURNAMENT),E(it,rt.FLOWER_FESTIVAL,Xe.FLOWER_FESTIVAL_BG_TOURNAMENT),E(it,rt.STREET_FESTIVAL,Xe.STREET_FESTIVAL_BG_TOURNAMENT),E(it,rt.COLOR_GARDEN,Xe.COLOR_GARDEN_BG_TOURNAMENT),E(it,rt.COLOR_FESTIVAL,Xe.COLOR_FESTIVAL_BG_TOURNAMENT),E(it,rt.NATURE_SUMMER,Xe.NATURE_SUMMER_BG_TOURNAMENT),E(it,rt.SNOW_MOUNTAIN,Xe.SNOW_MOUNTAIN_BG_TOURNAMENT),E(it,rt.ICE_FESTIVAL,Xe.ICE_FESTIVAL_BG_TOURNAMENT),E(it,rt.GREEN_GRASS_FESTIVAL,Xe.FLOWER_FIELD_BG_TOURNAMENT),E(it,rt.COMMUNITY_FESTIVAL,Xe.NIGHT_FESTIVAL_BG_TOURNAMENT),E(it,rt.WATER_FESTIVAL,Xe.SEA_FESTIVAL_BG_TOURNAMENT),E(it,rt.ANIMAL_FESTIVAL,Xe.TREE_PLANTING_FESTIVAL_BG_TOURNAMENT),E(it,rt.LOST_FESTIVAL,Xe.LOST_FESTIVAL_BG_TOURNAMENT),E(it,rt.HALLOWEEN_FESTIVAL,Xe.HALLOWEEN_BG_TOURNAMENT),E(it,rt.SNOW_MUSIC_FESTIVAL,Xe.MUSIC_FESTIVAL_BG_TOURNAMENT),E(it,rt.CHRISTMAS,Xe.CHRISTMAS_BG_TOURNAMENT),E(it,rt.SPRING_FLOWER_FESTIVAL,Xe.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),E(it,rt.TET_HOLIDAY,Xe.TET_HOLIDAY_BG_TOURNAMENT),E(it,rt.SEA_FESTIVAL,Xe.SEA_FESTIVAL_BG_TOURNAMENT),E(it,rt.FIREWORK_FESTIVAL,Xe.FIREWORK_FESTIVAL_BG_TOURNAMENT),E(it,rt.HALLOWEEN_HORROR,Xe.HALLOWEEN_BG_TOURNAMENT),E(it,rt.MID_AUTUMN,Xe.SPRING_FLOWER_FESTIVAL_BG_TOURNAMENT),E(it,rt.CHRISTMAS_SWEET,Xe.CHRISTMAS_BG_TOURNAMENT),E(it,rt.NEW_YEAR_COUNTDOWN,Xe.TET_HOLIDAY_BG_TOURNAMENT),E(it,rt.HAPPY_NEW_YEAR,Xe.TET_HOLIDAY_BG_TOURNAMENT),it)),lt=(E(at={},rt.SUMMER,Xe.SUMMER_BG_THUMBNAIL),E(at,rt.AUTUMN,Xe.AUTUMN_BG_THUMBNAIL),E(at,rt.WINTER,Xe.WINTER_BG_THUMBNAIL),E(at,rt.SPRING_FESTIVAL,Xe.FLOWER_FIELD_BG_THUMBNAIL),E(at,rt.TREE_PLANTING_FESTIVAL,Xe.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),E(at,rt.BLUE_SEA_FESTIVAL,Xe.SEA_FESTIVAL_BG_THUMBNAIL),E(at,rt.MUSIC_FESTIVAL,Xe.MUSIC_FESTIVAL_BG_THUMBNAIL),E(at,rt.HARVEST_FESTIVAL,Xe.HARVEST_FESTIVAL_BG_THUMBNAIL),E(at,rt.FOOD_FESTIVAL,Xe.FOOD_FESTIVAL_BG_THUMBNAIL),E(at,rt.SNOW_FESTIVAL,Xe.WINTER_BG_THUMBNAIL),E(at,rt.LIGHT_FESTIVAL,Xe.LIGHT_FESTIVAL_BG_THUMBNAIL),E(at,rt.PEACE_FESTIVAL,Xe.PEACE_FESTIVAL_BG_THUMBNAIL),E(at,rt.FLOWER_FESTIVAL,Xe.FLOWER_FESTIVAL_BG_THUMBNAIL),E(at,rt.STREET_FESTIVAL,Xe.STREET_FESTIVAL_BG_THUMBNAIL),E(at,rt.COLOR_GARDEN,Xe.COLOR_GARDEN_BG_THUMBNAIL),E(at,rt.COLOR_FESTIVAL,Xe.COLOR_FESTIVAL_BG_THUMBNAIL),E(at,rt.NATURE_SUMMER,Xe.NATURE_SUMMER_BG_THUMBNAIL),E(at,rt.SNOW_MOUNTAIN,Xe.SNOW_MOUNTAIN_BG_THUMBNAIL),E(at,rt.ICE_FESTIVAL,Xe.ICE_FESTIVAL_BG_THUMBNAIL),E(at,rt.GREEN_GRASS_FESTIVAL,Xe.FLOWER_FIELD_BG_THUMBNAIL),E(at,rt.COMMUNITY_FESTIVAL,Xe.NIGHT_FESTIVAL_BG_THUMBNAIL),E(at,rt.WATER_FESTIVAL,Xe.SEA_FESTIVAL_BG_THUMBNAIL),E(at,rt.ANIMAL_FESTIVAL,Xe.TREE_PLANTING_FESTIVAL_BG_THUMBNAIL),E(at,rt.LOST_FESTIVAL,Xe.LOST_FESTIVAL_BG_THUMBNAIL),E(at,rt.HALLOWEEN_FESTIVAL,Xe.HALLOWEEN_BG_THUMBNAIL),E(at,rt.SNOW_MUSIC_FESTIVAL,Xe.MUSIC_FESTIVAL_BG_THUMBNAIL),E(at,rt.CHRISTMAS,Xe.CHRISTMAS_BG_THUMBNAIL),E(at,rt.SPRING_FLOWER_FESTIVAL,Xe.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),E(at,rt.TET_HOLIDAY,Xe.TET_HOLIDAY_BG_THUMBNAIL),E(at,rt.SEA_FESTIVAL,Xe.SEA_FESTIVAL_BG_THUMBNAIL),E(at,rt.FIREWORK_FESTIVAL,Xe.FIREWORK_FESTIVAL_BG_THUMBNAIL),E(at,rt.HALLOWEEN_HORROR,Xe.HALLOWEEN_BG_THUMBNAIL),E(at,rt.MID_AUTUMN,Xe.SPRING_FLOWER_FESTIVAL_BG_THUMBNAIL),E(at,rt.CHRISTMAS_SWEET,Xe.CHRISTMAS_BG_THUMBNAIL),E(at,rt.NEW_YEAR_COUNTDOWN,Xe.TET_HOLIDAY_BG_THUMBNAIL),E(at,rt.HAPPY_NEW_YEAR,Xe.TET_HOLIDAY_BG_THUMBNAIL),at);A._RF.pop(),A._RF.push({},"669a1OtNF9EDrMRLWTjxk4B","GeneralUtils",void 0);var ct,Et,_t=e("G",function(){function e(){i(this,e)}var t,n,o,s,u,c,E,T,d,A,S,I,v;return a(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"setBlockInput",value:function(e){var t=g("Canvas/InputBlocker");t&&(t.active=e)}},{key:"getBlockInput",value:function(){var e=g("Canvas/InputBlocker");return!!e&&e.active}},{key:"loadFontAsync",value:function(e){var t=je[e],n=this.getAsset(t,F);return null!==n?Promise.resolve(n):new Promise((function(e){h.load(t,F,(function(t,n){e(t?null:n)}))}))}},{key:"loadPrefabAsync",value:function(e){var t=this.getAsset(e,O);return null!==t?Promise.resolve(t):new Promise((function(t){h.load(e,O,(function(e,n){t(e?null:n)}))}))}},{key:"loadJsonAsync",value:(v=r((function*(e){var t=this;return new Promise((function(n){var i=t.getAsset(e,C);null===i?h.load(e,C,(function(e,t){e?n(null):t&&t.json?n(t.json):n(null)})):n(i.json)}))})),function(e){return v.apply(this,arguments)})},{key:"loadAudioClipAsync",value:(I=r((function*(e){var t=this.getAsset(e,p);return null!==t?Promise.resolve(t):new Promise((function(t){h.load(e,p,(function(e,n){t(e?null:n)}))}))})),function(e){return I.apply(this,arguments)})},{key:"loadAnimClipAsync",value:(S=r((function*(e){var t=this.getAsset(e,G);return null!==t?Promise.resolve(t):new Promise((function(t){h.load(e,G,(function(e,n){t(e?null:n)}))}))})),function(e){return S.apply(this,arguments)})},{key:"loadImageSpriteFrameAsync",value:(A=r((function*(e){var t=this.getAsset(e,V);return null!==t?Promise.resolve(M.createWithImage(t)):new Promise((function(t){h.load(e,V,(function(e,n){t(e?null:M.createWithImage(n))}))}))})),function(e){return A.apply(this,arguments)})},{key:"loadSpriteFramesAsync",value:(d=r((function*(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.reduce((function(e,i,a){var r=t.getAsset(i,M);return null!==r?(r.packable=n,e[0].push({index:a,asset:r})):e[1].push({index:a,path:i}),e}),[[],[]]),a=_(i,2),r=a[0],o=a[1];return 0===o.length?Promise.resolve(r.map((function(e){return e.asset}))):new Promise((function(e){h.load(o.map((function(e){return e.path})),M,(function(t,i){t||i.length!==o.length?e(null):(i.forEach((function(e,t){var i=o[t].index;e.packable=n,r.splice(i,0,{index:i,asset:e})})),e(r.map((function(e){return e.asset}))))}))}))})),function(e){return d.apply(this,arguments)})},{key:"loadSpriteFrameAsync",value:(T=r((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getAsset(e,M);return null!==n?(n.packable=t,Promise.resolve(n)):new Promise((function(n){h.load(e,M,(function(e,i){!e&&i?(i.packable=t,n(i)):n(null)}))}))})),function(e){return T.apply(this,arguments)})},{key:"loadSpriteFramesDirAsync",value:(E=r((function*(e){var t=h.getDirWithPath(e,M);if(t.length>0){var n,i=[],a=l(t);try{for(a.s();!(n=a.n()).done;){var r=n.value,o=h.get(r.path,M);if(!o)return this.loadSpriteFramesFromDirAsync(e);i.push(o)}}catch(e){a.e(e)}finally{a.f()}return i}return this.loadSpriteFramesFromDirAsync(e)})),function(e){return E.apply(this,arguments)})},{key:"loadSpriteFramesFromDirAsync",value:(c=r((function*(e){return new Promise((function(t){h.loadDir(e,M,(function(e,n){t(e?[]:n)}))}))})),function(e){return c.apply(this,arguments)})},{key:"loadThemeAsync",value:(u=r((function*(e){return this.loadSpriteFrameAsync("".concat(ot[e],"/spriteFrame"))})),function(e){return u.apply(this,arguments)})},{key:"loadThemePreviewAsync",value:(s=r((function*(e){return this.loadSpriteFrameAsync("".concat(st[e],"/spriteFrame"))})),function(e){return s.apply(this,arguments)})},{key:"loadThemeTournamentAsync",value:(o=r((function*(e){return this.loadSpriteFrameAsync("".concat(ut[e],"/spriteFrame"))})),function(e){return o.apply(this,arguments)})},{key:"loadThemeThumbnailAsync",value:(n=r((function*(e){return this.loadSpriteFrameAsync("".concat(lt[e],"/spriteFrame"))})),function(e){return n.apply(this,arguments)})},{key:"loadSkinPreviewAsync",value:(t=r((function*(e){for(var t=[],n=1;n<=4;n++){var i="".concat(Xe.TILE_SKIN_PREVIEW_FOLDER,"/").concat(e.replace(/-/g,"_"),"_").concat(n,"/spriteFrame");t.push(this.loadSpriteFrameAsync(i))}return Promise.all(t)})),function(e){return t.apply(this,arguments)})},{key:"getAsset",value:function(e,t){var n=h.getInfoWithPath(e,t);return n?h.get(n.path,t):null}}]),e}());A._RF.pop(),A._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);var Tt=e("l",function(e){return e[e.RESCUES_SCREEN=0]="RESCUES_SCREEN",e[e.LOADING_SCREEN=1]="LOADING_SCREEN",e[e.GET_ITEM_SCREEN=2]="GET_ITEM_SCREEN",e[e.GET_COIN_SCREEN=3]="GET_COIN_SCREEN",e[e.SETTINGS_SCREEN=4]="SETTINGS_SCREEN",e[e.START_LEVEL_SCREEN=5]="START_LEVEL_SCREEN",e[e.NOTIFICATION_SCREEN=6]="NOTIFICATION_SCREEN",e[e.LEVEL_COMPLETE_SCREEN=7]="LEVEL_COMPLETE_SCREEN",e[e.CONGRATULATION_SCREEN=8]="CONGRATULATION_SCREEN",e[e.QUIT_LEVEL_SCREEN=9]="QUIT_LEVEL_SCREEN",e[e.TOURNAMENT_DETAIL_SCREEN=10]="TOURNAMENT_DETAIL_SCREEN",e[e.DAILY_REWARDS_SCREEN=11]="DAILY_REWARDS_SCREEN",e[e.STAR_CHEST_SCREEN=12]="STAR_CHEST_SCREEN",e[e.START_OVER_SCREEN=13]="START_OVER_SCREEN",e[e.PAUSE_SCREEN=14]="PAUSE_SCREEN",e[e.HARD_LEVEL_SCREEN=15]="HARD_LEVEL_SCREEN",e[e.GET_REWARDS_SCREEN=16]="GET_REWARDS_SCREEN",e}(Tt||{})),dt=e("n",(E(ct={},Tt.RESCUES_SCREEN,"RescuesScreen"),E(ct,Tt.LOADING_SCREEN,"LoadingScreen"),E(ct,Tt.GET_ITEM_SCREEN,"GetItemScreen"),E(ct,Tt.GET_COIN_SCREEN,"GetCoinScreen"),E(ct,Tt.SETTINGS_SCREEN,"SettingsScreen"),E(ct,Tt.START_LEVEL_SCREEN,"StartLevelScreen"),E(ct,Tt.NOTIFICATION_SCREEN,"NotificationScreen"),E(ct,Tt.LEVEL_COMPLETE_SCREEN,"LevelCompleteScreen"),E(ct,Tt.CONGRATULATION_SCREEN,"CongratulationScreen"),E(ct,Tt.QUIT_LEVEL_SCREEN,"QuitLevelScreen"),E(ct,Tt.TOURNAMENT_DETAIL_SCREEN,"TournamentDetailScreen"),E(ct,Tt.DAILY_REWARDS_SCREEN,"DailyRewardsScreen"),E(ct,Tt.STAR_CHEST_SCREEN,"StarChestScreen"),E(ct,Tt.START_OVER_SCREEN,"StartOverScreen"),E(ct,Tt.PAUSE_SCREEN,"PauseScreen"),E(ct,Tt.HARD_LEVEL_SCREEN,"HardLevelScreen"),E(ct,Tt.GET_REWARDS_SCREEN,"GetRewardsScreen"),ct)),At=(e("u",(E(Et={},dt[Tt.RESCUES_SCREEN],Tt.RESCUES_SCREEN),E(Et,dt[Tt.LOADING_SCREEN],Tt.LOADING_SCREEN),E(Et,dt[Tt.GET_ITEM_SCREEN],Tt.GET_ITEM_SCREEN),E(Et,dt[Tt.GET_COIN_SCREEN],Tt.GET_COIN_SCREEN),E(Et,dt[Tt.SETTINGS_SCREEN],Tt.SETTINGS_SCREEN),E(Et,dt[Tt.START_LEVEL_SCREEN],Tt.START_LEVEL_SCREEN),E(Et,dt[Tt.NOTIFICATION_SCREEN],Tt.NOTIFICATION_SCREEN),E(Et,dt[Tt.LEVEL_COMPLETE_SCREEN],Tt.LEVEL_COMPLETE_SCREEN),E(Et,dt[Tt.CONGRATULATION_SCREEN],Tt.CONGRATULATION_SCREEN),E(Et,dt[Tt.QUIT_LEVEL_SCREEN],Tt.QUIT_LEVEL_SCREEN),E(Et,dt[Tt.TOURNAMENT_DETAIL_SCREEN],Tt.TOURNAMENT_DETAIL_SCREEN),E(Et,dt[Tt.DAILY_REWARDS_SCREEN],Tt.DAILY_REWARDS_SCREEN),E(Et,dt[Tt.STAR_CHEST_SCREEN],Tt.STAR_CHEST_SCREEN),E(Et,dt[Tt.START_OVER_SCREEN],Tt.START_OVER_SCREEN),E(Et,dt[Tt.PAUSE_SCREEN],Tt.PAUSE_SCREEN),E(Et,dt[Tt.HARD_LEVEL_SCREEN],Tt.HARD_LEVEL_SCREEN),E(Et,dt[Tt.GET_REWARDS_SCREEN],Tt.GET_REWARDS_SCREEN),Et)),[dt[Tt.NOTIFICATION_SCREEN],dt[Tt.LOADING_SCREEN]]);A._RF.pop(),A._RF.push({},"09bc071ZcpI978b1NdKUaqD","AnalyticsUtils",void 0);var St=globalThis.game.analytics,ht=GameCore.Utils.Array;e("d",function(){function e(){i(this,e)}return a(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"trackCurrentPage",value:function(e,t){if(!ht.has(At,e)&&(t||ht.has(this.trackingPages,e))){this.trackingPages=this.trackingPages.filter((function(t){return t!==e})),t&&this.trackingPages.push(e);var n=this.getCurrentPage();St.pageview(n)}}},{key:"switchSceneTracking",value:function(){this.trackingPages=[];var e=this.getCurrentPage();St.pageview(e)}},{key:"getCurrentPage",value:function(){var e,t;return this.trackingPages.length>0?this.trackingPages[this.trackingPages.length-1]:null!==(e=null===(t=f.getScene())||void 0===t?void 0:t.name)&&void 0!==e?e:"Unknown Scene"}}]),e}()).trackingPages=[],A._RF.pop(),A._RF.push({},"31871PLRYRJu7yCCX5F6lWK","AudioUtils",void 0);var pt=e("c",function(){function e(){i(this,e),this.signal=new Ne}var t,n,o,s,u;return a(e,[{key:"sound",get:function(){var e,t;return null!==(e=null===(t=g("Sound"))||void 0===t?void 0:t.getComponent(Le))&&void 0!==e?e:null}},{key:"music",get:function(){var e,t;return null!==(e=null===(t=g("Music"))||void 0===t?void 0:t.getComponent(he))&&void 0!==e?e:null}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"playSound",value:(u=r((function*(e,t){var n;yield null===(n=this.inst.sound)||void 0===n?void 0:n.play(e,t)})),function(e,t){return u.apply(this,arguments)})},{key:"pauseSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.pause(e)}},{key:"resumeSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.resume(e)}},{key:"stopSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.stop(e)}},{key:"stopAllSounds",value:function(){var e;null===(e=this.inst.sound)||void 0===e||e.stopAll()}},{key:"muteSound",value:function(e){var t;null===(t=this.inst.sound)||void 0===t||t.mute(e)}},{key:"playMusic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.inst.music&&(this.inst.currentMusic!==e&&this.pauseMusic(),this.inst.currentMusic=e,!t&&this.inst.music.playing(e)||(t&&this.inst.music.stop(e),this.inst.music.play(e)))}},{key:"pauseMusic",value:function(){var e;null===(e=this.inst.music)||void 0===e||e.pause(this.inst.currentMusic)}},{key:"muteMusic",value:function(e){var t;null===(t=this.inst.music)||void 0===t||t.mute(e)}},{key:"getCurrentMusic",value:function(){return this.inst.currentMusic}},{key:"turnUpMusic",value:(s=r((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)>.6||(yield this.setVolumeMusic(.6,!0))})),function(){return s.apply(this,arguments)})},{key:"turnDownMusic",value:(o=r((function*(){var e,t;(null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0)<.2||(yield this.setVolumeMusic(.2,!0))})),function(){return o.apply(this,arguments)})},{key:"turnOffMusic",value:(n=r((function*(){yield this.setVolumeMusic(0)})),function(){return n.apply(this,arguments)})},{key:"getVolumeMusic",value:function(){var e,t;return null!==(e=null===(t=this.inst.music)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0}},{key:"setVolumeMusic",value:(t=r((function*(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.inst.music){this.inst.signal.abort();var i=new Ne;if(this.inst.signal=i,n){var a=this.inst.music.getVolume(),r=a;yield me.runOnUpdateAsync(this.inst.music.node,1,(function(n){t.inst.music&&(r=a+(e-a)*n,t.inst.music.setVolume(r))}),i)}else{var o;null===(o=this.inst.music)||void 0===o||o.setVolume(e)}}})),function(e){return t.apply(this,arguments)})}]),e}());A._RF.pop(),A._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);var It=e("b",function(){function e(){i(this,e)}return a(e,[{key:"getWindowSizeVsWorldGameRatio",value:function(){var e=b.getVisibleSize(),t=P.windowSize.width,n=window.devicePixelRatio;return t/(n=n>2?2:n)/e.width}},{key:"getBoundingBoxTo",value:function(e,t){var n=w.mat4();w.Mat4.fromSRT(n,t.getRotation(),t.getPosition(),t.getScale());var i=t.getComponent(B);if(!i)throw new Error("Node must have UITransform component");var a=i.anchorPoint,r=i.contentSize,o=r.width,s=r.height,u=new w.Rect(-a.x*o,-a.y*s,o,s),c=w.mat4();if(w.Mat4.multiply(c,e,n),u.transformMat4(c),!t.children||0===t.children.length)return u;var E,_=t.children,T=t.getWorldMatrix(),d=l(_);try{for(d.s();!(E=d.n()).done;){var A=E.value;if(null!=A&&A.active)if(A.getComponent(B)){var S=this.getBoundingBoxTo(T,A);S&&w.Rect.union(u,u,S)}}}catch(e){d.e(e)}finally{d.f()}return u}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"getBoundingBoxToWorld",value:function(e){if(e.parent){var t=e.parent.getWorldMatrix();return this.inst.getBoundingBoxTo(t,e)}var n=e.getComponent(B);if(!n)throw new Error("Node must have UITransform component");return n.getBoundingBox()}},{key:"worldSizeToCssSize",value:function(e){return e*this.inst.getWindowSizeVsWorldGameRatio()}},{key:"cssSizeToWorldSize",value:function(e){return e/this.inst.getWindowSizeVsWorldGameRatio()}},{key:"getScreenWidthCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientWidth,a=n.clientWidth;return Math.max(a,i)||0}},{key:"getScreenHeightCss",value:function(){var e=document,t=e.body,n=e.documentElement,i=t.clientHeight,a=n.clientHeight;return Math.max(a,i)||0}}]),e}());A._RF.pop(),A._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);var vt=e("e",{VIEW_RESIZE:"view-resize",VIEW_RESIZED:"view-resized",REQUEST_VIEW_RESIZE:"request-view-resize",LAYOUT_CHANGED:"layout-changed",ORIENTATION_CHANGED:"orientation-changed",WIDGET_RESIZED:"widget-resized",GAMEPLAY_UPDATE_CONFIG:"gameplay-update-config",OPENED_SKIP_OVERLAY:"opened-skip-overlay",CLOSED_SKIP_OVERLAY:"closed-skip-overlay",RESULT_SCENE_REPLAY:"result-scene-replay",RESULT_SCENE_HOME:"result-scene-home",UPGRADE_DYNAMIC_ATLAS:"upgrade-dynamic-atlas",ASSET_QUALITY_CHANGE:"asset-quality-change",CHANGE_QUALITY_ASSETS:"change-quality-assets",CLEAR_HYBRID_FILE_CACHE:"clear-hybrid-file-cache",PRELOAD_LANGUAGE:"preload-language",CHOOSE_LANGUAGE:"choose-language",LOCALIZE_PARAMS_UPDATED:"localize-params-updated",LOCALIZE_APPLIED:"localize-applied"});A._RF.pop(),A._RF.push({},"5c76fxO2ppOqYp4WNO+Kavm","GameWorld",void 0);var ft,Rt,Lt,mt,yt,Nt,gt,Ft,Ot,Ct,Gt,Vt,Mt,Bt,bt,Pt,wt,kt,Ut,Dt,Wt,Ht,xt,zt,Kt,Yt,qt,jt,Zt;e("f",{Layout:{Portrait:"portrait",Landscape:"landscape"},DesignSize:{Portrait:{WIDTH:750,HEIGHT:1583},Landscape:{WIDTH:2732,HEIGHT:1536}},PRIMARY_LAYOUT:"auto",FULL_CANVAS_TO_SCREEN:!0,FULL_PORTRAIT_SIZE:!0,FULL_LANDSCAPE_SIZE:!0});A._RF.pop(),A._RF.push({},"bce15LcVrxOfYMa9rbXN/qi","Localize",void 0);var Jt=I.ccclass,Qt=I.property,Xt=I.executeInEditMode,$t=I.disallowMultiple,en=GameCore,tn=en.Utils,nn=tn.Signal,an=(tn.Function,tn.Array),rn=en.Events,on=Object.keys(Ze),sn=globalThis.game,un=sn.language,ln=sn.event,cn=function(e){return e[e.Text=0]="Text",e[e.Texture=1]="Texture",e}({});N(cn);var En=(ft=Jt("LocalizeParams"),Rt=Qt({visible:!1}),Lt=Qt(v),ft((Nt=o((yt=function(){function e(){i(this,e),s(this,"_text",Nt,this)}return a(e,[{key:"text",get:function(){return this._text},set:function(e){this._text=e,W.emit(vt.LOCALIZE_PARAMS_UPDATED,{text:e})}}]),e}()).prototype,"_text",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o(yt.prototype,"text",[Lt],Object.getOwnPropertyDescriptor(yt.prototype,"text"),yt.prototype),mt=yt))||mt),_n=e("h",(gt=Jt("Localize"),Ft=Xt(!0),Ot=Qt({tooltip:"TEXTURE ONLY: Skip default locale initialization for textures"}),Ct=Qt({visible:!1}),Gt=Qt({type:v,visible:function(){return this.skipDefaultLocaleInit}}),Vt=Qt({visible:!1}),Mt=Qt({type:k(cn)}),Bt=Qt({type:U,visible:function(){return this.l10nType===cn.Text}}),bt=Qt({type:[En],visible:function(){return this.l10nType===cn.Text}}),Pt=Qt({type:D,visible:function(){return this.l10nType===cn.Texture}}),wt=Qt({visible:function(){return this.l10nType===cn.Texture}}),kt=Qt({visible:!1}),Ut=Qt({type:v}),gt(Dt=$t(Dt=Ft((Ht=o((Wt=function(e){t(A,e);var o,l,c,E,_,T,d=n(A);function A(){var e;i(this,A);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=d.call.apply(d,[this].concat(n))).localized=!1,s(e,"skipDefaultLocaleInit",Ht,u(e)),s(e,"_defaultLocale",xt,u(e)),s(e,"_l10nType",zt,u(e)),s(e,"label",Kt,u(e)),s(e,"params",Yt,u(e)),s(e,"sprite",qt,u(e)),s(e,"packable",jt,u(e)),s(e,"_key",Zt,u(e)),e.updateSignalController=new nn.SignalController,e.updateLocalization=r((function*(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e.enabledInHierarchy&&void 0!==e.key){var n=e.updateSignalController.renew();try{if(e.localized=!1,e.isTextKey(e.key))yield e.updateTextLocalization(e.key,n);else{if(!e.isTextureKey(e.key))throw new Error("Key ".concat(e.key," not found in locales"));var i=un.getCurrentLocale(),a=t&&!1===oe&&e.skipDefaultLocaleInit&&void 0!==e.defaultLocale&&i===e.defaultLocale;!1===a&&(yield e.updateTextureLocalization(e.key,n),!1===oe&&(e.skipDefaultLocaleInit=!1))}e.localized=!0,W.emit(vt.LOCALIZE_APPLIED,{localize:u(e),key:e.key})}catch(e){console.warn(e)}}})),e}return a(A,[{key:"defaultLocale",get:function(){return this._defaultLocale},set:function(e){if(void 0===e&&this.skipDefaultLocaleInit)return console.warn("Skip default locale initialization is enabled but default locale is not set"),void(this._defaultLocale=void 0);void 0!==e?on.includes(e)?this._defaultLocale=e:console.warn("Key ".concat(e," not found. Supported locales are ").concat(on.join(", "))):this._defaultLocale=void 0}},{key:"l10nType",get:function(){return this._l10nType},set:function(e){this._l10nType=e,e===cn.Texture&&(this.label=void 0,this.params=[]),e===cn.Text&&(this.sprite=void 0,this.packable=!0)}},{key:"key",get:function(){return this._key},set:function(e){this.isValidKey(e)?(this._key=e,this.updateLocalization()):console.warn("Key ".concat(e," not found in locales"))}},{key:"setParams",value:function(e){for(;this.params.length<e.length;)this.params.push(new En);this.params.forEach((function(t,n){var i;t.text=null!==(i=e[n])&&void 0!==i?i:t.text}))}},{key:"waitLocalized",value:function(){var e=this;return this.localized?Promise.resolve():new Promise((function(t){W.on(vt.LOCALIZE_APPLIED,(function n(i){i.localize===e&&(W.off(vt.LOCALIZE_APPLIED,n),t())}))}))}},{key:"__preload",value:function(){}},{key:"isValidKey",value:function(e){return!!this.isTextKey(e)||!!this.isTextureKey(e)}},{key:"isTextKey",value:function(e){return this.l10nType===cn.Text&&un.hasTextKey(e)}},{key:"isTextureKey",value:function(e){return this.l10nType===cn.Texture&&un.hasTextureKey(e)}},{key:"onEnable",value:function(){this.listenEvent()}},{key:"start",value:function(){this.updateLocalization(!0)}},{key:"onDisable",value:function(){this.unlistenEvent(),this.updateSignalController.abort()}},{key:"listenEvent",value:function(){ln.on(rn.LANGUAGE_CHANGED,this.updateLocalization),W.on(vt.LOCALIZE_PARAMS_UPDATED,this.updateLocalization)}},{key:"unlistenEvent",value:function(){ln.off(rn.LANGUAGE_CHANGED,this.updateLocalization),W.off(vt.LOCALIZE_PARAMS_UPDATED,this.updateLocalization)}},{key:"updateTextLocalization",value:(T=r((function*(e,t){if(void 0===this.label)throw new Error("Text localize component <".concat(this.node.name,"> has no label"));var n=un.getCurrentLocale(),i=un.getText(e,this.params.map((function(e){return e.text})),n);this.label.string=i,yield this.setFontRuntime(this.label,n,t)})),function(e,t){return T.apply(this,arguments)})},{key:"setFontRuntime",value:(_=r((function*(e,t,n){if(!n.aborted){var i=yield _t.loadFontAsync(t);n.aborted||null!=i&&(e.font=i)}})),function(e,t,n){return _.apply(this,arguments)})},{key:"setFontEditor",value:(E=r((function*(e,t,n){if(!n.aborted){var i=yield Editor.Message.request("asset-db","query-uuid","db://assets/resources/".concat(je[t],".ttf"));if(!n.aborted&&null!==i){var a=yield Editor.Message.request("scene","query-node",e.node.uuid),r=an.searchIndex(a.__comps__,(function(e){return"cc.Label"===e.type})),o="__comps__.".concat(r,".font");yield Editor.Message.request("scene","set-property",{uuid:e.node.uuid,path:o,dump:{type:"cc.Font",value:{uuid:i}}})}}})),function(e,t,n){return E.apply(this,arguments)})},{key:"updateTextureLocalization",value:(c=r((function*(e,t){if(void 0===this.sprite)throw new Error("Texture localize component <".concat(this.node.name,"> has no sprite"));var n=un.getTexture(e);yield this.setSpriteRuntime(this.sprite,n,t)})),function(e,t){return c.apply(this,arguments)})},{key:"setSpriteRuntime",value:(l=r((function*(e,t,n){var i=yield _t.loadSpriteFrameAsync("".concat(t,"/spriteFrame"),this.packable);n.aborted||(null!==e?e.spriteFrame=i:console.warn("Sprite not found by path: ".concat(t)))})),function(e,t,n){return l.apply(this,arguments)})},{key:"setSpriteEditor",value:(o=r((function*(e,t,n){var i=yield Editor.Message.request("asset-db","query-assets",{pattern:"db://assets/resources/".concat(t,"*"),ccType:"cc.SpriteFrame"});if(!n.aborted)if(0!==i.length)if(i.length>1){var a=i.slice(0,5).map((function(e){return e.path})),r="".concat(a.join(",")).concat(a.length<i.length?"...":"");console.warn("Ambiguous sprite's path: ".concat(t,". Found ").concat(r))}else{var o=i[0].uuid,s=yield Editor.Message.request("scene","query-node",e.node.uuid),u=an.searchIndex(s.__comps__,(function(e){return"cc.Sprite"===e.type})),l="__comps__.".concat(u,".spriteFrame");yield Editor.Message.request("scene","set-property",{uuid:e.node.uuid,path:l,dump:{type:"cc.SpriteFrame",value:{uuid:o}}})}else console.error("Sprite not found by path: ".concat(t))})),function(e,t,n){return o.apply(this,arguments)})}]),A}(R)).prototype,"skipDefaultLocaleInit",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xt=o(Wt.prototype,"_defaultLocale",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"en"}}),o(Wt.prototype,"defaultLocale",[Gt],Object.getOwnPropertyDescriptor(Wt.prototype,"defaultLocale"),Wt.prototype),zt=o(Wt.prototype,"_l10nType",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cn.Text}}),o(Wt.prototype,"l10nType",[Mt],Object.getOwnPropertyDescriptor(Wt.prototype,"l10nType"),Wt.prototype),Kt=o(Wt.prototype,"label",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=o(Wt.prototype,"params",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qt=o(Wt.prototype,"sprite",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=o(Wt.prototype,"packable",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zt=o(Wt.prototype,"_key",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(Wt.prototype,"key",[Ut],Object.getOwnPropertyDescriptor(Wt.prototype,"key"),Wt.prototype),Dt=Wt))||Dt)||Dt)||Dt));A._RF.pop(),A._RF.push({},"358fdIqjFdNzZGa95REWt2F","Ads",void 0);var Tn=1/6;A._RF.pop(),A._RF.push({},"542caJcCPRMI5EaOkgOzhek","ItemKeys",void 0);var dn=e("I",{HINT:"hint",THUNDER:"thunder",STORM:"storm",PLIERS:"pliers"});A._RF.pop(),A._RF.push({},"8875b8IrVpJWJr/45aS1gql","DefaultRespMatchData",void 0);var An=GameCore.Dtos.Match.Data.getDefaultData();e("D",T(T({},An),{},{extraData:null}));A._RF.pop(),A._RF.push({},"7decaASyaFOAp2izq8DsREg","TotalLevel",void 0);var Sn,hn=e("j",1e3);A._RF.pop(),A._RF.push({},"f8533KH/fxOfYqya9sgLrSj","GameData",void 0);var pn=e("y",{level:0,coins:0,stars:0,totalLevel:hn,levelVersion:0,lastRewardedItems:0,lastCreateTournamentShown:0,guideItemShowed:[],items:(Sn={},E(Sn,dn.HINT,0),E(Sn,dn.THUNDER,0),E(Sn,dn.STORM,0),E(Sn,dn.PLIERS,0),Sn)});A._RF.pop(),A._RF.push({},"52b52FNwvhBKY/becAy420o","Leaderboard",void 0);e("s",{GLOBAL:"global-leaderboard-key",FRIENDS:"friends-leaderboard-key"}),e("F",{GLOBAL:"global-leaderboard-id",FRIENDS:"friends-leaderboard-id"});A._RF.pop(),A._RF.push({},"3b9bcPJBxpNOqG2I6exTOVn","MatchCustomData",void 0);var In=GameCore.Dtos.Match.CustomData.getDefaultData();e("M",T(T({},In),{},{score:0}));A._RF.pop(),A._RF.push({},"074c4KXFZ1Pq6d+66PrLd2+","PlayerData",void 0);e("P",{score:0,endlessScore:0,settings:{sound:!0,music:!0,vibrate:!0,language:"en"},gameData:pn,isFirstLogin:!0,dailyRewarded:{logDays:[],lastRewarded:0}});A._RF.pop(),A._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);var vn=e("q",{BOOT_SCENE:"BootScene",GAME_SCENE:"GameScene",DASHBOARD_SCENE:"DashboardScene",CHALLENGE_RESULT_SCENE:"ChallengeResultScene",TEST_PARTICLE_SYSTEM_SCENE:"TestParticleSystemScene"});A._RF.pop(),A._RF.push({},"97ca9J9nzNCeIjC1l+ZT/Hm","SceneUtils",void 0);var fn,Rn,Ln,mn,yn,Nn,gn,Fn,On,Cn,Gn,Vn=globalThis.game.event,Mn=GameCore.Events;e("o",function(){function e(){i(this,e)}return a(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"switchScene",value:function(e,t){Vn.emit(Mn.SWITCH_SCENE,{sceneName:e,sceneData:t})}},{key:"preloadScene",value:function(e){Vn.emit(Mn.PRELOAD_SCENE,{sceneName:e})}},{key:"markIsTestScene",value:function(e){Vn.emit(Mn.MARK_IS_TEST_SCENE,{sceneName:e})}},{key:"preloadDashboardScene",value:function(){this.preloadScene(vn.DASHBOARD_SCENE)}},{key:"switchToDashboardScene",value:function(e){this.switchScene(vn.DASHBOARD_SCENE,e)}},{key:"preloadGameScene",value:function(){this.preloadScene(vn.GAME_SCENE)}},{key:"switchToGameScene",value:function(e){this.switchScene(vn.GAME_SCENE,e)}},{key:"getSceneData",value:function(e){return"data"in e.scene&&e.scene.data||{}}}]),e}());A._RF.pop(),A._RF.push({},"46b8aK6CThLtpMhZPEfDrNs","LoadingFullScreen",void 0);var Bn,bn,Pn,wn,kn,Un=I.ccclass,Dn=I.property,Wn=["interMsg.reviveAd","interMsg.doubleAd","interMsg.ranked","interMsg.friendChallenge","interMsg.bragChallenge","interMsg.clearTiles","interMsg.beatClock","interMsg.clearBombs","interMsg.seasonPack","interMsg.collectStars","interMsg.competeInLb","interMsg.competeWithFriends","interMsg.thunder","interMsg.hint","interMsg.pliers","interMsg.tournado","interMsg.coins","interMsg.seasonTiles","interMsg.dailyLogin","interMsg.levelUp","interMsg.seasonRewards"],Hn=(fn=Un("LoadingFullScreen"),Rn=qe.required(),Ln=Dn(H),mn=qe.required(),yn=qe.required(),Nn=Dn(_n),fn((On=o((Fn=function(e){t(E,e);var o,l,c=n(E);function E(){var e;i(this,E);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=c.call.apply(c,[this].concat(n)),s(e,"progressBar",On,u(e)),s(e,"uiOpacity",Cn,u(e)),s(e,"loadingLabelLocalizer",Gn,u(e)),e}return a(E,[{key:"__preload",value:function(){this.uiOpacity=this.getComponent(x),qe.validateRequiredProperties(this)}},{key:"onLoad",value:function(){this.uiOpacity.opacity=0,this.progressBar.progress=0}},{key:"show",value:(l=r((function*(e){this.uiOpacity.opacity=0,this.progressBar.progress=0;var t=L(this.uiOpacity).to(.5,{opacity:255},{easing:"cubicOut"}),n=L(this.progressBar).to(8,{progress:.9},{easing:"cubicOut"});this.runLoadingTextAnimation(),me.runTweenAsync(t),yield me.runTweenAsync(n)})),function(e){return l.apply(this,arguments)})},{key:"hide",value:(o=r((function*(e){if(this.uiOpacity&&this.progressBar){this.uiOpacity.opacity=255,this.progressBar.progress=.9;var t=L(this.uiOpacity).to(.5,{opacity:0},{easing:"cubicIn"}),n=L(this.progressBar).to(.2,{progress:1},{easing:"cubicIn"});this.runLoadingTextAnimation(),yield me.runTweenAsync(n),this.stopLoadingTextAnimation(),yield me.runTweenAsync(t),this.node.active=!1}})),function(e){return o.apply(this,arguments)})},{key:"runLoadingTextAnimation",value:function(){var e=this;this.updateHintText(),this.schedule((function(){return e.updateHintText()}),5)}},{key:"updateHintText",value:function(){if(this.loadingLabelLocalizer){var e=this.getHintText();e&&(this.loadingLabelLocalizer.key=e)}}},{key:"stopLoadingTextAnimation",value:function(){this.unscheduleAllCallbacks()}},{key:"getHintText",value:function(){return Wn[Math.floor(Math.random()*Wn.length)]}}]),E}(R)).prototype,"progressBar",[Rn,Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn=o(Fn.prototype,"uiOpacity",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gn=o(Fn.prototype,"loadingLabelLocalizer",[yn,Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=Fn))||gn);A._RF.pop(),A._RF.push({},"74caciRBKZLu7ymXYJK2GYy","Loading",void 0);var xn=I.ccclass,zn=I.property,Kn=(Bn=xn("Loading"),bn=zn(O),Bn((kn=o((wn=function(e){t(E,e);var o,l,c=n(E);function E(){var e;i(this,E);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=c.call.apply(c,[this].concat(n)),s(e,"loadingPrefab",kn,u(e)),e.loadingNode=null,e}return a(E,[{key:"__preload",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){qe.lazyValidateProperties(this)}},{key:"onLoad",value:function(){this.makePersistent()}},{key:"makePersistent",value:function(){f.addPersistRootNode(this.node)}},{key:"createLoadingFullScreen",value:function(){var e,t=g("Canvas");if(t&&!t.getChildByName("Loading")){this.loadingNode||(this.loadingNode=z(this.loadingPrefab));var n=z._clone(this.loadingNode);this.loadingFullScreen=n.getComponent(Hn),this.node.active=!1,null===(e=g("Canvas"))||void 0===e||e.addChild(n)}}},{key:"show",value:(l=r((function*(e){this.createLoadingFullScreen(),this.node.active||(this.node.active=!0,yield this.loadingFullScreen.show(e))})),function(e){return l.apply(this,arguments)})},{key:"hide",value:(o=r((function*(e){var t;null!==(t=this.node)&&void 0!==t&&t.active&&this.loadingFullScreen&&(yield this.loadingFullScreen.hide(e),this.node.active=!1)})),function(e){return o.apply(this,arguments)})}]),E}(R)).prototype,"loadingPrefab",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pn=wn))||Pn);A._RF.pop(),A._RF.push({},"a0dcdDZxhZImZ8Cfg4Dc7SJ","ScreenUtils",void 0);var Yn=globalThis.game.event,qn=GameCore,jn=qn.Events,Zn=qn.Utils.Array,Jn=e("S",function(){function e(){i(this,e),this.showedScreens=[]}var t,n;return a(e,null,[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadScreens",value:function(){Yn.emit(jn.PRELOAD_SCREENS)}},{key:"openScreen",value:function(e,t){var n=dt[e];Yn.emit(jn.OPEN_SCREEN,{screenName:n,screenData:t})}},{key:"closeScreen",value:function(e){var t=dt[e];Yn.emit(jn.CLOSE_SCREEN,{screenName:t})}},{key:"openScreenAndWaitForClose",value:function(e,t){var n=this;return new Promise((function(i){n.openScreen(e,t);Yn.on(jn.CLOSE_SCREEN,(function t(n){n.screenName===dt[e]&&(Yn.off(jn.CLOSE_SCREEN,t),i(n))}))}))}},{key:"showLoadingScreen",value:function(e){this.openScreen(Tt.LOADING_SCREEN,{duration:e})}},{key:"closeLoadingScreen",value:function(){this.closeScreen(Tt.LOADING_SCREEN)}},{key:"showNotificationScreen",value:function(e,t){this.openScreen(Tt.NOTIFICATION_SCREEN,{message:e,duration:t})}},{key:"showNotificationScreenWithLocalizedKey",value:function(e,t){this.openScreen(Tt.NOTIFICATION_SCREEN,{localizedMessageKey:e,duration:t})}},{key:"closeNotificationScreen",value:function(){this.closeScreen(Tt.NOTIFICATION_SCREEN)}},{key:"addShowedScene",value:function(e){Zn.has(this.inst.showedScreens,e)||this.inst.showedScreens.push(e)}},{key:"showLoadingFullScreen",value:(n=r((function*(e){var t;if(!Zn.has(this.inst.showedScreens,e)){this.addShowedScene(e);var n=g("Loading");n&&(n.active=!0,yield null===(t=n.getComponent(Kn))||void 0===t?void 0:t.show(e))}})),function(e){return n.apply(this,arguments)})},{key:"hideLoadingFullScreen",value:(t=r((function*(e){var t;Zn.has(this.inst.showedScreens,e)||(yield null===(t=g("Loading"))||void 0===t||null===(t=t.getComponent(Kn))||void 0===t?void 0:t.hide(e))})),function(e){return t.apply(this,arguments)})},{key:"showLoadingNotificationScreen",value:function(){this.openScreen(Tt.NOTIFICATION_SCREEN,{message:"Loading",enableCloseOnTouch:!1})}},{key:"showTournamentDetailScreen",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.openScreen(Tt.TOURNAMENT_DETAIL_SCREEN,{playAnimation:n,tournament:e,tournamentContextType:t})}},{key:"closeTournamentDetailScreen",value:function(){this.closeScreen(Tt.TOURNAMENT_DETAIL_SCREEN)}}]),e}());A._RF.pop(),A._RF.push({},"d6fb7/+FFxLs7k5w6K38JYb","TournamentUtils",void 0);var Qn=GameCore,Xn=Qn.Utils,$n=Xn.String,ei=Xn.Valid,ti=Xn.Array,ni=Qn.Configs.Mockup.Leaderboards,ii=globalThis.game,ai=ii.leaderboard,ri=ii.player;e("k",function(){function e(){var t=this;i(this,e),this.globalTournamentLBData=[],this.playerTournaments=[],this.tournamentData=[],this.maxTimeRefetch=5e3,this.lastFetchTournamentsData=0,this.lastFetchGlobalTournament=0,this.fetchGlobalTournamentLeaderboardAsync=r((function*(){try{Date.now()-t.lastFetchGlobalTournament>t.maxTimeRefetch&&(t.globalTournamentLBData=yield ai.requestLeaderboardsAsync({limit:100,type:"world_tournament_leaderboard"}),t.globalTournamentLBData.sort((function(e,t){return e.expireTime-t.expireTime})))}catch(e){console.warn("fetchGlobalTournamentLeaderboardAsync",e)}return t.globalTournamentLBData})),this.fetchTournamentsAsync=r((function*(){try{Date.now()-t.lastFetchTournamentsData>t.maxTimeRefetch&&(t.playerTournaments=yield GameSDK.tournament.getTournamentsAsync(),t.playerTournaments.sort((function(e,t){return e.getEndTime()-t.getEndTime()})))}catch(e){console.warn("fetchTournamentsAsync",e)}return t.playerTournaments}))}var t;return a(e,[{key:"processPlayerTournamentData",value:function(){var e,t=[],n=l(this.playerTournaments);try{for(n.s();!(e=n.n()).done;){var i,a,r=e.value,o="".concat(r.getID()),s=r.getContextID(),u=r.getEndTime(),c=this.parseTournamentPayload(r.getPayload());if(this.validateGameSDKTournamentPayload(c))if(!(u<Date.now()/1e3)){var E=r.getTournamentType();if("PAGE_HOSTED"!==E){var _=null!==(i=c.playerName)&&void 0!==i?i:"Player",T={id:o,title:null!==(a=r.getTitle())&&void 0!==a?a:this.createDefaultTournamentName(_),endTime:u,contextId:s,payload:c,tournamentType:E};t.push(T)}}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"processGlobalTournamentLeaderboardData",value:function(){var e=[];if(ni.Enabled){var t,n=l(this.playerTournaments);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,r=a.getTournamentType();if("PAGE_HOSTED"===r){var o="".concat(a.getID()),s=a.getContextID(),u=a.getEndTime(),c=this.parseTournamentPayload(a.getPayload()),E={id:o,title:null!==(i=a.getTitle())&&void 0!==i?i:"Global Tournament",endTime:u,contextId:s,payload:c,tournamentType:r};e.push(E)}}}catch(e){n.e(e)}finally{n.f()}return e}var _,T=l(this.globalTournamentLBData);try{for(T.s();!(_=T.n()).done;){var d,A=_.value,S=void 0;try{S=JSON.parse(A.description)}catch(e){continue}if(this.validateExpireTime(A)&&this.validateGlobalTournamentPayload(S)){var h={id:S.tournamentId,title:A.name,endTime:this.getTournamentEndTime(A),contextId:S.contextId,payload:{playerId:"global",playerName:"global",leaderboardId:A._id,themeId:null!==(d=S.themeId)&&void 0!==d?d:rt.SUMMER},tournamentType:"PAGE_HOSTED"};e.push(h)}}}catch(e){T.e(e)}finally{T.f()}return e}},{key:"validateGlobalTournamentPayload",value:function(e){var t=e.tournamentId,n=e.contextId;return!(!ei.isString(t)||""===t)&&!(!ei.isString(n)||""===n)}},{key:"getTournamentEndTime",value:function(e){var t=new Date(e.createdAt).getTime();return Math.round((1e3*e.expireTime+t)/1e3)}},{key:"validateExpireTime",value:function(e){return 1e3*this.getTournamentEndTime(e)-Date.now()>0}},{key:"validateGameSDKTournamentPayload",value:function(e){return!(!ei.isString(e.playerId)||""===e.playerId)&&(!(!ei.isString(e.playerName)||""===e.playerName)&&!(!ei.isString(e.leaderboardId)||""===e.leaderboardId))}},{key:"createDefaultTournamentName",value:function(e){var t=e.substring(0,7),n="".concat(t.split(" ")[0]||t,"'s Tournament"),i=$n.removeDiacritics(n);return"".concat(i)}},{key:"parseTournamentPayload",value:function(e){if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new e),this._instance}},{key:"requestTournamentDataAsync",value:(t=r((function*(){var t=e.getInstance();yield Promise.all([t.fetchTournamentsAsync(),t.fetchGlobalTournamentLeaderboardAsync()]);var n=t.processPlayerTournamentData(),i=t.processGlobalTournamentLeaderboardData();n.sort((function(e,t){return e.endTime-t.endTime})),i.sort((function(e,t){return e.endTime-t.endTime})),t.tournamentData=[].concat(d(i),d(n));var a,r=l(t.tournamentData);try{for(r.s();!(a=r.n()).done;){var o=a.value.payload.leaderboardId;o&&(ai.isExistLeaderboardId(o)||ai.addLeaderboard({type:"tournament",name:o,autoSortRank:!0,leaderboardId:o}))}}catch(e){r.e(e)}finally{r.f()}return t.tournamentData})),function(){return t.apply(this,arguments)})},{key:"getAllTournamentData",value:function(){return e.getInstance().tournamentData}},{key:"getTournamentDataById",value:function(t){var n=e.getInstance();return ti.search(n.tournamentData,(function(e){return e.id===t}))}},{key:"getPlayerTournamentData",value:function(){var t=e.getInstance(),n=ri.getPlayerId();return t.tournamentData.filter((function(e){return e.payload.playerId===n}))}},{key:"getFriendsTournamentData",value:function(){var t=e.getInstance(),n=ri.getPlayerId();return t.tournamentData.filter((function(e){var t=e.payload;return t.playerId!==n&&"global"!==t.playerId}))}},{key:"getGlobalTournamentData",value:function(){return e.getInstance().tournamentData.filter((function(e){return"global"===e.payload.playerId}))}},{key:"validateTournamentExpired",value:function(t){var n=e.getTournamentDataById(t);return!!n&&n.endTime<Date.now()/1e3}}]),e}());A._RF.pop(),A._RF.push({},"c517dy1TKlPd7mHxulLPv1G","TileSpecialTypes",void 0);e("T",{bomb:"bomb",star:"star",none:"none"});A._RF.pop(),A._RF.push({},"4a4bfX6KIJCcIozlNHuAwoi","AdsUtils",void 0);var oi,si,ui,li,ci,Ei,_i,Ti,di,Ai=GameCore,Si=Ai.Configs,hi=Ai.Plugins.Ads,pi=hi.Types,Ii=hi.Status,vi=Ai.Utils.Array,fi=globalThis.game.ads;e("m",function(){function e(){i(this,e),this.isAvoidBannerShowed=!1}var t,n,o,s;return a(e,[{key:"canbeShowInSDK",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=GameSDK.getSDKName();return(null==t||!t.length||!vi.has(t,n))&&!(null!=e&&e.length&&!vi.has(e,n))}}],[{key:"inst",get:function(){return this._instance||(this._instance=new e),this._instance}},{key:"preloadAds",value:(s=r((function*(){var e=Si.Ads,t=e.Enabled,n=e.InterstitialAdOptions,i=e.RewardedVideoAdOptions,a=e.RewardedInterstitialAdOptions;if(t){var r=pi.INTERSTITIAL,o=pi.REWARDED_VIDEO,s=pi.REWARDED_INTERSTITIAL;n.forEach((function(e){var t=e.PlacementId;fi.loadAdAsync(r,t).catch((function(){}))})),i.forEach((function(e){var t=e.PlacementId;fi.loadAdAsync(o,t).catch((function(){}))})),a.forEach((function(e){var t=e.PlacementId;fi.loadAdAsync(s,t).catch((function(){}))}))}})),function(){return s.apply(this,arguments)})},{key:"setAvoidBannerShowed",value:function(e){this._instance.isAvoidBannerShowed=e}},{key:"showBannerAds",value:function(){var e=this,t=Si.Ads,n=t.Enabled,i=t.BannerDisplayAdOptions;if(n&&!this.inst.isAvoidBannerShowed){var a=K.instance.getVisibleSize(),r=It.worldSizeToCssSize(a.height*Tn);i.forEach((function(t){var n=t.PlacementId,i=t.Position,a=t.BannerHeight;"bottom"===i&&a>r||e.showBannerAd(n)}))}}},{key:"hideBannerAds",value:function(){var e=this,t=Si.Ads,n=t.Enabled,i=t.BannerDisplayAdOptions;n&&i.forEach((function(t){var n=t.PlacementId;e.hideBannerAd(n)}))}},{key:"showBannerAd",value:function(e){this.inst.isAvoidBannerShowed||fi.showBannerAdAsync(e).catch((function(e){}))}},{key:"hideBannerAd",value:function(e){fi.hideBannerAdAsync(e).catch((function(e){}))}},{key:"canShowInterstitialAd",value:function(){var e=fi.getAdStatus(pi.INTERSTITIAL)===Ii.FILLED;return fi.canbeShowInterstitialAd()&&e}},{key:"canShowRewardedVideoAd",value:function(){return fi.getAdStatus(pi.REWARDED_VIDEO)===Ii.FILLED}},{key:"canShowRewardedInterstitialAd",value:function(){return fi.getAdStatus(pi.REWARDED_INTERSTITIAL)===Ii.FILLED}},{key:"showInterstitialAdAsync",value:(o=r((function*(e){var t=e.forLevel,n=e.includeSDK,i=e.excludeSDK;if(!this.inst.canbeShowInSDK(n,i))return!1;if(t&&Si.Gameplay.StartAdAtLevel>=t)return!1;if(!fi.canbeShowInterstitialAd())return!1;var a=pt.getVolumeMusic();try{return pt.muteSound(!0),pt.setVolumeMusic(0,!0),fi.getAdStatus(pi.INTERSTITIAL)===Ii.FILLED&&(yield fi.showAdAsync(pi.INTERSTITIAL)),!0}catch(e){return console.warn("showInterstitialAdAsync failed",e),!1}finally{W.resume(),pt.muteAudio(!1),pt.setVolumeMusic(a,!0),fi.loadAdAsync(pi.INTERSTITIAL).catch((function(){}))}})),function(e){return o.apply(this,arguments)})},{key:"showRewardVideoAdAsync",value:(n=r((function*(e){var t=e.includeSDK,n=e.excludeSDK;if(!this.inst.canbeShowInSDK(t,n))return!1;var i=pt.getVolumeMusic();try{return pt.muteSound(!0),pt.setVolumeMusic(0,!0),fi.getAdStatus(pi.REWARDED_VIDEO)!==Ii.FILLED&&(Jn.showLoadingScreen(),yield fi.loadAdAsync(pi.REWARDED_VIDEO)),yield fi.showAdAsync(pi.REWARDED_VIDEO),!0}catch(e){return console.warn("showRewardVideoAdAsync failed",e),e instanceof Object&&"code"in e&&"USER_INPUT"===e.code?Jn.showNotificationScreenWithLocalizedKey("ads.cancelled",2):Jn.showNotificationScreenWithLocalizedKey("error.noAd",2),!1}finally{W.resume(),Jn.closeLoadingScreen(),pt.muteAudio(!1),pt.setVolumeMusic(i,!0),fi.loadAdAsync(pi.REWARDED_VIDEO).catch((function(){}))}})),function(e){return n.apply(this,arguments)})},{key:"showRewardedInterstitialAdAsync",value:(t=r((function*(e){var t=e.includeSDK,n=e.excludeSDK;if(!this.inst.canbeShowInSDK(t,n))return!1;var i=pt.getVolumeMusic();try{return pt.muteSound(!0),pt.setVolumeMusic(0,!0),fi.getAdStatus(pi.REWARDED_INTERSTITIAL)!==Ii.FILLED&&(Jn.showLoadingScreen(),yield fi.loadAdAsync(pi.REWARDED_INTERSTITIAL)),yield fi.showAdAsync(pi.REWARDED_INTERSTITIAL),!0}catch(e){return console.warn("showRewardedInterstitialAdAsync failed",e),!1}finally{W.resume(),Jn.closeLoadingScreen(),pt.muteAudio(!1),pt.setVolumeMusic(i,!0),fi.loadAdAsync(pi.REWARDED_INTERSTITIAL).catch((function(){}))}})),function(e){return t.apply(this,arguments)})}]),e}());A._RF.pop(),A._RF.push({},"acb0egHPppFmYJalVNrDDv/","BaseScreen",void 0);var Ri,Li,mi,yi,Ni,gi=I.ccclass,Fi=I.property,Oi=I.disallowMultiple,Ci=GameCore.Events,Gi=globalThis.game.event;e("B",(oi=gi("BaseScreen"),si=Fi(Y),ui=Fi(Y),li=Fi(x),oi(ci=Oi((_i=o((Ei=function(e){t(o,e);var r=n(o);function o(){var e;i(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),s(e,"container",_i,u(e)),s(e,"backgroundMask",Ti,u(e)),s(e,"screenOpacity",di,u(e)),e.data={},e}return a(o,[{key:"__preload",value:function(){this.animation=this.getComponent(m),this.backgroundMaskButton=this.backgroundMask.getComponent(q),this.validateRequiredComponents(),this.initializeNodes()}},{key:"initializeNodes",value:function(){var e=this.getMaskOpacity(),t=this.getContainerOpacity();e&&t&&(e.opacity=0,t.opacity=0)}},{key:"validateRequiredComponents",value:function(){qe.lazyValidateProperties(this)}},{key:"setScreenOpacity",value:function(e){this.screenOpacity.opacity=e}},{key:"open",value:function(e){var t,n;e&&(this.data=e),this.show(),this.runAnimation(null!==(t=null===(n=this.data.overrideAnimation)||void 0===n?void 0:n.openScreen)&&void 0!==t?t:"OpenScreen")}},{key:"close",value:function(){var e,t,n=this;this.node.active&&(this.animation.once(m.EventType.FINISHED,(function(){Gi.emit(Ci.CLOSED_SCREEN,{screenName:n.node.name}),n.hide()})),this.runAnimation(null!==(e=null===(t=this.data.overrideAnimation)||void 0===t?void 0:t.closeScreen)&&void 0!==e?e:"CloseScreen"))}},{key:"runAnimation",value:function(e){if(!this.isAnimationExist(e))throw new Error("".concat(this.node.name,": Animation component must have ").concat(e," clip"));this.animation.play(e)}},{key:"isAnimationExist",value:function(e){return this.animation.clips.some((function(t){return!(!t||t.name!==e)}))}},{key:"getMaskOpacity",value:function(){var e=this.backgroundMask.getComponent(x);return e||(console.warn("BaseScreen: maskOpacity not found"),null)}},{key:"getContainerOpacity",value:function(){var e=this.container.getComponent(x);return e||(console.warn("BaseScreen: containerOpacity not found"),null)}},{key:"show",value:function(){this.setScreenOpacity(255);var e=this.node.getComponent(j);if(e){e.enabled=!0,e.updateAlignment();var t,n=this.node.getComponentsInChildren(j),i=l(n);try{for(i.s();!(t=i.n()).done;){t.value.updateAlignment()}}catch(e){i.e(e)}finally{i.f()}}}},{key:"hide",value:function(){this.setScreenOpacity(0),this.node.setWorldPosition(new Z(-1e3,-1e3,0));var e=this.node.getComponent(j);e&&(e.enabled=!1)}}]),o}(R)).prototype,"container",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ti=o(Ei.prototype,"backgroundMask",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=o(Ei.prototype,"screenOpacity",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ci=Ei))||ci)||ci));A._RF.pop(),A._RF.push({},"d25c5ZVzYVC/YcfG5prmRdB","Screens",void 0);var Vi=I.ccclass,Mi=I.property;e("H",(Ri=Vi("Screens"),Li=Mi({type:k(Tt)}),Ri((Ni=o((yi=function(e){t(o,e);var r=n(o);function o(){var e;i(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),s(e,"screenKeys",Ni,u(e)),e}return a(o)}(R)).prototype,"screenKeys",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mi=yi))||mi));A._RF.pop(),A._RF.push({},"d21cb1yOpdMOJOXDQb3KWCE","renderCustomInviteScore",void 0);var Bi=GameCore,bi=Bi.Configs,Pi=Bi.Utils.Object,wi=bi.FrameCapture,ki=wi.Enabled,Ui=wi.WideframeConfigs,Di=(e("w",function(){var e=r((function*(e){if(!ki)return console.warn("FrameCapture is not enabled"),null;var t=Wi(e);if(!t)return null;Di(t,Ui.InviteScore);var n=window.game.frameCapture,i=Ui.InviteScore,a=i.Width,r=i.Height;return n.captureAsync({name:"InviteScore",width:a,height:r,renderOptions:t})}));return function(t){return e.apply(this,arguments)}}()),function(e,t){var n=t.Width,i=t.Height,a=t.Wideframe;e.wideframe={name:"invite-score",type:"image",depth:0,image:a,size:[n,i],position:[0,0]}}),Wi=function(e){try{var t=e.playerId,n=e.playerPhoto,i=e.playerScore,a=Ui.InviteScore.RenderOptions,r=Pi.clone(a);if(!r)return null;var o=Pi.clear(r),s=Pi.camelCaseKeys(o);console.log("renderOptions",s);var u=s.avatar,l=s.playerScore;return"image"===u.type&&(u.name="".concat(t),u.image=n),"text"===l.type&&(l.text="".concat(i)),s}catch(e){return console.warn("getRenderOptionsInviteScore",e),null}};A._RF.pop(),A._RF.push({},"52eeeMWZe5Ma5u9x4Jk6Zw2","renderCustomShareScore",void 0);var Hi=GameCore,xi=Hi.Configs.FrameCapture,zi=xi.Enabled,Ki=xi.WideframeConfigs,Yi=Hi.Utils,qi=Yi.Object,ji=Yi.Valid,Zi=(e("v",function(){var e=r((function*(e){if(!zi)return console.warn("FrameCapture is not enabled"),null;var t=Ji(e);if(!t)return null;Zi(t,Ki.ShareScore);var n=window.game.frameCapture,i=Ki.ShareScore,a=i.Width,r=i.Height;return n.captureAsync({name:"ShareScore",width:a,height:r,renderOptions:t})}));return function(t){return e.apply(this,arguments)}}()),function(e,t){var n=t.Width,i=t.Height,a=t.Wideframe;e.wideframe={name:"share-score",type:"image",depth:0,image:a,size:[n,i],position:[0,0]}}),Ji=function(e){try{var t=globalThis.game.language,n=e.playerId,i=e.playerPhoto,a=e.playerScore,r=Ki.ShareScore.RenderOptions,o=qi.clone(r);if(!o)return null;var s=qi.clear(o),u=qi.camelCaseKeys(s);ji.isDebugger()&&console.log("renderOptions",u);var l=u.avatar,c=u.playerScore,E=u.message,_=t.getCurrentLocale(),T=je[_],d="".concat(T.split("/")[1],"_LABEL");if("text"===(null==E?void 0:E.type)){var A,S=t.hasTextKey(E.text,_)?E.text:"share.canYouDoBetter",h=t.getText(S),p=null!==(A=Je[_])&&void 0!==A?A:"104px";E.text=h,E.font=T?"".concat(E.font," ").concat(p," ").concat(d,","):E.font}return"image"===l.type&&(l.name="".concat(n),l.image=i),"text"===c.type&&(c.text="".concat(a),c.font=T?"".concat(c.font," ").concat(d,","):c.font),u}catch(e){return ji.isDebugger()&&console.warn("getRenderOptionsShareScore",e),null}};A._RF.pop()}}}));

System.register("chunks:///rollupPluginModLoBabelHelpers-487c63b6.js",[],(function(e){return{execute:function(){function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e,t,r,n,o,i,u){try{var c=e[i](u),f=c.value}catch(e){return void r(e)}c.done?t(f):Promise.resolve(f).then(n,o)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function o(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(t){return(i=e("j",Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)}))(t)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(t,r,n){return(f=c()?e("q",Reflect.construct.bind()):e("q",(function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}))).apply(null,arguments)}function l(t){var r="function"==typeof Map?new Map:void 0;return(l=e("o",(function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return f(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})))(t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?e("i",Reflect.get.bind()):e("i",(function(e,t,r){var n=y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}))).apply(this,arguments)}function s(e,t,r,n){return(s="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var i,u=y(e,t);if(u){if((i=Object.getOwnPropertyDescriptor(u,t)).set)return i.set.call(n,r),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(n,t)){if(!i.writable)return!1;i.value=r,Object.defineProperty(n,t,i)}else o(n,t,r);return!0})(e,t,r,n)}function v(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}e({_:function(e,t,r,n,o){var i={};Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null);return i},a:function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)},b:function(e){var t=c();return function(){var r,n=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}},c:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d:function(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},e:a,f:function(e,t,r){t&&n(e.prototype,t);r&&n(e,r);return Object.defineProperty(e,"prototype",{writable:!1}),e},g:function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},h:function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}},i:b,j:i,k:function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var u=e.apply(t,n);function c(e){r(u,o,i,c,f,"next",e)}function f(e){r(u,o,i,c,f,"throw",e)}c(void 0)}))}},l:function(e,t,r,n,o){if(!s(e,t,r,n||e)&&o)throw new TypeError("failed to set property");return r},m:function(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},n:o,o:l,p:function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],f=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(e){l=!0,o=e}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},q:f})}}}));

} }; });